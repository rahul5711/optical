<section class="content">
    <div class="container-fluid">
        <div class="block-header">
            <div class="row"></div>
        </div>
        <div class="row clearfix">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="card">
                    <div class="header ms-auto">
                        <ul class="header-dropdown ">
                           
                        </ul>
                    </div>
                    <div class="body ">
                        <form #f="ngForm" autocomplete="off">
                            <form #settingForm="ngForm">
                                <!-- Tabs navs -->
                                <ul class="nav nav-tabs mb-3 " id="ex1" role="tablist">
                                    <li class="nav-item w-25 w-sm-100" role="presentation">
                                        <a class="nav-link active" id="ex1-tab-1" data-mdb-toggle="tab"
                                            href="#ex1-tabs-1" role="tab" aria-controls="ex1-tabs-1"
                                            aria-selected="true"
                                            (click)="PatientRecordList('Comprehensive')">COMPREHENSIVE EYE EXAM</a>
                                    </li>
                                    <li class="nav-item w-25 w-sm-100" role="presentation">
                                        <a class="nav-link" id="ex1-tab-2" data-mdb-toggle="tab" href="#ex1-tabs-2"
                                            role="tab" aria-controls="ex1-tabs-2" aria-selected="false"
                                            (click)="PatientRecordList('Binocular')">BINOCULAR VISION
                                            ASSESSMENT</a>
                                    </li>
                                    <li class="nav-item w-25 w-sm-100" role="presentation">
                                        <a class="nav-link" id="ex1-tab-3" data-mdb-toggle="tab" href="#ex1-tabs-3"
                                            role="tab" aria-controls="ex1-tabs-3" aria-selected="false"
                                            (click)="PatientRecordList('Contact')">CONTACT LENS</a>
                                    </li>
                                    <li class="nav-item w-25 w-sm-100" role="presentation">
                                        <a class="nav-link" id="ex1-tab-4" data-mdb-toggle="tab" href="#ex1-tabs-4"
                                            role="tab" aria-controls="ex1-tabs-4" aria-selected="false"
                                            (click)="PatientRecordList('lowVision')">Low Vision</a>
                                    </li>
                                </ul>
                                <!-- Tabs navs -->

                                <div class="tab-content" id="ex1-content">
                                    <div class="tab-pane fade show active" id="ex1-tabs-1" role="tabpanel"
                                        aria-labelledby="ex1-tab-1">
                                        <form #f="ngForm" autocomplete="off">
                                            <div class="row">
                                                <div class="col-xl-3 col-lg-3 col-md-6 col-6">
                                                    <mat-form-field class="example-full-width mb-0">
                                                        <mat-label>Reason for visit</mat-label>
                                                        <input matInput name="Reasonforvisit"
                                                            [(ngModel)]="masterObject.Comprehensive.Reasonforvisit"
                                                            #Reasonforvisitcontrol />
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-xl-3 col-lg-3 col-md-6 col-6">
                                                    <mat-form-field class="example-full-width mb-0">
                                                        <mat-label>Occupation</mat-label>
                                                        <input matInput name="Occupation"
                                                            [(ngModel)]="masterObject.Comprehensive.Occupation"
                                                            #Occupationcontrol />
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-xl-3 col-lg-2 col-md-6 col-6">
                                                    <mat-form-field class="example-full-width mb-0">
                                                        <mat-label>Near working hours</mat-label>
                                                        <input matInput name="Nearworkinghours"
                                                            [(ngModel)]="masterObject.Comprehensive.Nearworkinghours"
                                                            #Nearworkinghourscontrol />
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-xl-2 col-lg-2 col-md-4 col-4">
                                                    <mat-form-field class="example-full-width mb-0">
                                                        <mat-label>Break Frequency during near work</mat-label>
                                                        <input matInput name="BreakFrequencyduringnearwork"
                                                            [(ngModel)]="masterObject.Comprehensive.BreakFrequencyduringnearwork"
                                                            #BreakFrequencyduringnearworkcontrol />
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-xl-1 col-lg-1 col-md-2 col-2 ms-auto ">
                                                    <button type="button" mat-raised-button color="primary"
                                                        (click)="NewVisit('Comprehensive')">New Visit</button>
                                                       
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>C/O</label> <br>
                                                            <select class="inputWs" name="Co" [(ngModel)]="co.Co" #Cocontrol>
                                                                <option value="Headache">Headache</option>
                                                                <option value="Irritation">Irritation</option>
                                                                <option value="Watering">Watering</option>
                                                                <option value="Pain behind eyes">Pain behind eyes</option>
                                                                <option value="eye fatigue">eye fatigue</option>
                                                                <option value="Regular checkup">Regular checkup</option>
                                                                <option value="Redness">Redness</option>
                                                                <option value="Eye Pain">Eye Pain</option>
                                                                <option value="Blurr Vision">Blurr Vision</option>
                                                                <option value="Double Vision">Double Vision</option>
                                                                <option value="Stye">Stye</option>
                                                                <option value="Chalazion">Chalazion</option>
                                                                <option value="Light Sensitivity">Light Sensitivity</option>
                                                                <option value="Dryness">Dryness</option>
                                                                <option value="Shadowing">Shadowing</option>
                                                                <option value="Itching">Itching</option>
                                                                <option value="Discharge">Discharge</option>
                                                                <option value="Swelling">Swelling</option>
                                                                <option value="Other">Other</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="coText" class="form-label"></label> <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="Cotext"
                                                                    [(ngModel)]="co.CoText" #Cotextcontrol
                                                                    (keydown.enter)="AddItam('CO')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('CO')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let co of masterObject.Comprehensive.coList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon (click)="tempDelete('Co', i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{co.Co}}</td>
                                                                            <td class="text-left">{{co.CoText }}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="col-xxl-3 col-xl-3 col-lg-4  col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Ocular History</label> <br>
                                                            <select class="inputWs" name="OcularHistory"
                                                                    [(ngModel)]="ocularHistory.OcularHistory"
                                                                    #OcularHistorycontrol>
                                                                <option value="Cataract">Cataract</option>
                                                                <option value="Galucoma">Galucoma</option>
                                                                <option value="Retinal Detachment">Retinal Detachment</option>
                                                                <option value="Retinitis Pigmentosa">Retinitis Pigmentosa</option>
                                                                <option value="Conjunctivitis">Conjunctivitis</option>
                                                                <option value="Pytergium">Pytergium</option>
                                                                <option value="Pinguecula">Pinguecula</option>
                                                                <option value="ARMD">ARMD</option>
                                                                <option value="Diabetic Retinopathy">Diabetic Retinopathy</option>
                                                                <option value="Hypertensive Retinopathy">Hypertensive Retinopathy</option>
                                                                <option value="Dry eye">Dry eye</option>
                                                                <option value="Blepharitis">Blepharitis</option>
                                                                <option value="Amblyopia">Amblyopia</option>
                                                                <option value="Floaters">Floaters</option>
                                                                <option value="Recurrent Stye">Recurrent Stye</option>
                                                                <option value="CRAO">CRAO</option>
                                                                <option value="CRVO">CRVO</option>
                                                                <option value="BRAO">BRAO</option>
                                                                <option value="BRVO">BRVO</option>
                                                                <option value="Ocular Albinisim">Ocular Albinisim</option>
                                                                <option value="Bell's Palsy">Bell's Palsy</option>
                                                                <option value="CSCR">CSCR</option>
                                                                <option value="CME">CME</option>
                                                                <option value="Color Blindness">Color Blindness</option>
                                                                <option value="Corneal Ulcer">Corneal Ulcer</option>
                                                                <option value="Uveitis">Uveitis</option>
                                                                <option value="Ptosis">Ptosis</option>
                                                                <option value="Keratoconus">Keratoconus</option>
                                                                <option value="Keratitis">Keratitis</option>
                                                                <option value="Macular Edema">Macular Edema</option>
                                                                <option value="Nystagmus">Nystagmus</option>
                                                                <option value="Optic Neuritis">Optic Neuritis</option>
                                                                <option value="Twitching">Twitching</option>
                                                                <option value="Surgery">Surgery</option>
                                                                <option value="Other">Other</option>
                                                                <option value="None">None</option>
                                                            </select>

                                                        </div>

                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="OcularHistoryText" class="form-label"></label>
                                                            <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="OcularHistoryText"
                                                                    [(ngModel)]="ocularHistory.OcularHistoryText"
                                                                    #OcularHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('OcularHistory')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('OcularHistory')">Add</button>
                                                            </div>
                                                        </div>

                                                        <div class="col-12 mt-2" style="overflow: auto; height: 100px;">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let oh of masterObject.Comprehensive.ocularHistoryList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('OcularHistory' , i)"
                                                                                    class="delete_iconO">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{oh.OcularHistory}}
                                                                            </td>
                                                                            <td class="text-left">{{oh.OcularHistoryText
                                                                                }}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4  col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Systemic History</label> <br>
                                                            <select class="inputWs" name="SystemicHistory"
                                                                    [(ngModel)]="systemicHistory.SystemicHistory"
                                                                    #SystemicHistorycontrol>
                                                                <option value="Diabetics Type I">Diabetics Type I</option>
                                                                <option value="Diabetics Type II">Diabetics Type II</option>
                                                                <option value="Hypertension">Hypertension</option>
                                                                <option value="Hypotension">Hypotension</option>
                                                                <option value="Hyperthyroidism">Hyperthyroidism</option>
                                                                <option value="Hypothyroidism">Hypothyroidism</option>
                                                                <option value="Thyroid">Thyroid</option>
                                                                <option value="Asthma">Asthma</option>
                                                                <option value="Arthritis">Arthritis</option>
                                                                <option value="Migrane">Migrane</option>
                                                                <option value="Sinus">Sinus</option>
                                                                <option value="Anemia">Anemia</option>
                                                                <option value="Congential">Congential</option>
                                                                <option value="Autoimmune">Autoimmune</option>
                                                                <option value="Other">Other</option>
                                                                <option value="None">None</option>
                                                            </select>

                                                        </div>

                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="SystemicHistoryText" class="form-label"></label>
                                                            <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="SystemicHistoryText"
                                                                    [(ngModel)]="systemicHistory.SystemicHistoryText"
                                                                    #SystemicHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('SystemicHistory')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('SystemicHistory')">Add</button>
                                                            </div>
                                                        </div>

                                                        <div class="col-12 mt-2" style="overflow: auto; height: 100px;">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let sh of masterObject.Comprehensive.systemicHistoryList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('systemicHistoryList', i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{sh.SystemicHistory}}
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{sh.SystemicHistoryText }}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4  col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Family History</label> <br>
                                                            <select class="inputWs" name="FamilySystmeicHistory"
                                                                [(ngModel)]="familySystmeic.FamilySystmeicHistory"
                                                                #FamilySystmeicHistorycontrol>
                                                                <option value='Glaucoma'>Glaucoma</option>
                                                                <option value='Myopia'>Myopia</option>
                                                                <option value='Other'>Other</option>
                                                                <option value='None'>None</option>
                                                            </select>
                                                        </div>

                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="SystemicHistoryText" class="form-label"></label>
                                                            <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="FamilySystmeicHistoryText"
                                                                    [(ngModel)]="familySystmeic.FamilySystmeicHistoryText"
                                                                    #FamilySystmeicHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('FamilySystmeic')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('FamilySystmeic')">Add</button>


                                                            </div>
                                                        </div>

                                                        <div class="col-12 mt-2" style="overflow: auto; height: 100px;">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let fsh of masterObject.Comprehensive.familySystmeicList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('familySystmeicList', i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{fsh.FamilySystmeicHistory}}
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{fsh.FamilySystmeicHistoryText }}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4  col-md-6 col-12 mt-3">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Birth History</label> <br>
                                                            <select class="inputWs" name="BirthHistory"
                                                                [(ngModel)]="BirthHistory.BirthHistory"
                                                                #BirthHistorycontrol>
                                                                <option value='Normal'>Normal</option>
                                                                <option value='C-Section'>C-Section</option>
                                                                <option value='PRE-Mature'>PRE-Mature</option>
                                                            </select>
                                                        </div>

                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="OcularHistoryText" class="form-label"></label>
                                                            <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="BirthHistoryText"
                                                                    [(ngModel)]="BirthHistory.BirthHistoryText"
                                                                    #BirthHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('BirthHistory')" />

                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('BirthHistory')">Add</button>
                                                            </div>
                                                        </div>

                                                        <div class="col-12 mt-2" style="overflow: auto; height: 100px;">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let bh of masterObject.Comprehensive.birthHistoryList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('birthHistoryList', i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{bh.BirthHistory}}
                                                                            </td>
                                                                            <td class="text-left">{{bh.BirthHistoryText
                                                                                }}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4  col-md-6 col-12 mt-3">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Social History</label> <input type="checkbox"
                                                                    id="SocialHistoryCheck" name="SocialHistoryCheck"
                                                                    value="SocialHistoryCheck"
                                                                    [(ngModel)]="masterObject.Comprehensive.SocialHistoryCheck"> <br>
                                                            <select class="inputWs" name="SocialHistory"
                                                                [(ngModel)]="socialHistory.SocialHistory"
                                                                #SocialHistorycontrol>
                                                                <option value='Smoking'>Smoking</option>
                                                                <option value='Alcohol'>Alcohol</option>
                                                                <option value='Tobacco'>Tobacco</option>
                                                                <option value='Other'>Other</option>
                                                            </select>
                                                        </div>

                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="OcularHistoryText" class="form-label"></label>
                                                            <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="SocialHistoryText"
                                                                    [(ngModel)]="socialHistory.SocialHistoryText"
                                                                    #SocialHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('SocialHistory')" />

                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('SocialHistory')">Add</button>
                                                            </div>
                                                        </div>

                                                        <div class="col-12 mt-2" style="overflow: auto; height: 100px;">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let shl of masterObject.Comprehensive.socialHistoryList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('socialHistoryList', i)"
                                                                                    class="delete_iconO">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{shl.SocialHistory}}
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{shl.SocialHistoryText }}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="col-xxl-4 col-xl-4 col-lg-6  col-md-`2 col-12 mt-3">
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-12">
                                                            <label>Previous Glass Prescription</label> <br>
                                                            <select class="inputWs" name="PreviousGlassPrescription"
                                                                [(ngModel)]="masterObject.Comprehensive.PreviousGlassPrescription"
                                                                #PreviousGlassPrescriptioncontrol>
                                                                <option value='None'>None</option>
                                                                <option value='SV'>SV</option>
                                                                <option value='Progressive'>Progressive </option>
                                                                <option value='Bifocal'>Bifocal</option>
                                                            </select>
                                                        </div>




                                                        <div class="col-12 mt-2"
                                                            *ngIf="masterObject.Comprehensive.PreviousGlassPrescription != 'None'"
                                                            style="overflow: auto; height: 100px; border: 1px solid; margin: 0 13px;">
                                                            <table>
                                                                <tr class="mobbtnP" style="width:100%">
                                                                    <th></th>
                                                                    <th>SPH</th>
                                                                    <th>CYL</th>
                                                                    <th>Axis</th>
                                                                    <th>VA</th>
                                                                    <th  *ngIf="masterObject.Comprehensive.PreviousGlassPrescription != 'SV'">Add</th>
                                                                </tr>
                                                                <tr class="mobbtnP" style="width:100%">
                                                                    <th>
                                                                        RE
                                                                    </th>
                                                                    <td>
                                                                        <input class="inputW" type="text" name="REDPSPH_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.REDPSPH"
                                                                            id="REDPSPH" list="dpsphList">
                                                                        <datalist id="dpsphList">
                                                                            <option [value]="d.Name"
                                                                                *ngFor="let d of dataSPH">
                                                                                {{d.Name}}</option>
                                                                        </datalist>
                                                                    </td>
                                                                    <td>
                                                                        <input class="inputW" type="text" name="REDPCYL_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.REDPCYL"
                                                                            id="REDPCYL" list="dpcylList">
                                                                        <datalist id="dpcylList">
                                                                            <option [value]="c.Name"
                                                                                *ngFor="let c of dataCYL">
                                                                                {{c.Name}} </option>
                                                                        </datalist>
                                                                    </td>
                                                                    <td>
                                                                        <input class="inputW" name="REDPAxis_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.REDPAxis">
                                                                    </td>
                                                                    <td>
                                                                        <input class="inputW" name="REDPVA_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.REDPVA"
                                                                            id="REDPVA" list="dpvaList" />
                                                                        <datalist id="dpvaList">
                                                                            <option [value]="d.Name"
                                                                                *ngFor="let d of dataPVA">
                                                                                {{d.Name}}
                                                                            </option>
                                                                        </datalist>
                                                                    </td>

                                                                    <td  *ngIf="masterObject.Comprehensive.PreviousGlassPrescription != 'SV'">
                                                                        <input class="inputW" name="REDPAdd_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.REDPAdd_R" />
                                                                    </td>
                                                                </tr>
                                                                <tr class="mobbtnP pt-md-3 pt-1" style="width:100%">
                                                                    <th>
                                                                        LE
                                                                    </th>
                                                                    <td>
                                                                        <input class="inputW" type="text" name="LEDPSPH_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.LEDPSPH"
                                                                            id="LEDPSPH" list="dpsphList">
                                                                        <datalist id="dpsphList">
                                                                            <option [value]="d.Name"
                                                                                *ngFor="let d of dataSPH">
                                                                                {{d.Name}} </option>
                                                                        </datalist>
                                                                    </td>
                                                                    <td>
                                                                        <input class="inputW " type="text"
                                                                            name="LEDPCYL_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.LEDPCYL"
                                                                            id="LEDPCYL" list="dpcylList">
                                                                        <datalist id="dpcylList">
                                                                            <option [value]="c.Name"
                                                                                *ngFor="let c of dataCYL">
                                                                                {{c.Name}} </option>
                                                                        </datalist>
                                                                    </td>
                                                                    <td>
                                                                        <input class="inputW" name="LEDPAxis_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.LEDPAxis">
                                                                    </td>
                                                                    <td>
                                                                        <input class="inputW" type="text" name="LEDPVA_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.LEDPVA"
                                                                            id="LEDPVA" list="dpvaList">
                                                                        <datalist id="dpvaList">
                                                                            <option [value]="d.Name"
                                                                                *ngFor="let d of dataPVA">
                                                                                {{d.Name}} </option>
                                                                        </datalist>
                                                                    </td>
                                                                    <td  *ngIf="masterObject.Comprehensive.PreviousGlassPrescription != 'SV'">
                                                                        <input class="inputW" name="LEDPAdd_PGC"
                                                                            [(ngModel)]="masterObject.Comprehensive.PreviousGlassPWR.LEDPAdd_L" />
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>






                                            <div class="row heads mt-3">
                                                <div class="col-12 pt-2" class="text-center">
                                                    <h1 style="color:red; font-weight: 600;">Optometric Examination </h1>
                                                </div>
                                            </div>

                                            <!-- <div class="row">
                                                <div class="col-xl-6 col-lg-6 col-md-12 col-12">
                                                    <h4 class="OEx-h4 d-flex " style="white-space: nowrap;">Visual
                                                        Acuity <input class="inputW ms-3" type="text"
                                                            name="VisualAcuity"
                                                            [(ngModel)]="masterObject.Comprehensive.VisualAcuity"
                                                            #VisualAcuitycontrol></h4>
                                                </div>
                                            </div> -->
                                            <div class="row pb-2">
                                                <div class="col-12">
                                                    <h4 class="OEx-h4">Visual Acuity Unaided</h4>
                                                </div>
                                                <div class="col-xxl-3 col-xl-4 col-lg-5 col-md-6 col-12"
                                                    style="overflow: auto; height: 150px;">

                                                    <table>
                                                        <tr class="mobbtn2" style="width:100%">
                                                            <th></th>
                                                            <th>Distance</th>
                                                            <th>Near</th>
                                                        </tr>
                                                        <tr class="mobbtn2" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPVA_UC"
                                                                    [(ngModel)]="masterObject.Comprehensive.Unaided.REDPVA"
                                                                    id="REDPVA" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>

                                                                <input class="inputW" type="text" name="RENPVA_UC"
                                                                    [(ngModel)]="masterObject.Comprehensive.Unaided.RENPVA"
                                                                    id="RENPVA" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>

                                                        </tr>
                                                        <tr class="mobbtn2 pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPVA_UC"
                                                                    [(ngModel)]="masterObject.Comprehensive.Unaided.LEDPVA"
                                                                    id="LEDPVA" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW " type="text" name="LENPVA_UC"
                                                                    [(ngModel)]="masterObject.Comprehensive.Unaided.LENPVA"
                                                                    id="LENPVA" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                        </tr>
                                                        <tr class="mobbtn2 pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                BE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="BEDPVA_UC"
                                                                    [(ngModel)]="masterObject.Comprehensive.Unaided.BEDPVA"
                                                                    id="BEDPVA" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="BENPVA_UC"
                                                                    [(ngModel)]="masterObject.Comprehensive.Unaided.BENPVA"
                                                                    id="BENPVA" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                                </div>
                                                <div class="row">
                                                <div class="col-xxl-5 col-xl-6 col-lg-7 col-md-11 col-12 pb-2 ms-3"
                                                    style="border:1px solid;">
                                                    <div class="row">
                                                        <div class="col-3">
                                                            <h4 class="OEx-h4">Auto Refractometer </h4>
                                                        </div>

                                                        <div class="col-3">
                                                            <h4 class="OEx-h4">Retinoscopy <input type="checkbox"
                                                                    id="Retinoscopy" name="Retinoscopy"
                                                                    value="Retinoscopy"
                                                                    (click)="checkChange('Retinoscopy')"
                                                                    [(ngModel)]="masterObject.Comprehensive.Retinoscopy">
                                                            </h4>
                                                        </div>
                                                        <div class="col-3">
                                                            <h4 class="OEx-h4">Cycloplegia <input type="checkbox"
                                                                    id="Cycloplegia" name="Cycloplegia"
                                                                    value="Cycloplegia"
                                                                    (click)="checkChange('Cycloplegia')"
                                                                    [(ngModel)]="masterObject.Comprehensive.Cycloplegia">
                                                            </h4>
                                                        </div>
                                                        <div class="col-3">
                                                            <h4 class="OEx-h4">Post-Mydriatic <input type="checkbox"
                                                                    id="Post-Mydriatic" name="PostMydriatic"
                                                                    value="PostMydriatic"
                                                                    (click)="checkChange('PostMydriatic')"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriatic">
                                                            </h4>
                                                        </div>
                                                    </div>
                                                    <table>
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th></th>
                                                            <th>SPH</th>
                                                            <th>CYL</th>
                                                            <th>Axis</th>
                                                            <th>H_KValue</th>
                                                            <th>V_KValue</th>
                                                        </tr>
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPSPHA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.REDPSPH"
                                                                    id="REDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}}</option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPCYLA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.REDPCYL"
                                                                    id="REDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.REDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="RE_KHA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.RE_KH">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="RE_KVA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.RE_KV">
                                                            </td>
                                                        </tr>
                                                        <tr class="mobbtn1 pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPSPHA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.LEDPSPH"
                                                                    id="LEDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW " type="text" name="LEDPCYLA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.LEDPCYL"
                                                                    id="LEDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LEDPAxisA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.LEDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LE_KHA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.LE_KH">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LE_KVA"
                                                                    [(ngModel)]="masterObject.Comprehensive.Autorefractomer.LE_KV">
                                                            </td>
                                                        </tr>
                                                    </table>

                                                    <table *ngIf="masterObject.Comprehensive.Retinoscopy == true"
                                                        class="pt-2">
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th></th>
                                                            <th>SPH</th>
                                                            <th>CYL</th>
                                                            <th>Axis</th>
                                                        </tr>
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPSPHR"
                                                                    [(ngModel)]="masterObject.Comprehensive.RetinoscopyPWR.REDPSPH"
                                                                    id="REDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}}</option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPCYLR"
                                                                    [(ngModel)]="masterObject.Comprehensive.RetinoscopyPWR.REDPCYL"
                                                                    id="REDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisR"
                                                                    [(ngModel)]="masterObject.Comprehensive.RetinoscopyPWR.REDPAxis">
                                                            </td>

                                                        </tr>
                                                        <tr class="mobbtn1 pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPSPHR"
                                                                    [(ngModel)]="masterObject.Comprehensive.RetinoscopyPWR.LEDPSPH"
                                                                    id="LEDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW " type="text" name="LEDPCYLR"
                                                                    [(ngModel)]="masterObject.Comprehensive.RetinoscopyPWR.LEDPCYL"
                                                                    id="LEDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LEDPAxisR"
                                                                    [(ngModel)]="masterObject.Comprehensive.RetinoscopyPWR.LEDPAxis">
                                                            </td>

                                                        </tr>
                                                    </table>
                                                 </div>
                                                </div>


                                                <div class="row mt-3">
                                                <div *ngIf="masterObject.Comprehensive.Cycloplegia == true"
                                                    class="col-xxl-5 col-xl-6 col-lg-7 col-md-11 col-12 pb-2 ms-3"
                                                    style="border:1px solid">
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <h4 class="OEx-h4">Cycloplegia <input type="date"
                                                                    name="CycloplegiaDate"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.CycloplegiaDate">
                                                            </h4>
                                                        </div>
                                                        <div class="col-6 ms-auto d-flex ps-4">

                                                            <label class="me-2">Under Cycloplegia</label>
                                                            <select name="UnderCycloplegia"
                                                                [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.UnderCycloplegia"
                                                                #UnderCycloplegiacontrol style="height: 25px;">
                                                                <option value='Atropine'>Atropine</option>
                                                                <option value='Homatropine'>Homatropine</option>
                                                                <option value='Cyclopentolate'>Cyclopentolate</option>
                                                                <option value='Tropicamide'>Tropicamide</option>
                                                            </select>

                                                        </div>
                                                    </div>
                                                    <table>
                                                        <tr class="mobbtn" style="width:100%">
                                                            <th></th>
                                                            <th>SPH</th>
                                                            <th>CYL</th>
                                                            <th>Axis</th>
                                                            <th>VA</th>
                                                        </tr>
                                                        <tr class="mobbtn" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPSPHC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.REDPSPH"
                                                                    id="REDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}}</option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPCYLC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.REDPCYL"
                                                                    id="REDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.REDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPVAC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.REDPVA"
                                                                    id="REDPVA" list="dpvaList" />
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}}
                                                                    </option>
                                                                </datalist>
                                                            </td>
                                                        </tr>
                                                        <tr class="mobbtn pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPSPHC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.LEDPSPH"
                                                                    id="LEDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW " type="text" name="LEDPCYLC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.LEDPCYL"
                                                                    id="LEDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LEDPAxisC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.LEDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPVAC"
                                                                    [(ngModel)]="masterObject.Comprehensive.CycloplegiaPWR.LEDPVA"
                                                                    id="LEDPVA" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                                </div>
                                                <div class="row">
                                                <div *ngIf="masterObject.Comprehensive.PostMydriatic == true"
                                                    class="col-xxl-5 col-xl-6 col-lg-7 col-md-11 col-12 pb-2 ms-3 mt-3"
                                                    style="border:1px solid">
                                                    <h4 class="OEx-h4">Post-Mydriatic Test <input type="date"
                                                            name="PostMydriaticDate"
                                                            [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.PostMydriaticDate">
                                                    </h4>
                                                    <table>
                                                        <tr class="mobbtn" style="width:100%">
                                                            <th></th>
                                                            <th>SPH</th>
                                                            <th>CYL</th>
                                                            <th>Axis</th>
                                                            <th>VA</th>
                                                        </tr>
                                                        <tr class="mobbtn" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPSPHP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.REDPSPH"
                                                                    id="REDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}}</option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPCYLP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.REDPCYL"
                                                                    id="REDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.REDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPVAP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.REDPVA"
                                                                    id="REDPVA" list="dpvaList" />
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}}
                                                                    </option>
                                                                </datalist>
                                                            </td>
                                                        </tr>
                                                        <tr class="mobbtn pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPSPHP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.LEDPSPH"
                                                                    id="LEDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW " type="text" name="LEDPCYLP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.LEDPCYL"
                                                                    id="LEDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LEDPAxisP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.LEDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPVAP"
                                                                    [(ngModel)]="masterObject.Comprehensive.PostMydriaticPWR.LEDPVA"
                                                                    id="LEDPVA" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            <!-- <div class="row mt-3">
                                                <div class="col-12 pt-1" style=" text-align: center;">
                                                    <h1 class="OEx-h4">Refraction</h1>
                                                </div>
                                            </div> -->
                                            <div class="row">
                                                <div class="col-xxl-6 col-xl-7 col-lg-12 col-md-12 col-12"
                                                    style="padding:0 0 0 14px">
                                                    <h4 class="OEx-h4">Subjective Refraction (Final Power)</h4>
                                                    <table style="width:100%;border: 1px solid;" class="sub-tbl">
                                                        <tr>
                                                            <th class="sub-pb" colspan="6" class="text-center">RightEye
                                                            </th>
                                                            <th class="sub-pb" colspan="5" class="text-center">LeftEye
                                                            </th>

                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb"></th>
                                                            <th class="sub-pb">SPH</th>
                                                            <th class="sub-pb">CYL</th>
                                                            <th class="sub-pb">AXIS</th>
                                                            <th class="sub-pb">VA</th>
                                                            <th class="sub-pb">ADD</th>
                                                            <th class="sub-pb">SPH</th>
                                                            <th class="sub-pb">CYL</th>
                                                            <th class="sub-pb">AXIS</th>
                                                            <th class="sub-pb">VA</th>
                                                            <th class="sub-pb">ADD</th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">DP</th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="REDPSPH_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.REDPSPH"
                                                                    id="REDPSPH" list="dpsphList"
                                                                    (change)="calculate('Lens', 'RD', 0.00,'com');validateSphInputRight('REDPSPH')">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}}</option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="REDPCYL_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.REDPCYL"
                                                                    id="REDPCYL"
                                                                    (change)="calculate('Lens', 'RCYL', 0.00 ,'com');validateCyLInputRight('REDPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="REDPAxis_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.REDPAxis"
                                                                    (change)="calculate('Lens', 'RAxis', 0.00 ,'com')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="REDPVA_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.REDPVA"
                                                                    (focus)="VAList()" (input)="filterPVAList($event)"
                                                                    id="REDPVA" list="dpvaList" />
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name"
                                                                        *ngFor="let d of filteredPVAList">
                                                                        {{d.Name}}
                                                                    </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="R_Addition_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.R_Addition"
                                                                    (change)="calculate('Lens', 'R', 0.00 ,'com')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LEDPSPH_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LEDPSPH"
                                                                    id="LEDPSPH"
                                                                    (change)="calculate('Lens', 'LD', 0.00 ,'com') ;validateSphInputLeft('LEDPSPH')"
                                                                    list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LEDPCYL_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LEDPCYL"
                                                                    id="LEDPCYL"
                                                                    (change)="calculate('Lens', 'RDSCYL', 0.00 ,'com') ;validateCyLInputLeft('LEDPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="LEDPAxis_SC"
                                                                    (change)="calculate('Lens', 'RDSAxis', 0.00 ,'com')"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LEDPAxis">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LEDPVA_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LEDPVA"
                                                                    id="LEDPVA" list="dpvaList" (focus)="VAList()"
                                                                    (input)="filterPVAList($event)">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name"
                                                                        *ngFor="let d of filteredPVAList">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="L_Addition_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.L_Addition"
                                                                    (change)="calculate('Lens', 'L', 0.00 ,'com')">
                                                            </th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">NP</th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="RENPSPH_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.RENPSPH"
                                                                    id="RENPSPH" list="dpsphList"
                                                                    (change)="calculate('Lens', 'RN', 0.00 ,'com') ;validateSphInputRight('RENPSPH')">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="RENPCYL_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.RENPCYL"
                                                                    id="RENPCYL"
                                                                    (change)="calculate('Lens', 'RNCYL', 0.00 ,'com') ;validateCyLInputRight('RENPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="RENPAxis_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.RENPAxis"
                                                                    (change)="calculate('Lens', 'RNAxis', 0.00 ,'com')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="RENPVA_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.RENPVA"
                                                                    id="RENPVA" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb"></th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LENPSPH_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LENPSPH"
                                                                    id="LENPSPH" list="dpsphList"
                                                                    (change)="calculate('Lens', 'LN', 0.00 ,'com') ;validateSphInputLeft('LENPSPH')">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LENPCYL_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LENPCYL"
                                                                    id="LENPCYL"
                                                                    (change)="calculate('Lens', 'LNCYL', 0.00 ,'com') ;validateCyLInputLeft('LENPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="LENPAxis_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LENPAxis"
                                                                    (change)="calculate('Lens', 'LNAxis', 0.00 ,'com')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LENPVA_SC"
                                                                    [(ngModel)]="masterObject.Comprehensive.SubjectivePWR.LENPVA"
                                                                    id="LENPVA" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb"></th>
                                                        </tr>
                                                    </table>
                                                    <div class="row pt-4">
                                                        <div class="col-12">
                                                            <h4 class="OEx-h4 d-flex" style="white-space: nowrap;">Color
                                                                Vision <input class="inputW ms-2" name="ColorVision"
                                                                    [(ngModel)]="masterObject.Comprehensive.ColorVisionChart.ColorVision">
                                                            </h4>
                                                        </div>

                                                    </div>
                                                    <div class="row ">
                                                        <div class="col-xl-4 col-lg-4 col-md-4 col-4 text-center">
                                                            <b> RE </b>
                                                        </div>
                                                        <div class="col-xl-4 col-lg-4 col-md-4 col-4 text-center">
                                                            <b> LE </b>
                                                        </div>
                                                        <div class="col-xl-4 col-lg-4 col-md-4 col-4 text-center">
                                                            <b>BE </b>
                                                        </div>
                                                    </div>
                                                    <div class="row ">

                                                        <div class="col-xl-4 col-lg-4 col-md-4 col-4">
                                                            <input class="inputW" type="text" name="ColorVisionRE"
                                                                [(ngModel)]="masterObject.Comprehensive.ColorVisionChart.ColorVisionRE"
                                                                #ColorVisionREcontrol />
                                                        </div>
                                                        <div class="col-xl-4 col-lg-4 col-md-4 col-4">
                                                            <input class="inputW" type="text" name="ColorVisionLE"
                                                                [(ngModel)]="masterObject.Comprehensive.ColorVisionChart.ColorVisionLE"
                                                                #ColorVisionLEcontrol />
                                                        </div>
                                                        <div class="col-xl-4 col-lg-4 col-md-4 col-4">
                                                            <input class="inputW" type="text" name="ColorVisionBE"
                                                                [(ngModel)]="masterObject.Comprehensive.ColorVisionChart.ColorVisionBE"
                                                                #ColorVisionBEcontrol />
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                                <div class="row mt-4">

                                                <div class="col-12">
                                                     <h4 class="OEx-h4">Slit Lamp Examination</h4>
                                                    </div>
                                                <div class="col-xxl-4 col-xl-4 col-lg-6 col-md-6 col-12 ">
                                                    <table style="width: 100%; ">
                                                        <tr>
                                                            <th></th>
                                                            <th>Right Eye</th>
                                                            <th>Left Eye</th>
                                                        </tr>
                                                        <tr>
                                                            <th>LID/LASHES</th>
                                                            <td> <input class="inputW" type="text" name="LIDLASHES_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.LIDLASHES_R"
                                                                    #LIDLASHES_Rcontrol  style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="LIDLASHES_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.LIDLASHES_L"
                                                                    #LIDLASHES_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>CONJUNCTIVA</th>
                                                            <td> <input class="inputW" type="text" name="CONJUNCTIVA_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.CONJUNCTIVA_R"
                                                                    #CONJUNCTIVA_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="CONJUNCTIVA_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.CONJUNCTIVA_L"
                                                                    #CONJUNCTIVA_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>CORNEA</th>
                                                            <td> <input class="inputW" type="text" name="CORNEA_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.CORNEA_R"
                                                                    #CORNEA_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="CORNEA_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.CORNEA_L"
                                                                    #CORNEA_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>IRIS</th>
                                                            <td> <input class="inputW" type="text" name="IRIS_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.IRIS_R"
                                                                    #IRIS_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="IRIS_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.IRIS_L"
                                                                    #IRIS_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>PUPIL</th>
                                                            <td> <input class="inputW" type="text" name="PUPIL_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.PUPIL_R"
                                                                    #PUPIL_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="PUPIL_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.PUPIL_L"
                                                                    #PUPIL_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>ANTERIOR CHAMBER</th>
                                                            <td> <input class="inputW" type="text"
                                                                    name="ANTERIORCHAMBER_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.ANTERIORCHAMBER_R"
                                                                    #ANTERIORCHAMBER_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text"
                                                                    name="ANTERIORCHAMBER_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.ANTERIORCHAMBER_L"
                                                                    #ANTERIORCHAMBER_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>CRYSTALLINE LENS</th>
                                                            <td> <input class="inputW" type="text"
                                                                    name="CRYSTALLINELENS_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.CRYSTALLINELENS_R"
                                                                    #CRYSTALLINELENS_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text"
                                                                    name="CRYSTALLINELENS_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.CRYSTALLINELENS_L"
                                                                    #CRYSTALLINELENS_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>SCLERA</th>
                                                            <td> <input class="inputW" type="text" name="SCLERA_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.SCLERA_R"
                                                                    #SCLERA_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="SCLERA_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.SCLERA_L"
                                                                    #SCLERA_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>LACRIMALSYSTEM</th>
                                                            <td> <input class="inputW" type="text"
                                                                    name="LACRIMALSYSTEM_R"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.LACRIMALSYSTEM_R"
                                                                    #LACRIMALSYSTEM_Rcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text"
                                                                    name="LACRIMALSYSTEM_L"
                                                                    [(ngModel)]="masterObject.Comprehensive.SlitLamp.LACRIMALSYSTEM_L"
                                                                    #LACRIMALSYSTEM_Lcontrol style="text-transform: uppercase;"/>
                                                            </td>
                                                        </tr>
                                                    </table>


                                                </div>
                                                 <!-- canvas-drawing.component.html -->
                                                <div class="col-xxl-3 col-xl-4 col-lg-6 col-md-6 col-12 pt-3">
                                                   
                                                    <div class="drawing-container">
                                                        <canvas #canvas width="300" height="230"></canvas>
                                                    </div>

                                                    <div class="mt-3">
                                                        <button class=" me-2" (click)="undo()"
                                                            style="background-color: red; color:#fff">Undo</button>
                                                        <button class="" (click)="saveDrawing()"
                                                            style="background-color: #2557bb; color:#fff">Save</button>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="row heads mt-3">
                                                <div class="col-12 pt-2">
                                                    <h4 class="OEx-h4">Posterior Segment Evaluation</h4>
                                                </div>
                                            </div>

                                            <div class="row pb-3">
                                                <div class="col-xl-7 col-lg-12 col-md-12 col-12">
                                                     <table style="width:100%">
                                                                <tr>
                                                                    <td> 
                                                                        <label> CUP/DISC RATIO</label> <br> <input class="inputW" name="CUPDISCRATIO"
                                                                            [(ngModel)]="masterObject.Comprehensive.PosteriorSegment.CUPDISCRATIO"
                                                                            #CUPDISCRATIOcontrol />
                                                                    </td>
                                                                    <td> 
                                                                        <label>MACULA/FOVEA</label> <br> <input class="inputW" name="MACULAFOVEA"
                                                                            [(ngModel)]="masterObject.Comprehensive.PosteriorSegment.MACULAFOVEA"
                                                                            #MACULAFOVEAcontrol />
                                                                    </td>
                                                                    <td> 
                                                                        <label>ABNORMALITIES</label> <br> <input class="inputW" name="ABNORMALITIES"
                                                                            [(ngModel)]="masterObject.Comprehensive.PosteriorSegment.ABNORMALITIES"
                                                                            #ABNORMALITIEScontrol />
                                                                    </td>
                                                                </tr>
                                                     </table>
                                                </div>
                                            </div>

                                             <div class="row pb-3">
                                                <div class="col-xl-7 col-lg-9 col-md-12 col-12">
                                                    <div class="row">
                                                                <div class="col-3">

                                                                    <label>Additional Test</label> <br>
                                                                    <select class="inputWs" name="AdditionalTest"
                                                                        [(ngModel)]="additionalTest.AdditionalTest"
                                                                        #AdditionalTestcontrol>
                                                                        <option value='NITBUT'>NITBUT</option>
                                                                        <option value='SCHIRMERS TEST'>SCHIRMER'S
                                                                            TEST</option>
                                                                        <option value='PACHYMETRY'>PACHYMETRY</option>
                                                                        <option value='TONOMETRY'>TONOMETRY
                                                                        </option>
                                                                        <option value='CONTRAST SENSITIVITY'>CONTRAST
                                                                            SENSITIVITY</option>
                                                                        <option value='AXIAL LENGTH'>AXIAL LENGTH</option>
                                                                        <option value='AMSLER'> AMSLER</option>
                                                                        <option value='CONFRONTATION'> CONFRONTATION</option>
                                                                        <option value='VISUAL FIELD'>VISUAL FIELD </option>
                                                                    </select>
                                                                </div>
                                                                <div class=" col-3">
                                                                    <label>RE_TEXT</label> <br>
                                                                    <input class="inputW" name="RE_TEXT"
                                                                        [(ngModel)]="additionalTest.AdditionalTest_R_Text"
                                                                        #RE_TEXTcontrol />
                                                                </div>
                                                                <div class="col-3">
                                                                    <label>LE_TEXT</label> <br>
                                                                    <div class="d-flex">
                                                                        <input class="inputW" name="LE_TEXTcontrol"
                                                                            [(ngModel)]="additionalTest.AdditionalTest_L_Text"
                                                                            #LE_TEXTcontrol
                                                                            (keydown.enter)="AddItam('AdditionalTest')" />
                                                                    </div>
                                                                </div>
                                                                <div class="col-3">
                                                                    <label>BE_TEXT</label> <br>
                                                                    <div class="d-flex">
                                                                        <input class="inputW" name="BE_TEXTcontrol"
                                                                            [(ngModel)]="additionalTest.AdditionalTest_B_Text"
                                                                            #BE_TEXTcontrol
                                                                            (keydown.enter)="AddItam('AdditionalTest')" />
                                                                        <button class="addItem" type="button"
                                                                            (click)="AddItam('AdditionalTest')">Add</button>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 mt-2"
                                                                    style="overflow: auto; height: 100px; ">
                                                                    <div class="table-responsive"
                                                                        style="border: 1px solid #666666 !important;height: 100%;">
                                                                        <table class="tableop">
                                                                            <tbody>
                                                                                <tr class="text-center"
                                                                                    *ngFor="let atl of masterObject.Comprehensive.additionalTestList let i = index;"
                                                                                    style="white-space: nowrap;">
                                                                                    <td>
                                                                                        <mat-icon
                                                                                            (click)="tempDelete('additionalTestList', i)"
                                                                                            class="delete_iconO ">delete_forever</mat-icon>
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest}}
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest_R_Text }}
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest_L_Text }}
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest_B_Text }}
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                </div>
                                            <div class="col-xl-2 col-lg-3 col-md-12 col-12">
                                                    <label>ADVICE</label> <br>
                                                    <textarea class="inputW" name="ADVICE"
                                                        [(ngModel)]="masterObject.Comprehensive.ADVICE" #ADVICEcontrol
                                                        rows="4" style="resize: none;"></textarea><br>


                                                    <button *ngIf="this.masterObject.ID == null"
                                                        (click)="onSubmit('Comprehensive')" [disabled]="!f.valid"
                                                        mat-raised-button color="primary" type="button"> Save
                                                    </button>
                                                    <button *ngIf="this.masterObject.ID != null"
                                                        (click)="onUpdate('Comprehensive')" [disabled]="!f.valid"
                                                        mat-raised-button color="primary" type="button"> Update
                                                    </button>



                                                </div>
                                                <div class="col-xl-3 col-lg-12  col-md-12 col-12"
                                                    style="overflow: auto; height: 150px;">
                                                    <table
                                                        class="table table-striped table-hover table-sm table-bordered"
                                                        style="border: 2px solid #fff !important; margin: 0;">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="4">Actions</th>
                                                                <th>VisitNo</th>
                                                                <th>VisitDate</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="text-center"
                                                                *ngFor="let s of selectedObjectList let i = index;"
                                                                style="white-space: nowrap;">
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:red"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="deletetype(s.ID,'Comprehensive')">delete_forever</mat-icon>
                                                                </td>
                                                                <td style="width: 7%;">
                                                                         <button style="background: none; border:none"  (click)="optometristPDF(s)">
                                                         <i class="far fa-file-pdf" style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #3f51b5;"> </i>
                                                        </button> 
                                                                </td>
                                                                <td style="width: 7%;">
                                                                         <button [disabled]="this.pdfLink ==''" style="background: none; border:none"  (click)="optometristPDFWhats()">
                                                         <i class="fa-brands fa-whatsapp " style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #40d248;"> </i>
                                                        </button> 
                                                                </td>
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:rgb(7, 7, 105)"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="editMainList(s,'Comprehensive')">edit</mat-icon>
                                                                </td>
                                                                <td>{{selectedObjectList.length - i}} </td>
                                                                <td>{{s.CreatedOn | date: 'short'}} </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                            



                                        </form>
                                    </div>

                                    <!-- BINOCULAR VISION ASSESSMENT -->
                                    <div class="tab-pane fade" id="ex1-tabs-2" role="tabpanel"
                                        aria-labelledby="ex1-tab-2">
                                        <form #f2="ngForm" autocomplete="off">
                                            <div class="row">
                                                <div class="col-xl-5 col-lg-5 col-md-6 col-9 ">
                                                    <h3 class="OEx-h4"> Worth 4 Dot Test</h3>
                                                </div>
                                                <div
                                                    class="col-xl-1 col-lg-3 col-md-3 col-3 ms-auto">
                                                    <button type="button" mat-raised-button color="primary"
                                                        (click)="NewVisit('Binocular')">New Visit</button>
                                                </div>
                                            </div>
                                            <div class="row">
                                            <div class="col-xl-3 col-lg-3 col-md-4 col-9 text-center">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <th colspan="2" style="padding:15px">
                                                                <button class="round-btn" (click)="toggle('red1')"
                                                                    [ngStyle]="getStyle('red1')">R</button>
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th style="padding:15px">
                                                                <button class="round-btn" (click)="toggle('green1')"
                                                                    [ngStyle]="getStyle('green1')">G</button>
                                                            </th>
                                                            <th style="padding:15px">
                                                                <button class="round-btn" (click)="toggle('green2')"
                                                                    [ngStyle]="getStyle('green2')">G</button>
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th colspan="2" style="padding:15px">
                                                                <div class="split-button text-center">
                                                                    <div class="half left" (click)="toggle('red2')"
                                                                        [ngStyle]="getStyle('red2')">R</div>
                                                                    <div class="half right" (click)="toggle('green3')"
                                                                        [ngStyle]="getStyle('green3')">G</div>
                                                                </div>
                                                            </th>
                                                        </tr>
                                                    </table>

                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-4 col-12 ">
                                                    <label class="fontbold" >DISTANCE</label> <br>
                                                    <input class="inputW" name="W4DTDistance"
                                                                    [(ngModel)]="masterObject2.Binocular.W4DTDistance"
                                                                    #W4DTDistancecontrol />
                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-4 col-12 ">
                                                    <label class="fontbold">NEAR</label> <br>
                                                    <input class="inputW" name="W4DTNear"
                                                                    [(ngModel)]="masterObject2.Binocular.W4DTNear"
                                                                    #W4DTNearcontrol />
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-xl-8 col-lg-10 col-md-10 col-12 ">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <th></th>
                                                            <th>DISTANCE</th>
                                                            <th>INTERMEDIATE</th>
                                                            <th>NEAR</th>
                                                        </tr>
                                                        <!-- <tr>
                                                            <th>Type</th>
                                                            <td> <input class="inputW" name="TypeDistance"
                                                                    [(ngModel)]="masterObject2.Binocular.TypeDistance"
                                                                    #TypeDistancecontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="TypeIntermediate"
                                                                    [(ngModel)]="masterObject2.Binocular.TypeIntermediate"
                                                                    #TypeIntermediatecontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="TypeNear"
                                                                    [(ngModel)]="masterObject2.Binocular.TypeNear"
                                                                    #TypeNearcontrol />
                                                            </td>
                                                        </tr> -->
                                                        <tr>
                                                            <th>DEVIATION</th>

                                                            <td>
                                                                <select class="inputW" name="DeviationDistance"
                                                                    [(ngModel)]="masterObject2.Binocular.DeviationDistance"
                                                                    #DeviationDistancecontrol>
                                                                    <option> None</option>
                                                                    <option> ORTHOPHORIA</option>
                                                                    <option> ESOPHORIA</option>
                                                                    <option> EXOPHORIA</option>
                                                                    <option> EXOTROPIA</option>
                                                                    <option> ESOTROPIA</option>
                                                                </select>
                                                            </td>
                                                            <td>
                                                                <select class="inputW" name="DeviationIntermediate"
                                                                    [(ngModel)]="masterObject2.Binocular.DeviationIntermediate"
                                                                    #DeviationIntermediatecontrol>
                                                                    <option> None</option>
                                                                     <option> ORTHOPHORIA</option>
                                                                    <option> ESOPHORIA</option>
                                                                    <option> EXOPHORIA</option>
                                                                    <option> EXOTROPIA</option>
                                                                    <option> ESOTROPIA</option>
                                                                </select>
                                                            </td>
                                                            <td>
                                                                <select class="inputW" name="DeviationNear"
                                                                    [(ngModel)]="masterObject2.Binocular.DeviationNear"
                                                                    #DeviationNearcontrol>
                                                                    <option value="None"> None</option>
                                                                    <option value="ORTHOPHORIA"> ORTHOPHORIA</option>
                                                                    <option value="ESOPHORIA"> ESOPHORIA</option>
                                                                    <option value="EXOPHORIA"> EXOPHORIA</option>
                                                                    <option value="EXOTROPIA"> EXOTROPIA</option>
                                                                    <option value="ESOTROPIA"> ESOTROPIA</option>
                                                                </select>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>EYE</th>
                                                            <td> <input class="inputW" name="EyeDistance"
                                                                    [(ngModel)]="masterObject2.Binocular.EyeDistance"
                                                                    #EyeDistancecontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="EyeIntermediate"
                                                                    [(ngModel)]="masterObject2.Binocular.EyeIntermediate"
                                                                    #EyeIntermediatecontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="EyeNear"
                                                                    [(ngModel)]="masterObject2.Binocular.EyeNear"
                                                                    #EyeNearcontrol />
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>PRISM DIOPTRE </th>
                                                            <td> <input class="inputW" name="PrismDioptreDistance"
                                                                    [(ngModel)]="masterObject2.Binocular.PrismDioptreDistance"
                                                                    #PrismDioptreDistancecontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="PrismDioptreIntermediate"
                                                                    [(ngModel)]="masterObject2.Binocular.PrismDioptreIntermediate"
                                                                    #PrismDioptreIntermediatecontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="PrismDioptreNear"
                                                                    [(ngModel)]="masterObject2.Binocular.PrismDioptreNear"
                                                                    #PrismDioptreNearcontrol />
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>RECOVERY </th>
                                                            <td>
                                                                <select class="inputW" name="RecoveryDistance"
                                                                    [(ngModel)]="masterObject2.Binocular.RecoveryDistance"
                                                                    #RecoveryDistancecontrol>
                                                                    <option value="None"> None</option>
                                                                    <option value="SLOW"> SLOW </option>
                                                                    <option value="FAST"> FAST</option>
                                                                    <option value="GOOD"> GOOD</option>
                                                                </select>
                                                            </td>
                                                            <td>
                                                                <select class="inputW" name="RecoveryIntermediate"
                                                                    [(ngModel)]="masterObject2.Binocular.RecoveryIntermediate"
                                                                    #RecoveryIntermediatecontrol>
                                                                     <option value="None"> None</option>
                                                                    <option value="SLOW"> SLOW </option>
                                                                    <option value="FAST"> FAST</option>
                                                                    <option value="GOOD"> GOOD</option>
                                                                </select>
                                                            </td>
                                                            <td>
                                                                <select class="inputW" name="RecoveryNear"
                                                                    [(ngModel)]="masterObject2.Binocular.RecoveryNear"
                                                                    #RecoveryNearcontrol>
                                                                     <option value="None"> None</option>
                                                                    <option value="SLOW"> SLOW </option>
                                                                    <option value="FAST"> FAST</option>
                                                                    <option value="GOOD"> GOOD</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <!-- BREAK -->
                                                        <tr>
                                                            <th class="pt-3">NPC (cm)</th>
                                                            <th class="pt-3">BREAK</th>
                                                            <th class="pt-3">RECOVERY</th>
                                                        </tr>
                                                        <tr>
                                                            <th></th>
                                                            <td> <input class="inputW" name="NPCBreak"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCBreak"
                                                                    #NPCBreakcontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="NPCRecovery"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCRecovery"
                                                                    #NPCRecoverycontrol />
                                                            </td>
                                                        </tr>

                                                        <!-- BLURR -->
                                                        <tr>
                                                            <th class="pt-3">NPA (cm)</th>
                                                            <th class="pt-3">BLUR</th>
                                                            <th class="pt-3">RECOVERY</th>
                                                        </tr>
                                                        <tr>
                                                            <th>RE</th>
                                                            <td> <input class="inputW" name="NPCBlurrRE"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCBlurrRE"
                                                                    #NPCBlurrREcontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="NPCRecoveryRE"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCRecoveryRE"
                                                                    #NPCRecoveryREcontrol />
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>LE</th>
                                                            <td> <input class="inputW" name="NPCBlurrLE"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCBlurrLE"
                                                                    #NPCBlurrLEcontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="NPCRecoveryLE"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCRecoveryLE"
                                                                    #NPCRecoveryLEcontrol />
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>BE</th>
                                                            <td> <input class="inputW" name="NPCBlurrBE"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCBlurrBE"
                                                                    #NPCBlurrBEcontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="NPCRecoveryBE"
                                                                    [(ngModel)]="masterObject2.Binocular.NPCRecoveryBE"
                                                                    #NPCRecoveryBEcontrol />
                                                            </td>
                                                        </tr>

                                                        <tr >
                                                            <th colspan="3" class="pt-3">MONOCULAR ESTIMATION METHOD (MEM)</th>
                                                        </tr>
                                                        <tr>
                                                            <th>RE</th>
                                                            <td> <input class="inputW" name="MONOCULAR_RE"
                                                                    [(ngModel)]="masterObject2.Binocular.MONOCULAR_RE"
                                                                    #MONOCULAR_REcontrol />
                                                            </td>
                                                        </tr>
                                                        <tr> 
                                                            <th>LE</th>
                                                            <td> <input class="inputW" name="MONOCULAR_LE"
                                                                    [(ngModel)]="masterObject2.Binocular.MONOCULAR_LE"
                                                                    #MONOCULAR_LEcontrol />
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <th  class="pt-3">AC/A Ratio</th>
                                                            <th colspan="2" class="pt-3">
                                                                <input class="inputW" name="AC_A_Ratio"
                                                                    [(ngModel)]="masterObject2.Binocular.AC_A_Ratio"
                                                                    #AC_A_Ratiocontrol /> </th>
                                                            
                                                        </tr>
                                                        <tr>
                                                            <th  class="pt-3">FUSIONAL VERGENCE</th>
                                                            <th  class="pt-3">DISTANCE </th>
                                                            <th  class="pt-3">NEAR</th>
                                                        </tr>

                                                        <tr>
                                                            <th>POSITIVE </th>
                                                            <td> <input class="inputW" name="POSITIVE_DISTANCE"
                                                                    [(ngModel)]="masterObject2.Binocular.POSITIVE_DISTANCE"
                                                                    #POSITIVE_DISTANCEcontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="POSITIVE_Near"
                                                                    [(ngModel)]="masterObject2.Binocular.POSITIVE_Near"
                                                                    #POSITIVE_Nearcontrol />
                                                            </td>
                                                        </tr>

                                                        <tr> 
                                                            <th>NEGATIVE </th>
                                                            <td> <input class="inputW" name="NEGATIVE_DISTANCE"
                                                                    [(ngModel)]="masterObject2.Binocular.NEGATIVE_DISTANCE"
                                                                    #NEGATIVE_DISTANCEcontrol />
                                                            </td>
                                                            <td> <input class="inputW" name="NEGATIVE_Near"
                                                                    [(ngModel)]="masterObject2.Binocular.NEGATIVE_Near"
                                                                    #NEGATIVE_Nearcontrol />
                                                            </td>
                                                        </tr>

                                                    </table>
                                                </div>
                                                </div>
                                                
                                            

                                            <div class="row mt-3">
                                                <div class="col-xl-5 col-lg-6 col-md-12 col-12">
                                                    <table style="width:100%">

                                                        <tr>
                                                            <th colspan="3" class="OEx-h4">OCULAR MOTILITY</th>
                                                            <th>Smooth <input type="checkbox" id="Smooth" name="Smooth"
                                                                    value="Smooth"
                                                                    [(ngModel)]="masterObject2.Binocular.Smooth"></th>
                                                            <th>Accurate <input type="checkbox" id="Accurate"
                                                                    name="Accurate" value="Accurate"
                                                                    [(ngModel)]="masterObject2.Binocular.Accurate"></th>
                                                            <th> Full <input type="checkbox" id="Full" name="Full"
                                                                    value="Full"
                                                                    [(ngModel)]="masterObject2.Binocular.Full"></th>
                                                            <th> Extensive <input type="checkbox" id="Extensive"
                                                                    name="Extensive" value="Extensive"
                                                                    [(ngModel)]="masterObject2.Binocular.Extensive">
                                                            </th>
                                                        </tr>
                                                    </table>
                                                </div>

                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-xl-4 col-lg-6 col-md-6 col-12">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <th>FLIPPER (cpm)</th>
                                                            <th><input class="inputW" name="Flipper"
                                                                    [(ngModel)]="masterObject2.Binocular.Flipper"
                                                                    #Flippercontrol />
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th>RE</th>
                                                            <th><input class="inputW" name="FlipperRE"
                                                                    [(ngModel)]="masterObject2.Binocular.FlipperRE"
                                                                    #FlipperREcontrol />
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th>LE</th>
                                                            <th><input class="inputW" name="FlipperLE"
                                                                    [(ngModel)]="masterObject2.Binocular.FlipperLE"
                                                                    #FlipperLEcontrol />
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th>BE</th>
                                                            <th><input class="inputW" name="FlipperBE"
                                                                    [(ngModel)]="masterObject2.Binocular.FlipperBE"
                                                                    #FlipperBEcontrol />
                                                            </th>
                                                        </tr>

                                                    </table>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-xl-6 col-lg-6 col-md-6 col-12">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <th style="width: 18%;">STEREOPSIS</th>
                                                            <th><input class="inputW" name="Stereopsis"
                                                                    [(ngModel)]="masterObject2.Binocular.Stereopsis"
                                                                    #Stereopsiscontrol />
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th style="width: 18%;" class="pt-2">PRISM PRESCRIBED</th>
                                                            <th><input class="inputW" name="PRISM_PRESCRIBED"
                                                                    [(ngModel)]="masterObject2.Binocular.PRISM_PRESCRIBED"
                                                                    #PRISM_PRESCRIBEDcontrol />
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th style="width: 18%;" class="pt-2">IMPRESSION</th>
                                                            <th><input class="inputW" name="IMPRESSION"
                                                                    [(ngModel)]="masterObject2.Binocular.IMPRESSION"
                                                                    #IMPRESSIONcontrol />
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th style="width: 18%;" class="pt-2">ADVICE</th>
                                                            <th><input class="inputW" name="Advice"
                                                                    [(ngModel)]="masterObject2.Binocular.Advice"
                                                                    #Advicecontrol />
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th colspan="2">
                                                                <button *ngIf="this.masterObject2.ID == null"
                                                                    (click)="onSubmit('Binocular')"
                                                                    [disabled]="!f2.valid" mat-raised-button
                                                                    color="primary" type="button">Save
                                                                </button>
                                                                <button *ngIf="this.masterObject2.ID != null"
                                                                    (click)="onUpdate('Binocular')"
                                                                    [disabled]="!f2.valid" mat-raised-button
                                                                    color="primary" type="button"> Update
                                                                </button>
                                                            </th>
                                                        </tr>
                                                    </table>

                                                </div>
                                                <div class="col-xl-6 col-lg-6 col-md-6 col-12">
                                                    <table
                                                        class="table table-striped table-hover table-sm table-bordered"
                                                        style="border: 2px solid #fff !important; margin: 0;">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="4">Actions</th>
                                                                <th>VisitNo</th>
                                                                <th>VisitDate</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="text-center"
                                                                *ngFor="let s of selectedObjectList let i = index;"
                                                                style="white-space: nowrap;">
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:red"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="deletetype(s.ID,'Binocular')">delete_forever</mat-icon>
                                                                </td>
                                                                <td style="width: 7%;">
                                                                         <button style="background: none; border:none"  (click)="optometristPDF(s)">
                                                         <i class="far fa-file-pdf" style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #3f51b5;"> </i>
                                                        </button> 
                                                                </td>
                                                                 <td style="width: 7%;">
                                                                         <button [disabled]="this.pdfLink ==''" style="background: none; border:none"  (click)="optometristPDFWhats()">
                                                         <i class="fa-brands fa-whatsapp " style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #40d248;"> </i>
                                                        </button> 
                                                                </td>
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:rgb(7, 7, 105)"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="editMainList(s,'Binocular')">edit</mat-icon>
                                                                </td>
                                                                <td>{{selectedObjectList.length - i}} </td>
                                                                <td>{{s.CreatedOn | date: 'short'}} </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>




                                        </form>
                                    </div>

                                    <!-- CONTACT LENS EVALUATION  -->
                                    <div class="tab-pane fade" id="ex1-tabs-3" role="tabpanel"
                                        aria-labelledby="ex1-tab-3">

                                        <form #f3="ngForm" autocomplete="off">
                                            <div class="row">
                                            </div>
                                            <div class="row">
                                                <div class="col-xl-6 col-lg-6 col-md-10 col-12 order-sm-0 order-1">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <th>FIRST TIME CL USER</th>
                                                            <th>Yes <input type="checkbox" id="FIRSTTIMECLUSERyes"
                                                                    name="FIRSTTIMECLUSERyes" value="FIRSTTIMECLUSERyes"
                                                                    [(ngModel)]="masterObject3.Contact.FIRSTTIMECLUSERyes"
                                                                    (change)="masterObject3.Contact.FIRSTTIMECLUSERNo = !masterObject3.Contact.FIRSTTIMECLUSERyes">
                                                            </th>
                                                            <th>No <input type="checkbox" id="FIRSTTIMECLUSERNo"
                                                                    name="FIRSTTIMECLUSERNo" value="FIRSTTIMECLUSERNo"
                                                                    [(ngModel)]="masterObject3.Contact.FIRSTTIMECLUSERNo"
                                                                    (change)="masterObject3.Contact.FIRSTTIMECLUSERyes = !masterObject3.Contact.FIRSTTIMECLUSERNo">
                                                            </th>
                                                        </tr>
                                                        <tr *ngIf="masterObject3.Contact.FIRSTTIMECLUSERNo == true">
                                                            <th>PREVIOUSLY WEARING</th>
                                                            <th>TYPE</th>
                                                            <th>SOLUTION USED</th>
                                                        </tr>
                                                        <tr *ngIf="masterObject3.Contact.FIRSTTIMECLUSERNo == true">
                                                            <th><input class="inputW" name="PREVIOUSLYWEARING_TEXT"
                                                                    [(ngModel)]="masterObject3.Contact.PREVIOUSLYWEARING_TEXT"
                                                                    #PREVIOUSLYWEARING_TEXTcontrol /></th>
                                                            <th><input class="inputW" name="TYPE_TEXT"
                                                                    [(ngModel)]="masterObject3.Contact.TYPE_TEXT"
                                                                    #TYPE_TEXTcontrol /></th>
                                                            <th><input class="inputW" name="SOLUTIONUSED_TEXT"
                                                                    [(ngModel)]="masterObject3.Contact.SOLUTIONUSED_TEXT"
                                                                    #SOLUTIONUSED_TEXTcontrol /> </th>
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div
                                                    class="col-xl-1 col-lg-1 col-md-2 col-12 order-sm-1 order-0  ms-auto">
                                                    <button type="button" mat-raised-button color="primary"
                                                        (click)="NewVisit('Contact')">New Visit</button>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <h4 class="OEx-h4"> Measurements</h4>
                                                </div>
                                                <div class="col-xl-6 col-lg-8 col-md-12 col-12">
                                                    <table>
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th></th>
                                                            <th>H_KValue</th>
                                                            <th>V_KValue</th>
                                                            <th>HVID</th>
                                                            <th>PFH</th>
                                                        </tr>
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.RE_HK">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.RE_VK">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.RE_HVID">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="RE_KCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.RE_PFH">
                                                            </td>
                                                        </tr>
                                                        <tr class="mobbtn1 pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.LE_HK">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.LE_VK">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxisCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.LE_HVID">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="RE_KCMP"
                                                                    [(ngModel)]="masterObject3.Contact.MEASUREMENTS.LE_PFH">
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-xl-3 col-lg-6 col-md-8 col-12">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <th>OCULAR DOMINANCE</th>
                                                            <th>RIGHT EYE <input type="checkbox" id="OCULAR_RE"
                                                                    name="OCULAR_RE" value="OCULAR_RE" (click)="EYE('right')"
                                                                    [(ngModel)]="masterObject3.Contact.OCULAR_RE">
                                                            </th>
                                                            <th> LEFT EYE <input type="checkbox" id="OCULAR_LE"
                                                                    name="OCULAR_LE" value="OCULAR_LE" (click)="EYE('left')"
                                                                    [(ngModel)]="masterObject3.Contact.OCULAR_LE">
                                                            </th>
                                                        </tr>

                                                    </table>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <h4 class="OEx-h4"> Subjective Refraction (Final Contact Lens Power)</h4>
                                                    </div>
                                                <div class="col-xl-6 col-lg-10 col-md-12 col-12">
                                                    <table style="width:100%;border: 1px solid;" class="sub-tbl">
                                                        <tr>
                                                            <th class="sub-pb" colspan="6" class="text-center">RightEye
                                                            </th>
                                                            <th class="sub-pb" colspan="5" class="text-center">LeftEye
                                                            </th>

                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb"></th>
                                                            <th class="sub-pb">SPH</th>
                                                            <th class="sub-pb">CYL</th>
                                                            <th class="sub-pb">AXIS</th>
                                                            <th class="sub-pb">VA</th>
                                                            <th class="sub-pb">ADD</th>
                                                            <th class="sub-pb">SPH</th>
                                                            <th class="sub-pb">CYL</th>
                                                            <th class="sub-pb">AXIS</th>
                                                            <th class="sub-pb">VA</th>
                                                            <th class="sub-pb">ADD</th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">DP</th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_REDPSPH"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.REDPSPH"
                                                                    id="CREDPSPH" list="cdpsphList"
                                                                    (change)="calculate('', 'CRD', 0.00, 'con1')"
                                                                    (blur)="calculate('', 'CRD', 0.00 , 'con1');validateCont_SphInputRight('REDPSPH')">
                                                                <datalist id="cdpsphList">c
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="C_REDPCYL"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.REDPCYL"
                                                                    id="CREDPCYL" list="CdpcylList">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="C_REDPAxis"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.REDPAxis">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="C_REDPVA"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.REDPVA"
                                                                    id="CREDPVA" list="CdpvaList">
                                                                <datalist id="CdpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_R_Addition"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.R_Addition"
                                                                    (change)="calculate(' ', 'CR', 0.00 , 'con1')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_LEDPSPH"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LEDPSPH"
                                                                    id="CLEDPSPH" list="CdpsphList"
                                                                    (change)="calculate('', 'CLD', 0.00 , 'con1')"
                                                                    (blur)="calculate('', 'CLD', 0.00 , 'con1');validateCont_SphInputLeft('LEDPSPH')">
                                                                <datalist id="CdpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_LEDPCYL"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LEDPCYL"
                                                                    id="CLEDPCYL" list="CdpcylList">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_LEDPAxis"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LEDPAxis">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="C_LEDPVA"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LEDPVA"
                                                                    id="CLEDPVA" list="CdpNvaList">
                                                                <datalist id="CdpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="C_L_Addition"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.L_Addition"
                                                                    (change)="calculate('', 'CL', 0.00 , 'con1')">
                                                            </th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">NP</th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_RENPSPH"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.RENPSPH"
                                                                    id="CRENPSPH" list="CdpsphList"
                                                                    (change)="calculate(' ', 'CRN', 0.00 , 'con1')"
                                                                    (blur)="calculate(' ', 'CRN', 0.00 , 'con1');validateCont_SphInputRight('RENPSPH')">
                                                                <datalist id="CdpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="C_RENPCYL"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.RENPCYL"
                                                                    id="CRENPCYL" list="CdpcylList"
                                                                    (change)="calculate('', 'CRCYL', 0.00 , 'con1')">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_RENPAxis"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.RENPAxis"
                                                                    (change)="calculate('', 'CRAxis', 0.00 , 'con1')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_RENPVA"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.RENPVA"
                                                                    id="CRENPVA" list="CdpNSvaList">
                                                                <datalist id="CdpNSvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb"></th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_LENPSPH"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LENPSPH"
                                                                    id="CLENPSPH" list="CdpsphList"
                                                                    (change)="calculate('', 'CLN', 0.00 , 'con1')"
                                                                    (blur)="calculate('', 'CLN', 0.00 , 'con1');validateCont_SphInputLeft('LENPSPH')">
                                                                <datalist id="CdpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="C_LENPCYL"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LENPCYL"
                                                                    id="CLENPCYL" list="CdpcylList"
                                                                    (change)="calculate('', 'CLCYL', 0.00 , 'con1')">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_LENPAxis"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LENPAxis"
                                                                    (change)="calculate('', 'CLAxis', 0.00 , 'con1')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="C_LENPVA"
                                                                    [(ngModel)]="masterObject3.Contact.OCULARPWE.LENPVA"
                                                                    id="CLENPVA" list="CdpNSvaList">
                                                                <datalist id="CdpNSvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb"></th>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>

                                            <div class="row mt-3">

                                                <div class="col-xxl-10 col-xl-10 col-lg-12 col-md-12 col-12">

                                                    <h4 class="OEx-h4">   Trial Selection</h4>

                                                    <table style="width:100%">
                                                        <tr>
                                                            <th>Type</th>
                                                            <th>Eye</th>
                                                            <th>TRIALNAME</th>
                                                            <th>DIA</th>
                                                            <th>POWER</th>
                                                            <th>BASE CURVE</th>
                                                            <th>MODAILTY</th>
                                                            <th>Over Refraction <input type="checkbox" id="powerCheck"
                                                                    [(ngModel)]="trial.powerCheck" name="powerCheck"
                                                                    value="powerCheck"></th>

                                                        </tr>
                                                        <tr>
                                                            <td> <select class="inputW" type="text" name="Type"
                                                                    [(ngModel)]="trial.Type">
                                                                    <option value="SOFT">SOFT</option>
                                                                    <option value="RIGID">RIGID</option>
                                                                    <option value="SCLERAL">SCLERAL</option>
                                                                    <option value="ORTHO-K">ORTHO-K</option>
                                                                </select>
                                                            </td>
                                                            <td class="ms-1" style="display:flex;"> 
                                                                
                                                                R<input type="checkbox" class="me-1 ms-1" id="eyeTypeR"
                                                                    [(ngModel)]="trial.eyeTypeR" name="eyeTypeR"
                                                                    value="eyeTypeR" (click)="eyeTrial('eyeTypeR')">
                                                                L<input class="me-1 ms-1" type="checkbox" id="eyeTypeL"
                                                                    [(ngModel)]="trial.eyeTypeL" name="eyeTypeL"
                                                                    value="eyeTypeL" (click)="eyeTrial('eyeTypeL')">
                                                            </td>
                                                            <th> <input class="inputW" type="text" name="TRIALNAME"
                                                                    [(ngModel)]="trial.TRIALNAME">
                                                            </th>
                                                            <th> <input class="inputW" type="text" name="DIA"
                                                                    [(ngModel)]="trial.DIA">
                                                            </th>
                                                            <th> <input class="inputW" type="text" name="POWER"
                                                                    [(ngModel)]="trial.POWER">
                                                            </th>
                                                            <th> <input class="inputW" type="text" name="BASECURVE"
                                                                    [(ngModel)]="trial.BASECURVE">
                                                            </th>
                                                            <th> <input class="inputW" type="text" name="MODAILTY"
                                                                    [(ngModel)]="trial.MODAILTY">
                                                            </th>
                                                            <th> 
                                                            </th>
                                                        </tr>

                                                    </table>

                                                    <table *ngIf="trial.powerCheck == true"
                                                        style="width:100%;border: 1px solid; " class="sub-tbl mt-3">
                                                        <!-- <tr>
                                                            <th class="sub-pb" colspan="6" class="text-center">RightEye
                                                            </th>
                                                            <th class="sub-pb" colspan="5" class="text-center">LeftEye
                                                            </th>

                                                        </tr> -->
                                                        <tr class="pt-3">
                                                            <th class="sub-pb"></th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">SPH</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">CYL</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">AXIS</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">VA</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">ADD</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">SPH</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">CYL</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">AXIS</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">VA</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">ADD</th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">DP</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW" type="text" name="REDPSPH_TP"
                                                                    [(ngModel)]="trial.trialPWR.REDPSPH" id="CREDPSPH"
                                                                    list="cdpsphList"
                                                                    (change)="calculate('', 'CRD', 0.00 ,'con')"
                                                                    (blur)="calculate('', 'CRD', 0.00 ,'con');validateCont_SphInputRight('REDPSPH')">
                                                                <datalist id="cdpsphList">c
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW " type="text" name="CREDPCYL_TP"
                                                                    [(ngModel)]="trial.trialPWR.REDPCYL" id="CREDPCYL"
                                                                    list="CdpcylList">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW " type="text" name="CREDPAxis_TP"
                                                                    [(ngModel)]="trial.trialPWR.REDPAxis">
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW " type="text" name="CREDPVA_TP"
                                                                    [(ngModel)]="trial.trialPWR.REDPVA" id="CREDPVA"
                                                                    list="CdpvaList">
                                                                <datalist id="CdpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW" type="text" name="CR_Addition_TP"
                                                                    [(ngModel)]="trial.trialPWR.R_Addition"
                                                                    (change)="calculate(' ', 'CR', 0.00 ,'con')">
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW" type="text" name="CLEDPSPH_TP"
                                                                    [(ngModel)]="trial.trialPWR.LEDPSPH" id="CLEDPSPH"
                                                                    list="CdpsphList"
                                                                    (change)="calculate('', 'CLD', 0.00 ,'con')"
                                                                    (blur)="calculate('', 'CLD', 0.00 ,'con');validateCont_SphInputLeft('LEDPSPH')">
                                                                <datalist id="CdpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW" type="text" name="CLEDPCYL_TP"
                                                                    [(ngModel)]="trial.trialPWR.LEDPCYL" id="CLEDPCYL"
                                                                    list="CdpcylList">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW" type="text" name="CLEDPAxis_TP"
                                                                    [(ngModel)]="trial.trialPWR.LEDPAxis">
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW " type="text" name="CLEDPVA_TP"
                                                                    [(ngModel)]="trial.trialPWR.LEDPVA" id="CLEDPVA"
                                                                    list="CdpNvaList">
                                                                <datalist id="CdpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW " type="text" name="CL_Addition_TP"
                                                                    [(ngModel)]="trial.trialPWR.L_Addition"
                                                                    (change)="calculate('', 'CL', 0.00 ,'con')">
                                                            </th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">NP</th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW" type="text" name="CRENPSPH_TP"
                                                                    [(ngModel)]="trial.trialPWR.RENPSPH" id="CRENPSPH"
                                                                    list="CdpsphList"
                                                                    (change)="calculate(' ', 'CRN', 0.00 ,'con')"
                                                                    (blur)="calculate(' ', 'CRN', 0.00 ,'con');validateCont_SphInputRight('RENPSPH')">
                                                                <datalist id="CdpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW " type="text" name="CRENPCYL_TP"
                                                                    [(ngModel)]="trial.trialPWR.RENPCYL" id="CRENPCYL"
                                                                    list="CdpcylList"
                                                                    (change)="calculate('', 'CRCYL', 0.00 ,'con')">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW" type="text" name="CRENPAxis_TP"
                                                                    [(ngModel)]="trial.trialPWR.RENPAxis"
                                                                    (change)="calculate('', 'CRAxis', 0.00 ,'con')">
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true">
                                                                <input class="inputW" type="text" name="CRENPVA_TP"
                                                                    [(ngModel)]="trial.trialPWR.RENPVA" id="CRENPVA"
                                                                    list="CdpNSvaList">
                                                                <datalist id="CdpNSvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeR == true"></th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW" type="text" name="CLENPSPH_TP"
                                                                    [(ngModel)]="trial.trialPWR.LENPSPH" id="CLENPSPH"
                                                                    list="CdpsphList"
                                                                    (change)="calculate('', 'CLN', 0.00 ,'con')"
                                                                    (blur)="calculate('', 'CLN', 0.00 ,'con');validateCont_SphInputLeft('LENPSPH')">
                                                                <datalist id="CdpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW " type="text" name="CLENPCYL_TP"
                                                                    [(ngModel)]="trial.trialPWR.LENPCYL" id="CLENPCYL"
                                                                    list="CdpcylList"
                                                                    (change)="calculate('', 'CLCYL', 0.00 ,'con')">
                                                                <datalist id="CdpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW" type="text" name="CLENPAxis_TP"
                                                                    [(ngModel)]="trial.trialPWR.LENPAxis"
                                                                    (change)="calculate('', 'CLAxis', 0.00,'con')">
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true">
                                                                <input class="inputW" type="text" name="CLENPVA_TP"
                                                                    [(ngModel)]="trial.trialPWR.LENPVA" id="CLENPVA"
                                                                    list="CdpNSvaList">
                                                                <datalist id="CdpNSvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb" *ngIf="this.trial.eyeTypeL == true"></th>
                                                        </tr>

                                                    </table>
                                                    <table>
                                                        <tr class="text-center">
                                                            <th> <button type="button" mat-raised-button color="primary"
                                                                    (click)="AddItam('TRIAL')">Add</button> </th>
                                                        </tr>
                                                    </table>
                                                    <div class="table-responsive mt-3"
                                                        style="border: 1px solid #666666 !important;height: 100%; overflow: auto; height: 100px; padding: 0px;">
                                                        <table class="tableop">
                                                            <tbody>
                                                                <tr class="text-center"
                                                                    *ngFor="let co of masterObject3.Contact.trialList; let i = index;"
                                                                    style="white-space: nowrap;">
                                                                    <td>
                                                                        <mat-icon (click)="tempDelete('TRIAL', i)"
                                                                            class="delete_iconO">delete_forever</mat-icon>
                                                                    </td>
                                                                    <td class="text-left">{{co.Type}}</td>
                                                                    <td class="text-left">
                                                                         <span *ngIf="co.eyeTypeL == true">Eye Left </span>
                                                                         <span *ngIf="co.eyeTypeR == true">Eye Right</span>
                                                                    </td>
                                                                    <td class="text-left">{{co.TRIALNAME }}</td>
                                                                    <td class="text-left">{{co.DIA }}</td>
                                                                    <td class="text-left">{{co.POWER }}</td>
                                                                    <td class="text-left">{{co.BASECURVE }}</td>
                                                                    <td class="text-left">{{co.MODAILTY }}</td>
                                                                    <!-- <td class="text-left">{{co.OverRefraction }}</td> -->
                                                                    <td class="text-left">
                                                                        <span *ngIf="co.powerCheck == true">Over Refraction </span>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>


                                                    
                                                </div>
                                                </div>

                                                <div class="row mt-3">


                                                <div class="col-xl-4 col-lg-6 col-md-6 col-12 pt-4">

                                                    <div class="row">
                                                       
                                                        <div class="col-lg-2 col-md-2 col-6">
                                                            <label>EYE</label> <br>
                                                            <select class="inputW" type="text" name="Eye"
                                                                    [(ngModel)]="fitment.Eye">
                                                                    <option value="RightEye">Right</option>
                                                                    <option value="LeftEye">Left</option>
                                                                </select>
                                                        </div>
                                                         <div class="col-lg-4 col-md-5 col-6">
                                                            <label>FIT ASSESSMENT</label> <br>
                                                            <select class="inputW" type="text" name="FITASSESSMENT"
                                                                    [(ngModel)]="fitment.FITASSESSMENT">
                                                                    <option value="CENTRATION">CENTRATION</option>
                                                                    <option value="STABILITY">STABILITY</option>
                                                                    <option value="MOVEMENT">MOVEMENT</option>
                                                                    <option value="OTHER DETAILS">OTHER DETAILS</option>
                                                                </select>
                                                        </div>
                                                        <div class="col-lg-6 col-md-5 col-12">
                                                            <label for="coText" class="form-label"></label> <br>
                                                            <div class="d-flex">
                                                                    <input class="inputW" type="text"
                                                                    name="FITASSESSMENTText"
                                                                    [(ngModel)]="fitment.FITASSESSMENTText" (keydown.enter)="AddItam('FITASSESSMENTText')">

                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('FITASSESSMENTText')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let co of masterObject3.Contact.FitasseementList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon (click)="tempDelete('FITASSESSMENTText', i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{co.Eye}}</td>
                                                                            <td class="text-left">{{co.FITASSESSMENT}}</td>
                                                                            <td class="text-left">{{co.FITASSESSMENTText }}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xl-2 col-lg-2 col-md-3 col-12 ">
                                                    <div class="row ">
                                                        <div class="col-12 mt-1 ">
                                                                    <img class="fit-picture" width="170" height="170"
                                                                        [src]="masterObject3.Contact.ImageContact" style="border:1px solid">
                                                                </div>
                                                                <div class="col-12 mb-0 "
                                                                    (click)="fileInput.click()"
                                                                    style="cursor: pointer;">
                                                                    <i class="fa-solid fa-cloud-arrow-up upload_icon">
                                                                        <span
                                                                            style="font-size: 10px;letter-spacing: 2px;">
                                                                            User Image </span>
                                                                    </i>
                                                                    <input #fileInput id="my-input" name='PhotoURL'
                                                                        type="file"
                                                                        (change)="uploadImage($event, 'company')"
                                                                        style="display:none;">
                                                         </div>
                                                     </div>
                                                </div>
                                                <div class="col-xl-2 col-lg-2 col-md-3 col-12 ">
                                                    <div class="row ">
                                                        <div class="col-12 mt-1 ">
                                                                    <img class="fit-picture" width="170" height="170"
                                                                        [src]="masterObject3.Contact.ImageContact1" style="border:1px solid">
                                                                </div>
                                                                <div class="col-12 mb-0 "
                                                                    (click)="fileInput1.click()"
                                                                    style="cursor: pointer;">
                                                                    <i class="fa-solid fa-cloud-arrow-up upload_icon">
                                                                        <span
                                                                            style="font-size: 10px;letter-spacing: 2px;">
                                                                            User Image </span>
                                                                    </i>
                                                                    <input #fileInput1 id="my-input1" name='PhotoURL1'
                                                                        type="file"
                                                                        (change)="uploadImage($event, 'company1')"
                                                                        style="display:none;">
                                                         </div>
                                                     </div>
                                                </div>

                                               
                                            </div>

                                            <div class="row">
                                                <div class="col-xl-6 col-lg-6 col-md-12 col-12 ">
                                                     <table style="width:100%" class="mt-3">
                                                        <tr>
                                                            <th style="width:5%">ADVICE</th>
                                                            <th><input class="inputW" type="text" name="ADVICE"
                                                                    [(ngModel)]="masterObject3.Contact.ADVICE"></th>
                                                        </tr>
                                                        <tr>
                                                            <th class="mt-4">
                                                                <button *ngIf="this.masterObject3.ID == null"
                                                                    (click)="onSubmit('Contact')" [disabled]="!f3.valid"
                                                                    mat-raised-button color="primary" type="button">Save
                                                                </button>
                                                                <button *ngIf="this.masterObject3.ID != null"
                                                                    (click)="onUpdate('Contact')" [disabled]="!f3.valid"
                                                                    mat-raised-button color="primary" type="button">
                                                                    Update
                                                                </button>
                                                            </th>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="row mt-3">

                                                 <div class="col-xl-6 col-lg-6 col-md-12 col-12 ">
                                                    <table
                                                        class="table table-striped table-hover table-sm table-bordered"
                                                        style="border: 2px solid #fff !important; margin: 0;">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="4">Actions</th>
                                                                <th>VisitNo</th>
                                                                <th>VisitDate</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="text-center"
                                                                *ngFor="let s of selectedObjectList let i = index;"
                                                                style="white-space: nowrap;">
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:red"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="deletetype(s.ID,'Contact')">delete_forever</mat-icon>
                                                                </td>
                                                                <td style="width: 7%;">
                                                                         <button style="background: none; border:none"  (click)="optometristPDF(s)">
                                                         <i class="far fa-file-pdf" style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #3f51b5;"> </i>
                                                        </button> 
                                                                </td>
                                                                 <td style="width: 7%;">
                                                                         <button [disabled]="this.pdfLink ==''" style="background: none; border:none"  (click)="optometristPDFWhats()">
                                                         <i class="fa-brands fa-whatsapp " style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #40d248;"> </i>
                                                        </button> 
                                                                </td>
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:rgb(7, 7, 105)"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="editMainList(s,'Contact')">edit</mat-icon>
                                                                </td>
                                                                <td>{{selectedObjectList.length - i}} </td>
                                                                <td>{{s.CreatedOn | date: 'short'}} </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>


                                        </form>
                                    </div>

                                    <!-- low vision -->
                                    <div class="tab-pane fade" id="ex1-tabs-4" role="tabpanel"
                                        aria-labelledby="ex1-tab-4">

                                        <form #f4="ngForm" autocomplete="off">
                                            <div class="row">
                                                <div class="col-xl-2 col-lg-3 col-md-3 col-6">
                                                    <mat-form-field class="example-full-width mb-0">
                                                        <mat-label>Reason for visit</mat-label>
                                                        <input matInput name="Reasonforvisit"
                                                            [(ngModel)]="masterObject4.lowVision.Reasonforvisit"
                                                            #Reasonforvisitcontrol />
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-3 col-6">
                                                    <mat-form-field class="example-full-width mb-0">
                                                        <mat-label>Occupation</mat-label>
                                                        <input matInput name="Occupation"
                                                            [(ngModel)]="masterObject4.lowVision.Occupation"
                                                            #Occupationcontrol />
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-xl-1 col-lg-2 col-md-2 col-12 ms-auto">
                                                    <button type="button" mat-raised-button color="primary"
                                                        (click)="NewVisit('lowVision')">New Visit</button>
                                                </div>
                                            </div>
                                            <div class="row">

                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>C/O</label> <br>
                                                            <select class="inputWs" name="coLow.Co"
                                                                [(ngModel)]="coLow.Co" #Cocontrol>
                                                                 <option value="Headache">Headache</option>
                                                                <option value="Irritation">Irritation</option>
                                                                <option value="Watering">Watering</option>
                                                                <option value="Pain behind eyes">Pain behind eyes</option>
                                                                <option value="eye fatigue">eye fatigue</option>
                                                                <option value="Regular checkup">Regular checkup</option>
                                                                <option value="Redness">Redness</option>
                                                                <option value="Eye Pain">Eye Pain</option>
                                                                <option value="Blurr Vision">Blurr Vision</option>
                                                                <option value="Double Vision">Double Vision</option>
                                                                <option value="Stye">Stye</option>
                                                                <option value="Chalazion">Chalazion</option>
                                                                <option value="Light Sensitivity">Light Sensitivity</option>
                                                                <option value="Dryness">Dryness</option>
                                                                <option value="Shadowing">Shadowing</option>
                                                                 <option value="Itching">Itching</option>
                                                                <option value="Discharge">Discharge</option>
                                                                <option value="Swelling">Swelling</option>
                                                                
                                                                <option value="Other">Other</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="coLow.Cotext"
                                                                    [(ngModel)]="coLow.CoText" #Cotextcontrol
                                                                    (keydown.enter)="AddItam('lowCO')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowCO')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let clo of masterObject4.lowVision.coListLow let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowCO' , i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{clo.Co}}</td>
                                                                            <td class="text-left">{{clo.CoText }}</td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Ocular History</label> <br>
                                                            <select class="inputWs" name="OcularHistory"
                                                                [(ngModel)]="ocularHistoryLow.OcularHistory"
                                                                #OcularHistorycontrol>
                                                                <option value="Cataract">Cataract</option>
                                                                <option value="Galucoma">Galucoma</option>
                                                                <option value="Retinal Detachment">Retinal Detachment</option>
                                                                <option value="Retinitis Pigmentosa">Retinitis Pigmentosa</option>
                                                                <option value="Conjunctivitis">Conjunctivitis</option>
                                                                <option value="Pytergium">Pytergium</option>
                                                                <option value="Pinguecula">Pinguecula</option>
                                                                <option value="ARMD">ARMD</option>
                                                                <option value="Diabetic Retinopathy">Diabetic Retinopathy</option>
                                                                <option value="Hypertensive Retinopathy">Hypertensive Retinopathy</option>
                                                                <option value="Dry eye">Dry eye</option>
                                                                <option value="Blepharitis">Blepharitis</option>
                                                                <option value="Amblyopia">Amblyopia</option>
                                                                <option value="Floaters">Floaters</option>
                                                                <option value="Recurrent Stye">Recurrent Stye</option>
                                                                <option value="CRAO">CRAO</option>
                                                                <option value="CRVO">CRVO</option>
                                                                <option value="BRAO">BRAO</option>
                                                                <option value="BRVO">BRVO</option>
                                                                <option value="Ocular Albinisim">Ocular Albinisim</option>
                                                                <option value="Bell's Palsy">Bell's Palsy</option>
                                                                <option value="CSCR">CSCR</option>
                                                                <option value="CME">CME</option>
                                                                <option value="Color Blindness">Color Blindness</option>
                                                                <option value="Corneal Ulcer">Corneal Ulcer</option>
                                                                <option value="Uveitis">Uveitis</option>
                                                                <option value="Ptosis">Ptosis</option>
                                                                <option value="Keratoconus">Keratoconus</option>
                                                                <option value="Keratitis">Keratitis</option>
                                                                <option value="Macular Edema">Macular Edema</option>
                                                                <option value="Nystagmus">Nystagmus</option>
                                                                <option value="Optic Neuritis">Optic Neuritis</option>
                                                                <option value="Twitching">Twitching</option>
                                                                <option value="Surgery">Surgery</option>
                                                                <option value="Other">Other</option>
                                                                <option value="None">None</option>
                                                            </select>

                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="OcularHistoryText"
                                                                    [(ngModel)]="ocularHistoryLow.OcularHistoryText"
                                                                    #OcularHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('lowOcularHistory')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowOcularHistory')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let oh of masterObject4.lowVision.ocularHistoryList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowOcularHistory' , i)"
                                                                                    class="delete_iconO">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{oh.OcularHistory}}
                                                                            </td>
                                                                            <td class="text-left">{{oh.OcularHistoryText
                                                                                }}</td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Systemic History</label> <br>
                                                            <select class="inputWs" name="SystemicHistory"
                                                                [(ngModel)]="systemicHistoryLow.SystemicHistory"
                                                                #SystemicHistorycontrol>
                                                                <option value="Diabetics Type I">Diabetics Type I</option>
                                                                <option value="Diabetics Type II">Diabetics Type II</option>
                                                                <option value="Hypertension">Hypertension</option>
                                                                <option value="Hypotension">Hypotension</option>
                                                                <option value="Hyperthyroidism">Hyperthyroidism</option>
                                                                <option value="Hypothyroidism">Hypothyroidism</option>
                                                                <option value="Thyroid">Thyroid</option>
                                                                <option value="Asthma">Asthma</option>
                                                                <option value="Arthritis">Arthritis</option>
                                                                <option value="Migrane">Migrane</option>
                                                                <option value="Sinus">Sinus</option>
                                                                <option value="Anemia">Anemia</option>
                                                                <option value="Congential">Congential</option>
                                                                <option value="Autoimmune">Autoimmune</option>
                                                                <option value="Other">Other</option>
                                                                <option value="None">None</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">

                                                                <input class="inputW" name="SystemicHistoryText"
                                                                    [(ngModel)]="systemicHistoryLow.SystemicHistoryText"
                                                                    #SystemicHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('lowSystemicHistory')" />

                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowSystemicHistory')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let sh of masterObject4.lowVision.systemicHistoryList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowSystemicHistory' , i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{sh.SystemicHistory}}
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{sh.SystemicHistoryText }}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Family History</label> <br>
                                                            <select class="inputWs" name="FamilySystmeicHistory"
                                                                [(ngModel)]="familySystmeicLow.FamilySystmeicHistory"
                                                                #FamilySystmeicHistorycontrol>
                                                                 <option value='Glaucoma'>Glaucoma</option>
                                                                <option value='Myopia'>Myopia</option>
                                                                <option value='Other'>Other</option>
                                                                <option value='None'>None</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">

                                                                <input class="inputW" name="FamilySystmeicHistoryText"
                                                                    [(ngModel)]="familySystmeicLow.FamilySystmeicHistoryText"
                                                                    #FamilySystmeicHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('lowFamilySystmeic')" />

                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowFamilySystmeic')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let fsh of masterObject4.lowVision.familySystmeicList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowFamilySystmeic' , i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{fsh.FamilySystmeicHistory}}
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{fsh.FamilySystmeicHistoryText }}</td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>



                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12 mt-2">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Birth History</label> <br>
                                                            <select class="inputWs" name="BirthHistory"
                                                                [(ngModel)]="BirthHistoryLow.BirthHistory"
                                                                #BirthHistorycontrol>
                                                                <option value='Normal'>Normal</option>
                                                                <option value='C-Section'>C-Section</option>
                                                                <option value='PRE-Mature'>PRE-Mature</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="BirthHistoryText"
                                                                    [(ngModel)]="BirthHistoryLow.BirthHistoryText"
                                                                    #BirthHistoryTextcontrol
                                                                    (keydown.enter)="AddItam('lowBirthHistory')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowBirthHistory')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let bh of masterObject4.lowVision.birthHistoryList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowBirthHistory' , i)"
                                                                                    class="delete_iconO ">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{bh.BirthHistory}}
                                                                            </td>
                                                                            <td class="text-left">{{bh.BirthHistoryText
                                                                                }}</td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12  mt-2">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label>Postural Abnormalities</label> <br>
                                                            <select class="inputWs" name="PosturalAbnormalities"
                                                                [(ngModel)]="PosturalAbnormalitiesLow.PosturalAbnormalities"
                                                                #PosturalAbnormalities>
                                                                <option value='Head Tilts'>Head Tilts</option>
                                                                <option value='Head Turn'>Head Turn</option>
                                                                <option value='Compensatory Head Posture'>Compensatory
                                                                    Head Posture</option>
                                                                <option value='Eccentric Veiwing'>Eccentric
                                                                    Veiwing</option>
                                                                <option value='Other'>Other</option>
                                                                <option value='None'>None</option>
                                                            </select>

                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="PosturalAbnormalitiesText"
                                                                    [(ngModel)]="PosturalAbnormalitiesLow.PosturalAbnormalitiesText"
                                                                    #PosturalAbnormalitiesTexttcontrol
                                                                    (keydown.enter)="AddItam('lowPosturalAbnormalities')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowPosturalAbnormalities')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let shl of masterObject4.lowVision.PosturalAbnormalitiesList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowPosturalAbnormalities' , i)"
                                                                                    class="delete_iconO">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{shl.PosturalAbnormalities}}
                                                                            </td>
                                                                            <td class="text-left">
                                                                                {{shl.PosturalAbnormalitiesText }}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12  mt-2">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label> Mobility</label> <br>
                                                            <select class="inputWs" name="Mobility"
                                                                [(ngModel)]="MobilityLow.Mobility" #Mobilitycontrol>
                                                                <option value='Postural Stiffness'>Postural
                                                                    Stiffness</option>
                                                                <option
                                                                    value='Close Proximity to wall or Handrails while travelling'>
                                                                    Close
                                                                    Proximity to wall or Handrails while
                                                                    travelling</option>
                                                                <option value='Bumping into Objects'>Bumping into
                                                                    Objects</option>
                                                                    <option value='Other'>Other</option>
                                                                <option value='None'>None</option>
                                                            </select>

                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">
                                                                <input class="inputW" name="MobilityText"
                                                                    [(ngModel)]="MobilityLow.MobilityText"
                                                                    #MobilityTextcontrol
                                                                    (keydown.enter)="AddItam('lowMobility')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowMobility')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let shl of masterObject4.lowVision.MobilityList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowMobility' , i)"
                                                                                    class="delete_iconO">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{shl.Mobility}}</td>
                                                                            <td class="text-left">{{shl.MobilityText }}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-xxl-3 col-xl-3 col-lg-4 col-md-6 col-12  mt-2">
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-5 col-6">
                                                            <label> Apperance</label> <br>
                                                            <select class="inputWs" name="Apperance"
                                                                [(ngModel)]="ApperanceLow.Apperance" #Apperancecontrol>
                                                                <option value='Squinting eyes'>Squinting
                                                                    eyes</option>
                                                                <option value='Indoor Tints'>Indoor Tints</option>
                                                                <option value='Erratic eye movements'>Erratic eye
                                                                    movements</option>
                                                                <option value='Mismatched Clothings'>Mismatched
                                                                    Clothings</option>
                                                                    <option value='Other'>Other</option>
                                                                <option value='None'>None</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-7 col-md-7 col-6">
                                                            <label for="Cotext" class="form-label"></label> <br>
                                                            <div class="d-flex">

                                                                <input class="inputW" name="ApperanceText"
                                                                    [(ngModel)]="ApperanceLow.ApperanceText"
                                                                    #ApperanceTextcontrol
                                                                    (keydown.enter)="AddItam('lowApperance')" />
                                                                <button class="addItem" type="button"
                                                                    (click)="AddItam('lowApperance')">Add</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-12 mt-2"
                                                            style="overflow: auto; height: 100px; ">
                                                            <div class="table-responsive"
                                                                style="border: 1px solid #666666 !important;height: 100%;">
                                                                <table class="tableop">
                                                                    <tbody>
                                                                        <tr class="text-center"
                                                                            *ngFor="let shl of masterObject4.lowVision.ApperanceList let i = index;"
                                                                            style="white-space: nowrap;">
                                                                            <td>
                                                                                <mat-icon
                                                                                    (click)="tempDelete('lowApperance' , i)"
                                                                                    class="delete_iconO">delete_forever</mat-icon>
                                                                            </td>
                                                                            <td class="text-left">{{shl.Apperance}}</td>
                                                                            <td class="text-left">{{shl.ApperanceText }}
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>

                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>




                                            <div class="row pt-2">
                                                <div class=" col-12">
                                                    <h4 class="OEx-h4">Unaided</h4>
                                                </div>
                                                <div class="col-xl-4 col-lg-6 col-md-12 col-12 ms-2"
                                                    style="overflow: auto; height: 150px; padding: 0px 13px;">

                                                    <table>
                                                        <tr class="mobbtn" style="width:100%">
                                                            <th></th>
                                                            <th>Distance</th>
                                                            <th>Near</th>
                                                            <th>Distance_Chart</th>
                                                            <th>Near_Chart</th>
                                                        </tr>
                                                        <tr class="mobbtn" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="RED"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.RED"
                                                                    id="RED" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="REN"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.REN"
                                                                    id="REN" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDC"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.REDC">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="RENC"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.RENC">
                                                            </td>

                                                        </tr>
                                                        <tr class="mobbtn pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="LED"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.LED"
                                                                    id="LED" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW " type="text" name="LEN"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.LEN"
                                                                    id="LEN" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <!-- <input class="inputW" type="text" name="LEDC"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.LEDC"> -->
                                                            </td>
                                                            <td>
                                                                <!-- <input class="inputW" type="text" name="LENC"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.LENC"> -->
                                                            </td>
                                                        </tr>
                                                        <tr class="mobbtn pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                BE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="BED"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.BED"
                                                                    id="BED" list="dpvaList">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="BEN"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.BEN"
                                                                    id="BEN" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <!-- <input class="inputW" type="text" name="BEDC"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.BEDC"> -->
                                                            </td>
                                                            <td>
                                                                <!-- <input class="inputW" type="text" name="BENC"
                                                                    [(ngModel)]="masterObject4.lowVision.Unaided.BENC"> -->
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-12">
                                                    <h4 class="OEx-h4">Refraction</h4>
                                                </div>
                                                <div class="col-xl-4 col-lg-6 col-md-12 col-12 "
                                                    style=" padding: 0px 13px;">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <th>Instrument used </th>
                                                            <th> <input class="inputW" type="text"
                                                                    name="Instrument used"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.InstrumentUsed">
                                                            </th>
                                                        </tr>
                                                    </table>

                                                    <table class="mt-3" style="width:100%; border:1px solid ">
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th></th>
                                                            <th>SPH</th>
                                                            <th>CYL</th>
                                                            <th>Axis</th>
                                                            <th>H_KValue</th>
                                                            <th>V_KValue</th>
                                                        </tr>
                                                        <tr class="mobbtn1" style="width:100%">
                                                            <th>
                                                                RE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPSPH_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.REDPSPH"
                                                                    id="REDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}}</option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" type="text" name="REDPCYL_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.REDPCYL"
                                                                    id="REDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="REDPAxis_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.REDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="RE_KH_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.RE_KH">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="RE_KV_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.RE_KV">
                                                            </td>
                                                        </tr>
                                                        <tr class="mobbtn1 pt-md-3 pt-1" style="width:100%">
                                                            <th>
                                                                LE
                                                            </th>
                                                            <td>
                                                                <input class="inputW" type="text" name="LEDPSPH_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.LEDPSPH"
                                                                    id="LEDPSPH" list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW " type="text" name="LEDPCYL_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.LEDPCYL"
                                                                    id="LEDPCYL" list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LEDPAxis_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.LEDPAxis">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LE_KH_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.LE_KH">
                                                            </td>
                                                            <td>
                                                                <input class="inputW" name="LE_KV_LR"
                                                                    [(ngModel)]="masterObject4.lowVision.instrumentUsed.LE_KV">
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <h4 class="OEx-h4">Subjective Refraction (Final Power)</h4>
                                                </div>
                                                <div class="col-xl-6 col-lg-8 col-md-12 col-12">
                                                    <table style="width:100%;border: 1px solid; font-weight: 600 !important;" class="sub-tbl">
                                                        <tr>
                                                            <th class="sub-pb" colspan="6" class="text-center">RightEye
                                                            </th>
                                                            <th class="sub-pb" colspan="5" class="text-center">LeftEye
                                                            </th>

                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb"></th>
                                                            <th class="sub-pb">SPH</th>
                                                            <th class="sub-pb">CYL</th>
                                                            <th class="sub-pb">AXIS</th>
                                                            <th class="sub-pb">VA</th>
                                                            <th class="sub-pb">ADD</th>
                                                            <th class="sub-pb">SPH</th>
                                                            <th class="sub-pb">CYL</th>
                                                            <th class="sub-pb">AXIS</th>
                                                            <th class="sub-pb">VA</th>
                                                            <th class="sub-pb">ADD</th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">DP</th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="REDPSPH_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.REDPSPH"
                                                                    id="REDPSPH" list="dpsphList"
                                                                    (change)="calculate('Lens', 'RD', 0.00,'low');validateSphInputRight('REDPSPH')">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}}</option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="REDPCYL_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.REDPCYL"
                                                                    id="REDPCYL"
                                                                    (change)="calculate('Lens', 'RCYL', 0.00 ,'low');validateCyLInputRight('REDPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="REDPAxis_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.REDPAxis"
                                                                    (change)="calculate('Lens', 'RAxis', 0.00 ,'low')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="REDPVA_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.REDPVA"
                                                                    (focus)="VAList()" (input)="filterPVAList($event)"
                                                                    id="REDPVA" list="dpvaList" />
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name"
                                                                        *ngFor="let d of filteredPVAList">
                                                                        {{d.Name}}
                                                                    </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="R_Addition_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.R_Addition"
                                                                    (change)="calculate('Lens', 'R', 0.00 ,'low')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LEDPSPH_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LEDPSPH"
                                                                    id="LEDPSPH"
                                                                    (change)="calculate('Lens', 'LD', 0.00 ,'low') ;validateSphInputLeft('LEDPSPH')"
                                                                    list="dpsphList">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="LEDPCYL_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LEDPCYL"
                                                                    id="LEDPCYL"
                                                                    (change)="calculate('Lens', 'RDSCYL', 0.00 ,'low') ;validateCyLInputLeft('LEDPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="LEDPAxis_Lsp"
                                                                    (change)="calculate('Lens', 'RDSAxis', 0.00 ,'low')"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LEDPAxis">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LEDPVA_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LEDPVA"
                                                                    id="LEDPVA" list="dpvaList" (focus)="VAList()"
                                                                    (input)="filterPVAList($event)">
                                                                <datalist id="dpvaList">
                                                                    <option [value]="d.Name"
                                                                        *ngFor="let d of filteredPVAList">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="L_Addition_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.L_Addition"
                                                                    (change)="calculate('Lens', 'L', 0.00 ,'low')">
                                                            </th>
                                                        </tr>
                                                        <tr class="pt-3">
                                                            <th class="sub-pb">NP</th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="RENPSPH_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.RENPSPH"
                                                                    id="RENPSPH" list="dpsphList"
                                                                    (change)="calculate('Lens', 'RN', 0.00 ,'low') ;validateSphInputRight('RENPSPH')">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="RENPCYL_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.RENPCYL"
                                                                    id="RENPCYL"
                                                                    (change)="calculate('Lens', 'RNCYL', 0.00 ,'low') ;validateCyLInputRight('RENPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="RENPAxis_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.RENPAxis"
                                                                    (change)="calculate('Lens', 'RNAxis', 0.00 ,'low')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="RENPVA_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.RENPVA"
                                                                    id="RENPVA" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb"></th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LENPSPH_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LENPSPH"
                                                                    id="LENPSPH" list="dpsphList"
                                                                    (change)="calculate('Lens', 'LN', 0.00 ,'low') ;validateSphInputLeft('LENPSPH')">
                                                                <datalist id="dpsphList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataSPH">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold " type="text" name="LENPCYL_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LENPCYL"
                                                                    id="LENPCYL"
                                                                    (change)="calculate('Lens', 'LNCYL', 0.00 ,'low') ;validateCyLInputLeft('LENPCYL')"
                                                                    list="dpcylList">
                                                                <datalist id="dpcylList">
                                                                    <option [value]="c.Name" *ngFor="let c of dataCYL">
                                                                        {{c.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" name="LENPAxis_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LENPAxis"
                                                                    (change)="calculate('Lens', 'LNAxis', 0.00 ,'low')">
                                                            </th>
                                                            <th class="sub-pb">
                                                                <input class="inputW fontbold" type="text" name="LENPVA_Lsp"
                                                                    [(ngModel)]="masterObject4.lowVision.SubjectivePWR.LENPVA"
                                                                    id="LENPVA" list="dpNvaList">
                                                                <datalist id="dpNvaList">
                                                                    <option [value]="d.Name" *ngFor="let d of dataPNVA">
                                                                        {{d.Name}} </option>
                                                                </datalist>
                                                            </th>
                                                            <th class="sub-pb"></th>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <h4 class="OEx-h4">low Vision Aids</h4>
                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-3 col-12 "
                                                    style=" padding: 0px 13px;">
                                                    <label>Instrument Used </label> <br>
                                                    <input class="inputW" type="text" name="InstrumentUsed"
                                                        [(ngModel)]="lowVisionAids.InstrumentUsed"
                                                        #InstrumentUsedcontrol />
                                                </div>

                                                <div class="col-xl-2 col-lg-3 col-md-3 col-12 "
                                                    style=" padding: 0px 13px;">
                                                    <label>Patient Compliance </label> <br>
                                                    <input class="inputW" type="text" name="patientCompliance"
                                                        [(ngModel)]="lowVisionAids.patientCompliance"
                                                        #patientCompliancecontrol />
                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-3col-12 "
                                                    style=" padding: 0px 13px;">
                                                    <label>Distance/Near </label> <br>
                                                    <input class="inputW" type="text" name="distanceNear"
                                                        [(ngModel)]="lowVisionAids.distanceNear" #distanceNearcontrol />
                                                </div>
                                                <div class="col-xl-1 col-lg-3 col-md-3 col-12">
                                                    <button type="button" mat-raised-button color="primary"
                                                        (click)="AddItam('lowVisionAids')">Add</button>
                                                </div>
                                            </div>

                                            <div class="row mt-2">
                                                <div class="col-xl-8 col-lg-8 col-md-12 col-12 me-auto"
                                                    style="overflow: auto; height: 100px; padding: 0px 10px;">
                                                    <div class="table-responsive"
                                                        style="border: 1px solid #666666 !important;height: 100%;">
                                                        <table class="tableop">
                                                            <tbody>
                                                                <tr class="text-center"
                                                                    *ngFor="let lva of masterObject4.lowVision.lowVisionAidsList let i = index;"
                                                                    style="white-space: nowrap;">
                                                                    <td>
                                                                        <mat-icon
                                                                            (click)="tempDelete('lowVisionAids' , i)"
                                                                            class="delete_iconO">delete_forever</mat-icon>
                                                                    </td>
                                                                    <td class="text-left">{{lva.InstrumentUsed}}</td>
                                                                    <td class="text-left">{{lva.patientCompliance }}
                                                                    </td>
                                                                    <td class="text-left">{{lva.distanceNear }}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-sm-12">
                                                    <h4 class="OEx-h4">PRESCRIBED</h4>
                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-3 col-12 "
                                                    style=" padding: 0px 13px;">
                                                    <label>OPTICAL AID </label> <br>
                                                    <input class="inputW" type="text" name="OPTICALAID"
                                                        [(ngModel)]="masterObject4.lowVision.OPTICALAID"
                                                        #OPTICALAIDcontrol />
                                                </div>

                                                <div class="col-xl-2 col-lg-3 col-md-3 col-12"
                                                    style=" padding: 0px 13px;">
                                                    <label>NON-OPTICAL AID </label> <br>
                                                    <input class="inputW" type="text" name="NONOPTICALAID"
                                                        [(ngModel)]="masterObject4.lowVision.NONOPTICALAID"
                                                        #NONOPTICALAIDcontrol />
                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-3 col-12 "
                                                    style=" padding: 0px 13px;">
                                                    <label>ENIVRMENTAL CHANGES</label> <br>
                                                    <input class="inputW" type="text" name="ENIVRMENTALCHANGES"
                                                        [(ngModel)]="masterObject4.lowVision.ENIVRMENTALCHANGES"
                                                        #ENIVRMENTALCHANGEScontrol />
                                                </div>
                                                <div class="col-xl-2 col-lg-3 col-md-3 col-12 "
                                                    style=" padding: 0px 13px;">
                                                    <label>ANY OTHER</label> <br>
                                                    <input class="inputW" type="text" name="ANYOTHER"
                                                        [(ngModel)]="masterObject4.lowVision.ANYOTHER"
                                                        #ANYOTHERcontrol />
                                                </div>
                                            </div>
                                            <div class="row mt-3">
                                                                <div class="col-xl-2 col-lg-2 col-md-3 col-6">

                                                                    <label>Additional Test</label> <br>
                                                                    <select class="inputWs" name="AdditionalTest"
                                                                        [(ngModel)]="additionalTestLow.AdditionalTest"
                                                                        #AdditionalTestcontrol>
                                                                        <option value='NITBUT'>NITBUT</option>
                                                                        <option value='SCHIRMERS TEST'>SCHIRMER'S
                                                                            TEST</option>
                                                                        <option value='PACHYMETRY'>PACHYMETRY</option>
                                                                        <option value='TONOMETRY'>TONOMETRY
                                                                        </option>
                                                                        <option value='CONTRAST SENSITIVITY'>CONTRAST
                                                                            SENSITIVITY</option>
                                                                        <option value='AXIAL LENGTH'>AXIAL LENGTH</option>
                                                                        <option value='AMSLER'> AMSLER</option>
                                                                        <option value='CONFRONTATION'> CONFRONTATION</option>
                                                                        <option value='VISUAL FIELD'>VISUAL FIELD </option>
                                                                    </select>
                                                                </div>
                                                                <div class=" col-xl-2 col-lg-2 col-md-3 col-6">
                                                                    <label>RE_TEXT</label> <br>
                                                                    <input class="inputW" name="RE_TEXT"
                                                                        [(ngModel)]="additionalTestLow.AdditionalTest_R_Text"
                                                                        #RE_TEXTcontrol />
                                                                </div>
                                                                <div class="col-xl-2 col-lg-2 col-md-3 col-6">
                                                                    <label>LE_TEXT</label> <br>
                                                                    <div class="d-flex">
                                                                        <input class="inputW" name="LE_TEXTcontrol"
                                                                            [(ngModel)]="additionalTestLow.AdditionalTest_L_Text"
                                                                            #LE_TEXTcontrol />
                                                                    </div>
                                                                </div>
                                                                <div class="col-xl-2 col-lg-2 col-md-3 col-6">
                                                                    <label>BE_TEXT</label> <br>
                                                                    <div class="d-flex">
                                                                        <input class="inputW" name="BE_TEXTcontrol"
                                                                            [(ngModel)]="additionalTestLow.AdditionalTest_B_Text"
                                                                            #BE_TEXTcontrol
                                                                            (keydown.enter)="AddItam('AdditionalLowTest')" />
                                                                        <button class="addItem" type="button"
                                                                            (click)="AddItam('AdditionalLowTest')">Add</button>
                                                                    </div>
                                                                </div>
                                                                <div class="col-xl-8 col-lg-8 col-md-12 col-12 mt-2"
                                                                    style="overflow: auto; height: 100px; ">
                                                                    <div class="table-responsive"
                                                                        style="border: 1px solid #666666 !important;height: 100%;">
                                                                        <table class="tableop">
                                                                            <tbody>
                                                                                <tr class="text-center"
                                                                                    *ngFor="let atl of masterObject4.lowVision.additionalTestListLow let i = index;"
                                                                                    style="white-space: nowrap;">
                                                                                    <td>
                                                                                        <mat-icon
                                                                                            (click)="tempDelete('additionalTestListLow', i)"
                                                                                            class="delete_iconO ">delete_forever</mat-icon>
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest}}
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest_R_Text }}
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest_L_Text }}
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        {{atl.AdditionalTest_B_Text }}
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>

                                                            </div>
                                            <div class="row mt-3">
                                                <div class=" col-xl-8 col-lg-10 col-md-10 col-12"
                                                    style=" padding: 0px 13px;">
                                                    <label>ADVICE</label> <br>
                                                    <input class="inputW" type="text" name="ADVICE"
                                                        [(ngModel)]="masterObject4.lowVision.ADVICE" #ADVICEcontrol />
                                                </div>
                                                <div class="col-2 ">
                                                    <button *ngIf="this.masterObject4.ID == null"
                                                        (click)="onSubmit('lowVision')" [disabled]="!f4.valid"
                                                        mat-raised-button color="primary" type="button">Save
                                                    </button>
                                                    <button *ngIf="this.masterObject4.ID != null"
                                                        (click)="onUpdate('lowVision')" [disabled]="!f4.valid"
                                                        mat-raised-button color="primary" type="button"> Update
                                                    </button>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-xl-6 col-lg-8 col-md-12 col-12">
                                                    <table
                                                        class="table table-striped table-hover table-sm table-bordered"
                                                        style="border: 2px solid #fff !important; margin: 0;">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="4">Actions</th>
                                                                <th>VisitNo</th>
                                                                <th>VisitDate</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="text-center"
                                                                *ngFor="let s of selectedObjectList let i = index;"
                                                                style="white-space: nowrap;">
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:red"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="deletetype(s.ID,'lowVision')">delete_forever</mat-icon>
                                                                </td>
                                                                <td style="width: 7%;">
                                                                         <button style="background: none; border:none"  (click)="optometristPDF(s)">
                                                         <i class="far fa-file-pdf" style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #3f51b5;"> </i>
                                                        </button> 
                                                                </td>
                                                                 <td style="width: 7%;">
                                                                         <button [disabled]="this.pdfLink ==''" style="background: none; border:none"  (click)="optometristPDFWhats()">
                                                         <i class="fa-brands fa-whatsapp " style="color: #ffffff;font-size: 1.3rem;cursor: pointer;     background: #40d248;"> </i>
                                                        </button> 
                                                                </td>
                                                                <td style="width: 7%;">
                                                                    <mat-icon style="color:rgb(7, 7, 105)"
                                                                        class=".delete_iconO ms-1"
                                                                        (click)="editMainList(s,'lowVision')">edit</mat-icon>
                                                                </td>
                                                                <td>{{selectedObjectList.length - i}} </td>
                                                                <td>{{s.CreatedOn | date: 'short'}} </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </form>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>