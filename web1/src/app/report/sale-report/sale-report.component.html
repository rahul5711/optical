<section class="content">
    <div class="container-fluid">
        <div class="block-header">
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-0">
                    <div class="card p-0">
                        <div class="header p-2 py-0 pt-1">
                            <div class="row">
                                <div class="col-md-1 col-7 p-0 ms-3">
                                    <h2>Sale Report </h2>
                                </div>
                            </div>
                        </div>
                        <mat-tab-group>
                            <!-- Bill  -->
                            <mat-tab *ngIf="viewSaleReport" label="Sale">
                                <div class="body">
                                    <form class="p-3 pb-0" #f1="ngForm" (ngSubmit)="getBillMaster()">
                                        <div class="row">
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Filter Types</mat-label>
                                                    <mat-select name="FilterTypes" [(ngModel)]="BillMaster.FilterTypes">
                                                        <mat-option value="BillDate">BillDate</mat-option>
                                                        <mat-option value="DeliveryDate">DeliveryDate</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>From</mat-label>
                                                    <input matInput name="FromDate" type="date"
                                                        (change)="getChangeDate()" [(ngModel)]="BillMaster.FromDate"
                                                         #DOBcontrol [disabled]="!editSaleReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>To</mat-label>
                                                    <input matInput type="date" name="ToDate"
                                                        [(ngModel)]="BillMaster.ToDate"  [disabled]="!editSaleReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup === 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="BillMaster.ShopID" multiple>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup !== 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="BillMaster.ShopID">
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Employee Name</mat-label>
                                                    <mat-select name="Employee" [(ngModel)]="BillMaster.EmployeeID"
                                                        #Employeecontrol>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option *ngFor="let el of employeeList let i = index;"
                                                            [value]="el.ID">
                                                            {{el.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <mat-error>Name is required</mat-error>
                                                </mat-form-field>
                                                <!-- <mat-form-field class="example-full-width">
                                                    <mat-label>Employee Name</mat-label>
                                                    <input type="text" placeholder="serach employee" aria-label="Text" matInput
                                                    name="EmployeeID"  [formControl]="myControl" [matAutocomplete]="auto2"
                                                           (input)="customerSearch(myControl.value, 'Name','Employee')">
                                                    <mat-autocomplete autoActiveFirstOption2 #auto2="matAutocomplete" >
                                                      <mat-option (click)="CustomerSelection('All','0')" value='All'>All</mat-option>
                                                      <mat-option (click)="CustomerSelection('emp',option2.ID)" *ngFor="let option2 of filteredOptions" [value]="option2.Name">
                                                        {{option2.Name}} {{option2.MobileNo1}}
                                                      </mat-option>
                                                    </mat-autocomplete>
                                                  </mat-form-field> -->
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width">
                                                    <mat-label>Customer</mat-label>
                                                    <input type="text" placeholder="serach customer" aria-label="Text"
                                                        matInput name="CustomerID" [formControl]="myControl"
                                                        [matAutocomplete]="auto"
                                                        (input)="customerSearch(myControl.value, 'Name','Customer')">
                                                    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                                        <mat-option (click)="CustomerSelection('All','0')"
                                                            value='All'>All</mat-option>
                                                        <mat-option (click)="CustomerSelection('Value',option.ID)"
                                                            *ngFor="let option of filteredOptions"
                                                            [value]="option.Name">
                                                            {{option.Name}} {{option.MobileNo1}}
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Customer TAXNo</mat-label>
                                                    <mat-select name="CustomerGSTNo"
                                                        [(ngModel)]="BillMaster.CustomerGSTNo">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="c.GSTNumber"
                                                            *ngFor="let c of customerListGST let i = index;">
                                                            {{c.GSTNumber}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Payment Status</mat-label>
                                                    <mat-select name="PaymentStatus"
                                                        [(ngModel)]="BillMaster.PaymentStatus">
                                                        <mat-option [value]="0"
                                                            *ngIf="this.employeeHide">All</mat-option>
                                                        <mat-option value="Paid"
                                                            *ngIf="this.employeeHide">Paid</mat-option>
                                                        <mat-option value="Unpaid"
                                                            *ngIf="!this.employeeHide">Unpaid</mat-option>
                                                        <mat-option value="Unpaid"
                                                            *ngIf="this.employeeHide">Unpaid</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Product Status</mat-label>
                                                    <mat-select name="ProductStatus"
                                                        [(ngModel)]="BillMaster.ProductStatus">
                                                        <mat-option value="All">All</mat-option>
                                                        <mat-option value="Pending">Pending</mat-option>
                                                        <mat-option value="Deliverd">Deliverd</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Bill Type</mat-label>
                                                    <mat-select name="ProductStatus" [(ngModel)]="BillMaster.BillType">
                                                        <mat-option value="All">All</mat-option>
                                                        <mat-option [value]=0>Service</mat-option>
                                                        <mat-option [value]=1>Invoice</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-6 col-12 mb-0 ">
                                                <button type="submit" mat-raised-button color="primary">
                                                    Search
                                                </button>
                                                <button type="button" class=" ms-2 me-2" mat-raised-button color="warn"
                                                    (click)="billMasterFromReset()">
                                                    Reset
                                                </button>
                                                <!-- <button mat-raised-button color="primary"
                                                    printTitle="sale Report {{this.shopLists}}"
                                                    printSectionId="PurchasePDF" ngxPrint
                                                    styleSheetFile="../../../assets/pdf.css">
                                                    <i class="far fa-file-pdf "
                                                        style="color: #ffffff;font-size: 22px;cursor: pointer;"> </i>
                                                </button> -->
                                            </div>
                                        </div>
                                    </form>
                                    <!-- Purchase list -->
                                    <div class="body p-2">
                                        <div id="sale-content" class="col-sm-12" style="overflow: auto; height: 450px;">
                                            <table class="table table-striped table-hover table-sm table-bordered"
                                                style="border: 2px solid #fff !important;" id="SaleExcel">
                                                <thead>
                                                    <tr style="white-space: nowrap;">
                                                        <th>S.No</th>
                                                        <th *ngIf="columnVisibility.InvoiceDate">InvoiceDate</th>
                                                        <th *ngIf="columnVisibility.InvoiceNo">InvoiceNo</th>
                                                        <th *ngIf="columnVisibility.CustomerName">CustomerName</th>
                                                        <th *ngIf="columnVisibility.MobileNo">MobileNo</th>
                                                        <th *ngIf="columnVisibility.PaymentStatus">PaymentStatus</th>
                                                        <th *ngIf="columnVisibility.Qty">Qty</th>
                                                        <th *ngIf="columnVisibility.Discount">Discount</th>
                                                        <th *ngIf="columnVisibility.SubTotal">SubTotal</th>
                                                        <th *ngIf="columnVisibility.TAXType">TAXType</th>
                                                        <th *ngIf="columnVisibility.TAXAmount">TAXAmount</th>
                                                        <th *ngIf="columnVisibility.CGSTAmt">CGSTAmt</th>
                                                        <th *ngIf="columnVisibility.SGSTAmt">SGSTAmt</th>
                                                        <th *ngIf="columnVisibility.IGSTAmt">IGSTAmt</th>
                                                        <th *ngIf="columnVisibility.GrandTotal">GrandTotal</th>
                                                        <th *ngIf="columnVisibility.AddDiscount">AddDiscount</th>
                                                        <th *ngIf="columnVisibility.Paid">Paid</th>
                                                        <th *ngIf="columnVisibility.Balance">Balance</th>
                                                        <th *ngIf="columnVisibility.ProductStatus">ProductStatus</th>
                                                        <th *ngIf="columnVisibility.DeliveryDate">DeliveryDate</th>
                                                        <th *ngIf="columnVisibility.Cust_GSTNo">Cust_GSTNo</th>
                                                        <th *ngIf="columnVisibility.ShopName">ShopName</th>
                                                    </tr>
                                                    <tr class="totolRow">
                                                        <td style="white-space: nowrap;">
                                                            <i class="fa fa-file-excel-o excel" title="ExportAsXLSX"
                                                                aria-hidden="true" type="button"
                                                                (click)="exportAsXLSXMaster()">
                                                            </i>
                                                            <button class="bg_none ms-4 me-2"
                                                                (click)="print('sale-content')">
                                                                <i class="far fa-file-pdf "
                                                                    style="color: #1a1e90;font-size: 22px;cursor: pointer;">
                                                                </i>
                                                            </button>

                                                            <div class="button-container">
                                                                <button class="bg_none">
                                                                    <i class="fa-solid fa-filter"
                                                                        style="font-size: 20px; color: #f44336;"></i>
                                                                </button>
                                                                <div class="hover-box">


                                                                    <button
                                                                        (click)="toggleColumnVisibility('InvoiceDate')">
                                                                        <mat-checkbox class="me-2" name="InvoiceDate"
                                                                            [(ngModel)]="columnVisibility.InvoiceDate"></mat-checkbox>
                                                                        InvoiceDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('InvoiceNo')">
                                                                        <mat-checkbox class="me-2" name="InvoiceNo"
                                                                            [(ngModel)]="columnVisibility.InvoiceNo"></mat-checkbox>
                                                                        InvoiceNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('CustomerName')">
                                                                        <mat-checkbox class="me-2" name="CustomerName"
                                                                            [(ngModel)]="columnVisibility.CustomerName"></mat-checkbox>
                                                                        CustomerName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('MobileNo')">
                                                                        <mat-checkbox class="me-2" name="MobileNo"
                                                                            [(ngModel)]="columnVisibility.MobileNo"></mat-checkbox>
                                                                        MobileNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('PaymentStatus')">
                                                                        <mat-checkbox class="me-2" name="PaymentStatus"
                                                                            [(ngModel)]="columnVisibility.PaymentStatus"></mat-checkbox>
                                                                        PaymentStatus
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility('Qty')">
                                                                        <mat-checkbox class="me-2" name="Qty"
                                                                            [(ngModel)]="columnVisibility.Qty"></mat-checkbox>
                                                                        Qty
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('Discount')">
                                                                        <mat-checkbox class="me-2" name="Discount"
                                                                            [(ngModel)]="columnVisibility.Discount"></mat-checkbox>
                                                                        Discount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('SubTotal')">
                                                                        <mat-checkbox class="me-2" name="SubTotal"
                                                                            [(ngModel)]="columnVisibility.SubTotal"></mat-checkbox>
                                                                        SubTotal
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility('TAXType')">
                                                                        <mat-checkbox class="me-2" name="TAXType"
                                                                            [(ngModel)]="columnVisibility.TAXType"></mat-checkbox>
                                                                        TAXType
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility('CGSTAmt')">
                                                                        <mat-checkbox class="me-2" name="CGSTAmt"
                                                                            [(ngModel)]="columnVisibility.CGSTAmt"></mat-checkbox>
                                                                        CGSTAmt
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility('SGSTAmt')">
                                                                        <mat-checkbox class="me-2" name="SGSTAmt"
                                                                            [(ngModel)]="columnVisibility.SGSTAmt"></mat-checkbox>
                                                                        SGSTAmt
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility('IGSTAmt')">
                                                                        <mat-checkbox class="me-2" name="IGSTAmt"
                                                                            [(ngModel)]="columnVisibility.IGSTAmt"></mat-checkbox>
                                                                        IGSTAmt
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('GrandTotal')">
                                                                        <mat-checkbox class="me-2" name="GrandTotal"
                                                                            [(ngModel)]="columnVisibility.GrandTotal"></mat-checkbox>
                                                                        GrandTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('AddDiscount')">
                                                                        <mat-checkbox class="me-2" name="AddDiscount"
                                                                            [(ngModel)]="columnVisibility.AddDiscount"></mat-checkbox>
                                                                        AddDiscount
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility('Paid')">
                                                                        <mat-checkbox class="me-2" name="Paid"
                                                                            [(ngModel)]="columnVisibility.Paid"></mat-checkbox>
                                                                        Paid
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility('Balance')">
                                                                        <mat-checkbox class="me-2" name="Balance"
                                                                            [(ngModel)]="columnVisibility.Balance"></mat-checkbox>
                                                                        Balance
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('ProductStatus')">
                                                                        <mat-checkbox class="me-2" name="ProductStatus"
                                                                            [(ngModel)]="columnVisibility.ProductStatus"></mat-checkbox>
                                                                        ProductStatus
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('DeliveryDate')">
                                                                        <mat-checkbox class="me-2" name="DeliveryDate"
                                                                            [(ngModel)]="columnVisibility.DeliveryDate"></mat-checkbox>
                                                                        DeliveryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('Cust_GSTNo')">
                                                                        <mat-checkbox class="me-2" name="Cust_GSTNo"
                                                                            [(ngModel)]="columnVisibility.Cust_GSTNo"></mat-checkbox>
                                                                        Cust_GSTNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility('ShopName')">
                                                                        <mat-checkbox class="me-2" name="ShopName"
                                                                            [(ngModel)]="columnVisibility.ShopName"></mat-checkbox>
                                                                        ShopName
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td *ngIf="columnVisibility.InvoiceDate"></td>
                                                        <td *ngIf="columnVisibility.InvoiceNo"></td>
                                                        <td *ngIf="columnVisibility.CustomerName"></td>
                                                        <td *ngIf="columnVisibility.MobileNo"></td>
                                                        <td *ngIf="columnVisibility.PaymentStatus"></td>
                                                        <td *ngIf="columnVisibility.Qty">{{this.totalQty}}</td>
                                                        <td *ngIf="columnVisibility.Discount">{{this.totalDiscount}}
                                                        </td>
                                                        <td *ngIf="columnVisibility.SubTotal">{{this.totalUnitPrice}}
                                                        </td>
                                                        <td *ngIf="columnVisibility.TAXType"></td>
                                                        <td *ngIf="columnVisibility.TAXAmount"
                                                            (click)="openModalSale(content3)">{{this.totalGstAmount}}
                                                        </td>
                                                        <td *ngIf="columnVisibility.CGSTAmt"></td>
                                                        <td *ngIf="columnVisibility.SGSTAmt"></td>
                                                        <td *ngIf="columnVisibility.IGSTAmt"></td>
                                                        <td *ngIf="columnVisibility.GrandTotal">{{this.totalAmount}}
                                                        </td>
                                                        <td *ngIf="columnVisibility.AddDiscount">
                                                            {{this.totalAddlDiscount}}</td>
                                                        <td *ngIf="columnVisibility.Paid">{{this.totalPaid}}</td>
                                                        <td *ngIf="columnVisibility.Balance">{{this.totalBalance}}</td>
                                                        <td *ngIf="columnVisibility.ProductStatus"></td>
                                                        <td *ngIf="columnVisibility.DeliveryDate"></td>
                                                        <td *ngIf="columnVisibility.Cust_GSTNo"></td>
                                                        <td *ngIf="columnVisibility.ShopName"></td>

                                                    </tr>
                                                </thead>
                                                <tbody class="text-center">
                                                    <tr *ngFor="let d of BillMasterList; let i = index" text="left">

                                                        <td [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                         {{i+1 }} 
                                                         
                                                         <button *ngIf="d.PaymentStatus === 'Unpaid' && this.company.WhatsappMsg == 'true'" (click)="sendWhatsapp(d,'bill')" class="bg_none whatsappfBill ms-lg-2 me-lg-1 ms-3 me-3">
                                                            <i  class="fa-brands fa-whatsapp "></i>
                                                        </button>
                                                             

                                                        </td>
                                                        <td *ngIf="columnVisibility.InvoiceDate"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(d.BillDate)}}</td>
                                                        <td *ngIf="columnVisibility.InvoiceNo"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.InvoiceNo}} </td>
                                                        <td *ngIf="columnVisibility.CustomerName"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.CustomerName }} </td>
                                                        <td *ngIf="columnVisibility.MobileNo"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.MobileNo1 }} </td>
                                                        <td *ngIf="columnVisibility.PaymentStatus"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.PaymentStatus }} </td>
                                                        <td *ngIf="columnVisibility.Qty"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.Quantity }} </td>
                                                        <td *ngIf="columnVisibility.Discount"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{d.DiscountAmount }} </td>
                                                        <td *ngIf="columnVisibility.SubTotal"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.SubTotal }} </td>
                                                        <td *ngIf="columnVisibility.TAXType"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{d.GSTType}} </td>
                                                        <td *ngIf="columnVisibility.TAXAmount"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.GSTAmount }} </td>
                                                        <td [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"
                                                            *ngIf="d.gst_detailssss[0][1].type === 'cGST-sGST' && columnVisibility.CGSTAmt">
                                                            {{d.gst_detailssss[0][1].amt }}</td>
                                                        <td [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"
                                                            *ngIf="d.gst_detailssss[0][1].type === 'cGST-sGST' && columnVisibility.SGSTAmt">
                                                            {{d.gst_detailssss[0][1].amt }}</td>
                                                        <td [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"
                                                            *ngIf="d.gst_detailssss[0][0].type === 'iGST' && columnVisibility.IGSTAmt">
                                                            {{d.gst_detailssss[0][0].amt }}</td>
                                                        <td *ngIf="columnVisibility.GrandTotal"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{d.TotalAmount}} </td>
                                                        <td *ngIf="columnVisibility.AddDiscount"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{d.AddlDiscount }} </td>

                                                        <td *ngIf="columnVisibility.Paid"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{((d.TotalAmount) - d.DueAmount ).toFixed(2)}} </td>

                                                        <td *ngIf="columnVisibility.Balance"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.DueAmount }} </td>

                                                        <td *ngIf="d.ProductStatus !== 'Pending'  && columnVisibility.ProductStatus"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            Deliverd </td>
                                                        <td *ngIf="d.ProductStatus === 'Pending' && columnVisibility.ProductStatus"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            pending </td>
                                                        <td *ngIf="columnVisibility.DeliveryDate"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(d.DeliveryDate)}} </td>
                                                        <td *ngIf="columnVisibility.Cust_GSTNo"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}">
                                                            {{d.GSTNo}} </td>
                                                        <td *ngIf="columnVisibility.ShopName"
                                                            [ngClass]="{'my_class': d.PaymentStatus === 'Unpaid'}"> {{
                                                            d.ShopName }} <span [style.color]="'blue'"
                                                                *ngIf="d.AreaName !== 'null'">({{d.AreaName}})</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- Bill (Detailed) -->
                            <mat-tab *ngIf="viewSaleProductReport" label="Sale (Product Type)">
                                <div class="body">
                                    <form class="p-3 pb-0" #f1="ngForm" (ngSubmit)="getBillDetails()">
                                        <div class="row">
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Filter Types</mat-label>
                                                    <mat-select name="FilterTypes" [(ngModel)]="Billdetail.FilterTypes">
                                                        <mat-option value="BillDate">BillDate</mat-option>
                                                        <mat-option value="DeliveryDate">DeliveryDate</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>From</mat-label>
                                                    <input matInput name="FromDate" type="date"
                                                        [(ngModel)]="Billdetail.FromDate" #DOBcontrol
                                                        [disabled]="!editSaleProductReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>To</mat-label>
                                                    <input matInput type="date" name="ToDate"
                                                        [(ngModel)]="Billdetail.ToDate"
                                                        [disabled]="!editSaleProductReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup === 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="Billdetail.ShopID" multiple>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName != 'null' || s.AreaName !== ''">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>

                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup !== 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="Billdetail.ShopID">
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width">
                                                    <mat-label>Customer</mat-label>
                                                    <input type="text" placeholder="serach customer" aria-label="Text"
                                                        matInput name="CustomerID" [formControl]="myControl"
                                                        [matAutocomplete]="auto"
                                                        (input)="customerSearch(myControl.value, 'Name','Customer')">
                                                    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                                        <mat-option (click)="CustomerSelection('All','0')"
                                                            value='All'>All</mat-option>
                                                        <mat-option (click)="CustomerSelection('Billdetail',option.ID)"
                                                            *ngFor="let option of filteredOptions"
                                                            [value]="option.Name">
                                                            {{option.Name}} {{option.MobileNo1}}
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Customer TAXNo</mat-label>
                                                    <mat-select name="CustomerGSTNo"
                                                        [(ngModel)]="Billdetail.CustomerGSTNo">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="c.GSTNumber"
                                                            *ngFor="let c of customerListGST let i = index;">
                                                            {{c.GSTNumber}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Payment Status</mat-label>
                                                    <mat-select name="PaymentStatus"
                                                        [(ngModel)]="Billdetail.PaymentStatus">
                                                        <mat-option [value]="0">All</mat-option>
                                                        <mat-option value="Paid">Paid</mat-option>
                                                        <mat-option value="Unpaid">Unpaid</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Product Status</mat-label>
                                                    <mat-select name="ProductStatus"
                                                        [(ngModel)]="Billdetail.ProductStatus">
                                                        <mat-option value="All">All</mat-option>
                                                        <mat-option value="0">Pending</mat-option>
                                                        <mat-option value="1">Deliverd</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-4 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                  <mat-label>Product search</mat-label>
                                                  <input matInput name="Productsearch" [(ngModel)]="Productsearch" #Productsearchcontrol>
                                                  <mat-error>
                                                    Productsearch required
                                                  </mat-error>
                                                </mat-form-field>
                                              </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Select Product</mat-label>
                                                    <mat-select name="FieldType"
                                                        [(ngModel)]="Billdetail.ProductCategory"
                                                        (selectionChange)="getFieldList()" required #Typecontrol>
                                                        <mat-option>
                                                            <ngx-mat-select-search matInput [(ngModel)]="searchValue"
                                                                (ngModelChange)="searchValue = onChange($event)"
                                                                [ngModelOptions]="{standalone: true}">
                                                            </ngx-mat-select-search>
                                                        </mat-option>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option
                                                            *ngFor="let prod of prodList | prodtypename: searchValue  let i = index;"
                                                            [value]="prod.ID">
                                                            {{prod.Name | uppercase}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <mat-error>
                                                        Select Product Type
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <!-- spec start -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0"
                                                *ngFor="let spec of specList ; let i = index;">
                                                <div *ngIf="spec.FieldType === 'DropDown'" class="d-flex">
                                                    <mat-form-field class=" me-2 mb-0" *ngIf="spec.DisplayAdd === 0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <mat-select name="{{spec.FieldName+'0'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            (selectionChange)="getFieldSupportData(i)" editable="true"
                                                            [required]="spec.Required === 1" #singleSelect>
                                                            <mat-option>
                                                                <ngx-mat-select-search matInput
                                                                    [(ngModel)]="spec.EnteredValue"
                                                                    (ngModelChange)="spec.EnteredValue = onChange($event)"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                </ngx-mat-select-search>
                                                            </mat-option>
                                                            <mat-option>
                                                            </mat-option>
                                                            <mat-option
                                                                *ngFor="let val of spec.SptFilterData | productitemfilter: spec.EnteredValue"
                                                                [value]="val.TableValue">
                                                                {{val.TableValue}}
                                                            </mat-option>
                                                        </mat-select>
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Text'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input matInput name="{{spec.FieldName+'2'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            [required]="spec.Required === 1"
                                                            (blur)="getFieldSupportData(i)">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Date'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input type="date" matInput name="{{spec.FieldName+'3'}}"
                                                            [(ngModel)]="spec.SelectedValue" editable="true"
                                                            [required]="spec.Required === 1">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'boolean'" class="d-flex">
                                                    <mat-slide-toggle name="{{spec.FieldName+'3'}}" color="primary"
                                                        class="example-margin" #Multiplecontrolx
                                                        [(ngModel)]="spec.SelectedValue">
                                                        {{spec.FieldName}}</mat-slide-toggle>
                                                </div>
                                            </div>
                                            <div *ngIf="this.Billdetail.ProductCategory === 'LENS'"
                                                class="col-xl-2 col-lg-2 col-md-2 col-sm-12 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Option</mat-label>
                                                    <mat-select name="Option" [(ngModel)]="Billdetail.Option">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="Full Glass">Full Lens</mat-option>
                                                        <mat-option value="Half Glass Left">Half Lens Left</mat-option>
                                                        <mat-option value="Half Glass Right">Half Lens
                                                            Right</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <!--  spec end -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Type</mat-label>
                                                    <mat-select name="GSTType" [(ngModel)]="Billdetail.GSTType"
                                                        #singleSelect>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="g.Name"
                                                            *ngFor="let g of gstList">{{g.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Percentage</mat-label>
                                                    <mat-select name="GSTPercentage"
                                                        [(ngModel)]="Billdetail.GSTPercentage">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="12">12%</mat-option>
                                                        <mat-option value="18">18%</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Status</mat-label>
                                                    <mat-select name="Status" [(ngModel)]="Billdetail.Status">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="PreOrder">PreOrder</mat-option>
                                                        <mat-option value="Manual">Manual</mat-option>
                                                        <mat-option value="Barcode">Barcode</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-4 col-lg-4 col-md-6 col-12 mb-0 ">
                                                <button class="me-3" type="submit" mat-raised-button color="primary">
                                                    Search
                                                </button>
                                                <button type="button" mat-raised-button color="warn"
                                                    (click)="BillDetailsFromReset()">
                                                    Reset
                                                </button>

                                            </div>
                                        </div>
                                    </form>
                                    <!-- Purchase Detailed list -->
                                    <div class="body p-2">
                                        <div id="saleDetail-content" class="col-sm-12"
                                            style="overflow: auto; height: 450px;">
                                            <table class="table table-striped table-hover table-sm table-bordered"
                                                style="border: 2px solid #fff !important;" id="saleDetailExcel">
                                                <thead>
                                                    <tr class="text-center" style="white-space: normal;">
                                                        <th>S.No</th>
                                                        <th *ngIf="columnVisibility1.InvoiceDate">InvoiceDate</th>
                                                        <th *ngIf="columnVisibility1.DeliveryDate">DeliveryDate</th>
                                                        <th *ngIf="columnVisibility1.InvoiceNo">InvoiceNo</th>
                                                        <th *ngIf="columnVisibility1.CustomerName">Customer Name</th>
                                                        <th *ngIf="columnVisibility1.MobileNo">MobileNo</th>
                                                        <th *ngIf="columnVisibility1.ProductTypeName">ProductType Name
                                                        </th>
                                                        <th *ngIf="columnVisibility1.Option">Option</th>
                                                        <th *ngIf="columnVisibility1.HSNCode">HSNCode</th>
                                                        <th *ngIf="columnVisibility1.ProductName">Product Name</th>
                                                        <th *ngIf="columnVisibility1.UnitPrice">Unit Price</th>
                                                        <th *ngIf="columnVisibility1.Quantity">Quantity</th>
                                                        <th *ngIf="columnVisibility1.DiscountAmount">Discount Amount
                                                        </th>
                                                        <th *ngIf="columnVisibility1.SubTotal">Sub Total</th>
                                                        <th *ngIf="columnVisibility1.TAXType">TAX Type</th>
                                                        <th *ngIf="columnVisibility1.TAX">TAX%</th>
                                                        <th *ngIf="columnVisibility1.TAXAmount">TAX Amount</th>
                                                        <th *ngIf="columnVisibility1.CGST" style="display: none;"> CGST%
                                                        </th>
                                                        <th *ngIf="columnVisibility1.CGSTAmt" style="display: none;">
                                                            CGSTAmt</th>
                                                        <th *ngIf="columnVisibility1.SGST" style="display: none;"> SGST%
                                                        </th>
                                                        <th *ngIf="columnVisibility1.SGSTAmt" style="display: none;">
                                                            SGSTAmt</th>
                                                        <th *ngIf="columnVisibility1.IGST" style="display: none;"> IGST%
                                                        </th>
                                                        <th *ngIf="columnVisibility1.IGSTAmt" style="display: none;">
                                                            IGSTAmt</th>
                                                        <th *ngIf="columnVisibility1.GrandTotal">Grand Total</th>
                                                        <th *ngIf="columnVisibility1.Barcode">Barcode</th>
                                                        <th *ngIf="columnVisibility1.PaymentStatus">Payment Status</th>
                                                        <th *ngIf="columnVisibility1.ProductStatus">Product Status</th>
                                                        <th *ngIf="columnVisibility1.ProductDeliveryDate">Product
                                                            DeliveryDate</th>
                                                        <th *ngIf="columnVisibility1.Cust_TAXNo">Cust_TAXNo</th>
                                                        <th *ngIf="columnVisibility1.Status">Status</th>
                                                        <th *ngIf="columnVisibility1.ShopName">Shop Name</th>
                                                        <th
                                                            *ngIf="columnVisibility1.PurchasePrice && user.UserGroup === 'CompanyAdmin'">
                                                            PurchasePrice</th>
                                                        <th
                                                            *ngIf="columnVisibility1.Profit && user.UserGroup === 'CompanyAdmin'">
                                                            Profit</th>
                                                    </tr>
                                                    <tr class="totolRow">
                                                        <td style="white-space: nowrap;">
                                                            <i class="fa fa-file-excel-o excel" title="ExportAsXLSX"
                                                                aria-hidden="true" type="button"
                                                                (click)="exportAsXLSXDetail()">
                                                            </i>
                                                            <button class="bg_none ms-4 me-2"
                                                                (click)="print('saleDetail-content')">
                                                                <i class="far fa-file-pdf "
                                                                    style="color: #1a1e90;font-size: 22px;cursor: pointer;">
                                                                </i>
                                                            </button>
                                                            <div class="button-container ">
                                                                <button class="bg_none">
                                                                    <i class="fa-solid fa-filter"
                                                                        style="font-size: 20px; color: #f44336;"></i>
                                                                </button>
                                                                <div class="hover-box">
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('InvoiceDate')">
                                                                        <mat-checkbox class="me-2" name="InvoiceDate"
                                                                            [(ngModel)]="columnVisibility1.InvoiceDate"></mat-checkbox>
                                                                        InvoiceDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('DeliveryDate')">
                                                                        <mat-checkbox class="me-2" name="DeliveryDate"
                                                                            [(ngModel)]="columnVisibility1.DeliveryDate"></mat-checkbox>
                                                                        DeliveryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('InvoiceNo')">
                                                                        <mat-checkbox class="me-2" name="InvoiceNo"
                                                                            [(ngModel)]="columnVisibility1.InvoiceNo"></mat-checkbox>
                                                                        InvoiceNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('CustomerName')">
                                                                        <mat-checkbox class="me-2" name="CustomerName"
                                                                            [(ngModel)]="columnVisibility1.CustomerName"></mat-checkbox>
                                                                        CustomerName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('MobileNo')">
                                                                        <mat-checkbox class="me-2" name="MobileNo"
                                                                            [(ngModel)]="columnVisibility1.MobileNo"></mat-checkbox>
                                                                        MobileNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('ProductTypeName')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductTypeName"
                                                                            [(ngModel)]="columnVisibility1.ProductTypeName"></mat-checkbox>
                                                                        ProductTypeName
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility1('Option')">
                                                                        <mat-checkbox class="me-2" name="Option"
                                                                            [(ngModel)]="columnVisibility1.Option"></mat-checkbox>
                                                                        Option
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('HSNCode')">
                                                                        <mat-checkbox class="me-2" name="HSNCode"
                                                                            [(ngModel)]="columnVisibility1.HSNCode"></mat-checkbox>
                                                                        HSNCode
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('ProductName')">
                                                                        <mat-checkbox class="me-2" name="ProductName"
                                                                            [(ngModel)]="columnVisibility1.ProductName"></mat-checkbox>
                                                                        ProductName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('UnitPrice')">
                                                                        <mat-checkbox class="me-2" name="UnitPrice"
                                                                            [(ngModel)]="columnVisibility1.UnitPrice"></mat-checkbox>
                                                                        UnitPrice
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('Quantity')">
                                                                        <mat-checkbox class="me-2" name="Quantity"
                                                                            [(ngModel)]="columnVisibility1.Quantity"></mat-checkbox>
                                                                        Quantity
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('DiscountAmount')">
                                                                        <mat-checkbox class="me-2" name="DiscountAmount"
                                                                            [(ngModel)]="columnVisibility1.DiscountAmount"></mat-checkbox>
                                                                        DiscountAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('SubTotal')">
                                                                        <mat-checkbox class="me-2" name="SubTotal"
                                                                            [(ngModel)]="columnVisibility1.SubTotal"></mat-checkbox>
                                                                        SubTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('TAXType')">
                                                                        <mat-checkbox class="me-2" name="TAXType"
                                                                            [(ngModel)]="columnVisibility1.TAXType"></mat-checkbox>
                                                                        TAXType
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility1('TAX')">
                                                                        <mat-checkbox class="me-2" name="TAX"
                                                                            [(ngModel)]="columnVisibility1.TAX"></mat-checkbox>
                                                                        TAX
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('TAXAmount')">
                                                                        <mat-checkbox class="me-2" name="TAXAmount"
                                                                            [(ngModel)]="columnVisibility1.TAXAmount"></mat-checkbox>
                                                                        TAXAmount
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility1('CGST')">
                                                                        <mat-checkbox class="me-2" name="CGST"
                                                                            [(ngModel)]="columnVisibility1.CGST"></mat-checkbox>
                                                                        CGST
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('CGSTAmt')">
                                                                        <mat-checkbox class="me-2" name="CGSTAmt"
                                                                            [(ngModel)]="columnVisibility1.CGSTAmt"></mat-checkbox>
                                                                        CGSTAmt
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility1('SGST')">
                                                                        <mat-checkbox class="me-2" name="SGST"
                                                                            [(ngModel)]="columnVisibility1.SGST"></mat-checkbox>
                                                                        SGST
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('SGSTAmt')">
                                                                        <mat-checkbox class="me-2" name="SGSTAmt"
                                                                            [(ngModel)]="columnVisibility1.SGSTAmt"></mat-checkbox>
                                                                        SGSTAmt
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility1('IGST')">
                                                                        <mat-checkbox class="me-2" name="IGST"
                                                                            [(ngModel)]="columnVisibility1.IGST"></mat-checkbox>
                                                                        IGST
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('IGSTAmt')">
                                                                        <mat-checkbox class="me-2" name="IGSTAmt"
                                                                            [(ngModel)]="columnVisibility1.IGSTAmt"></mat-checkbox>
                                                                        IGSTAmt
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('GrandTotal')">
                                                                        <mat-checkbox class="me-2" name="GrandTotal"
                                                                            [(ngModel)]="columnVisibility1.GrandTotal"></mat-checkbox>
                                                                        GrandTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('Barcode')">
                                                                        <mat-checkbox class="me-2" name="Barcode"
                                                                            [(ngModel)]="columnVisibility1.Barcode"></mat-checkbox>
                                                                        Barcode
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('PaymentStatus')">
                                                                        <mat-checkbox class="me-2" name="PaymentStatus"
                                                                            [(ngModel)]="columnVisibility1.PaymentStatus"></mat-checkbox>
                                                                        PaymentStatus
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('ProductStatus')">
                                                                        <mat-checkbox class="me-2" name="ProductStatus"
                                                                            [(ngModel)]="columnVisibility1.ProductStatus"></mat-checkbox>
                                                                        ProductStatus
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('ProductDeliveryDate')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductDeliveryDate"
                                                                            [(ngModel)]="columnVisibility1.ProductDeliveryDate"></mat-checkbox>
                                                                        ProductDeliveryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('Cust_TAXNo')">
                                                                        <mat-checkbox class="me-2" name="Cust_TAXNo"
                                                                            [(ngModel)]="columnVisibility1.Cust_TAXNo"></mat-checkbox>
                                                                        Cust_TAXNo
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility1('Status')">
                                                                        <mat-checkbox class="me-2" name="Status"
                                                                            [(ngModel)]="columnVisibility1.Status"></mat-checkbox>
                                                                        Status
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('ShopName')">
                                                                        <mat-checkbox class="me-2" name="ShopName"
                                                                            [(ngModel)]="columnVisibility1.ShopName"></mat-checkbox>
                                                                        ShopName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility1('PurchasePrice')">
                                                                        <mat-checkbox class="me-2" name="PurchasePrice"
                                                                            [(ngModel)]="columnVisibility1.PurchasePrice"></mat-checkbox>
                                                                        PurchasePrice
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility1('Profit')">
                                                                        <mat-checkbox class="me-2" name="Profit"
                                                                            [(ngModel)]="columnVisibility1.Profit"></mat-checkbox>
                                                                        Profit
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td *ngIf="columnVisibility1.InvoiceDate"></td>
                                                        <td *ngIf="columnVisibility1.DeliveryDate"></td>
                                                        <td *ngIf="columnVisibility1.InvoiceNo"></td>
                                                        <td *ngIf="columnVisibility1.CustomerName"></td>
                                                        <td *ngIf="columnVisibility1.MobileNo"></td>
                                                        <td *ngIf="columnVisibility1.ProductTypeName"></td>
                                                        <td *ngIf="columnVisibility1.Option"></td>
                                                        <td *ngIf="columnVisibility1.HSNCode"></td>
                                                        <td *ngIf="columnVisibility1.ProductName"></td>
                                                        <td *ngIf="columnVisibility1.UnitPrice"></td>
                                                        <td *ngIf="columnVisibility1.Quantity">{{this.DetailtotalQty}}
                                                        </td>
                                                        <td *ngIf="columnVisibility1.DiscountAmount">
                                                            {{this.DetailtotalDiscount}}</td>
                                                        <td *ngIf="columnVisibility1.SubTotal">
                                                            {{this.DetailtotalUnitPrice}}</td>
                                                        <td *ngIf="columnVisibility1.TAXType"></td>
                                                        <td *ngIf="columnVisibility1.TAX"></td>
                                                        <td *ngIf="columnVisibility1.TAXAmount"
                                                            (click)="openModalDetail(content)">
                                                            {{this.DetailtotalGstAmount}}</td>
                                                        <td *ngIf="columnVisibility1.CGST" style="display: none;"></td>
                                                        <td *ngIf="columnVisibility1.CGSTAmt" style="display: none;">
                                                        </td>
                                                        <td *ngIf="columnVisibility1.SGST" style="display: none;"></td>
                                                        <td *ngIf="columnVisibility1.SGSTAmt" style="display: none;">
                                                        </td>
                                                        <td *ngIf="columnVisibility1.IGST" style="display: none;"></td>
                                                        <td *ngIf="columnVisibility1.IGSTAmt" style="display: none;">
                                                        </td>
                                                        <td *ngIf="columnVisibility1.GrandTotal">
                                                            {{this.DetailtotalAmount}}</td>
                                                        <td *ngIf="columnVisibility1.Barcode"></td>
                                                        <td *ngIf="columnVisibility1.PaymentStatus"></td>
                                                        <td *ngIf="columnVisibility1.ProductStatus"></td>
                                                        <td *ngIf="columnVisibility1.ProductDeliveryDate"></td>
                                                        <td *ngIf="columnVisibility1.Cust_TAXNo"></td>
                                                        <td *ngIf="columnVisibility1.Status"></td>
                                                        <td *ngIf="columnVisibility1.ShopName"></td>
                                                        <td
                                                            *ngIf="columnVisibility1.PurchasePrice && user.UserGroup === 'CompanyAdmin'">
                                                            {{this.DetailtotalPrice}}</td>
                                                        <td
                                                            *ngIf="columnVisibility1.Profit && user.UserGroup === 'CompanyAdmin'">
                                                            {{this.DetailtotalPorfit}}</td>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-center">
                                                    <tr *ngFor=" let t of BillDetailList; let i = index ">
                                                        <td [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{BillDetailList.length-i }} </td>
                                                        <td *ngIf="columnVisibility1.InvoiceDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.BillDate)}}</td>
                                                        <td *ngIf="columnVisibility1.DeliveryDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.DeliveryDate)}}</td>
                                                        <td *ngIf="columnVisibility1.InvoiceNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.BillInvoiceNo}}</td>
                                                        <td *ngIf="columnVisibility1.CustomerName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.CustomerName}}</td>
                                                        <td *ngIf="columnVisibility1.MobileNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.CustomerMoblieNo1}}</td>
                                                        <td *ngIf="columnVisibility1.ProductTypeName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.ProductTypeName}}</td>
                                                        <td *ngIf="columnVisibility1.Option"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">{{
                                                            (t.Optionsss !== 'null')? t.Optionsss: '-'}}</td>
                                                        <td *ngIf="columnVisibility1.HSNCode"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.HSNCode}}</td>
                                                        <td *ngIf="columnVisibility1.ProductName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.ProductName}}</td>
                                                        <td *ngIf="columnVisibility1.UnitPrice"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.UnitPrice }}</td>
                                                        <td *ngIf="columnVisibility1.Quantity"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.Quantity }}</td>
                                                        <td *ngIf="columnVisibility1.DiscountAmount"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.DiscountAmount }}</td>
                                                        <td *ngIf="columnVisibility1.SubTotal"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.SubTotal }}</td>
                                                        <td *ngIf="columnVisibility1.TAXType"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTType}}</td>
                                                        <td *ngIf="columnVisibility1.TAX"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTPercentage}}</td>
                                                        <td *ngIf="columnVisibility1.TAXAmount"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTAmount }}</td>
                                                        <td *ngIf="columnVisibility1.CGST" style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST' ">
                                                                {{t.GSTPercentage/2}}
                                                            </span></td>
                                                        <td *ngIf="columnVisibility1.CGSTAmt" style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST' "> {{t.GSTAmount/2}}
                                                            </span></td>
                                                        <td *ngIf="columnVisibility1.SGST" style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.GSTType === 'CGST-SGST'">
                                                                {{t.GSTPercentage/2}} </span>
                                                        </td>
                                                        <td *ngIf="columnVisibility1.SGSTAmt" style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST'"> {{t.GSTAmount/2}}
                                                            </span></td>
                                                        <td *ngIf="columnVisibility1.IGST" style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span
                                                                *ngIf="t.GSTType === 'IGST'">{{t.GSTPercentage}}</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility1.IGSTAmt" style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.GSTType === 'IGST'">{{t.GSTAmount }}</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility1.GrandTotal"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.TotalAmount }}</td>
                                                        <td *ngIf="columnVisibility1.Barcode"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.Barcode}}</td>
                                                        <td *ngIf="columnVisibility1.PaymentStatus"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">{{
                                                            t.PaymentStatus }}</td>
                                                        <td *ngIf="t.ProductStatus === 1 && columnVisibility1.ProductStatus"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            Deliverd </td>
                                                        <td *ngIf="t.ProductStatus === 0 && columnVisibility1.ProductStatus"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            pending </td>
                                                        <td *ngIf="columnVisibility1.ProductDeliveryDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.ProductDeliveryDate !== '0000-00-00' ?
                                                            t.ProductDeliveryDate: '-')}}</td>
                                                        <td *ngIf="columnVisibility1.Cust_TAXNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTNo}}</td>
                                                        <td *ngIf="columnVisibility1.Status"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.Manual === 1">Manual</span>
                                                            <span *ngIf="t.PreOrder === 1">PreOrder</span>
                                                            <span
                                                                *ngIf="t.PreOrder === 0 && t.Manual === 0">Stock</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility1.ShopName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"> {{
                                                            t.ShopName }} <span [style.color]="'blue'"
                                                                *ngIf="t.AreaName !== 'null'">({{t.AreaName}})</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility1.PurchasePrice && user.UserGroup === 'CompanyAdmin'"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.PurchasePrice | number : '1.2-2'}}</td>

                                                        <td *ngIf="columnVisibility1.Profit && user.UserGroup === 'CompanyAdmin' "
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{ t.Profit | number : '1.2-2'}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- Sale Service -->
                            <mat-tab *ngIf="viewSaleServiceReport" label="Sale Service">
                                <div class="body">
                                    <form class="p-3 pb-0" #f="ngForm" (ngSubmit)="BillService()">
                                        <div class="row">
                                            <div class="col-xl-2 col-lg-2 col-md-2 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>From Date</mat-label>
                                                    <input matInput name="FromDate" type="date"
                                                        [(ngModel)]="service.FromDate" #DOBcontrol
                                                        [disabled]="!editSaleServiceReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-2 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>To Date</mat-label>
                                                    <input matInput name="ToDate" type="date"
                                                        [(ngModel)]="service.ToDate"
                                                        [disabled]="!editSaleServiceReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-4 col-12 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup === 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="service.ShopID" multiple>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup !== 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="service.ShopID">
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-2 col-12 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Bill Type</mat-label>
                                                    <mat-select name="ProductStatus" [(ngModel)]="service.BillType">
                                                        <mat-option value="All">All</mat-option>
                                                        <mat-option [value]=0>Service</mat-option>
                                                        <mat-option [value]=1>Invoice</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-0">
                                                <button class="me-1" mat-raised-button color="primary">Search</button>
                                                <button class="mr-0" type="button" mat-raised-button color="warn"
                                                    (click)="BillServiceFromReset()">Reset</button>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="body p-2">
                                        <div id="saleService-content" class="col-sm-12"
                                            style="overflow: auto; height: 450px;">
                                            <table class="table table-striped table-hover table-sm table-bordered"
                                                style="border: 2px solid #fff !important;" id="billServiceExcel">
                                                <thead>
                                                    <tr style="white-space: nowrap;">
                                                        <th>S.No</th>
                                                        <th *ngIf="columnVisibility2.ShopName">ShopName</th>
                                                        <th *ngIf="columnVisibility2.CustomerName">CustomerName</th>
                                                        <th *ngIf="columnVisibility2.MobileNo">MobileNo</th>
                                                        <th *ngIf="columnVisibility2.BillDate">BillDate</th>
                                                        <th *ngIf="columnVisibility2.InvoiceNo">InvoiceNo</th>
                                                        <th *ngIf="columnVisibility2.Description">Description</th>
                                                        <th *ngIf="columnVisibility2.SubTotal">SubTotal</th>
                                                        <th *ngIf="columnVisibility2.TAXType">TAX Type</th>
                                                        <th *ngIf="columnVisibility2.TAX">TAX%</th>
                                                        <th style="display:none">IGST%</th>
                                                        <th style="display:none">IGSTAmt</th>
                                                        <th style="display:none">CGST%</th>
                                                        <th style="display:none">CGSTAmt</th>
                                                        <th style="display:none">SGST%</th>
                                                        <th style="display:none">SGSTAmt</th>
                                                        <th *ngIf="columnVisibility2.TAXAmount">TAX Amount</th>
                                                        <th *ngIf="columnVisibility2.GrandTotal">GrandTotal</th>
                                                    </tr>
                                                    <tr class="totolRow text-center">
                                                        <td>
                                                            <i class="fa fa-file-excel-o excel" title="ExportAsXLSX"
                                                                aria-hidden="true" type="button"
                                                                (click)="exportAsXLSXcharge()">
                                                            </i>
                                                            <button class="bg_none ms-4 me-2"
                                                                (click)="print('saleService-content')">
                                                                <i class="far fa-file-pdf "
                                                                    style="color: #1a1e90;font-size: 22px;cursor: pointer;">
                                                                </i>
                                                            </button>
                                                            <div class="button-container">
                                                                <button class="bg_none">
                                                                    <i class="fa-solid fa-filter"
                                                                        style="font-size: 20px; color: #f44336;"></i>
                                                                </button>
                                                                <div class="hover-box">
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('ShopName')">
                                                                        <mat-checkbox class="me-2" name="ShopName"
                                                                            [(ngModel)]="columnVisibility2.ShopName"></mat-checkbox>
                                                                        ShopName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('CustomerName')">
                                                                        <mat-checkbox class="me-2" name="CustomerName"
                                                                            [(ngModel)]="columnVisibility2.CustomerName"></mat-checkbox>
                                                                        CustomerName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('MobileNo')">
                                                                        <mat-checkbox class="me-2" name="MobileNo"
                                                                            [(ngModel)]="columnVisibility2.MobileNo"></mat-checkbox>
                                                                        MobileNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('BillDate')">
                                                                        <mat-checkbox class="me-2" name="BillDate"
                                                                            [(ngModel)]="columnVisibility2.BillDate"></mat-checkbox>
                                                                        BillDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('InvoiceNo')">
                                                                        <mat-checkbox class="me-2" name="InvoiceNo"
                                                                            [(ngModel)]="columnVisibility2.InvoiceNo"></mat-checkbox>
                                                                        InvoiceNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('Description')">
                                                                        <mat-checkbox class="me-2" name="Description"
                                                                            [(ngModel)]="columnVisibility2.Description"></mat-checkbox>
                                                                        Description
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('SubTotal')">
                                                                        <mat-checkbox class="me-2" name="SubTotal"
                                                                            [(ngModel)]="columnVisibility2.SubTotal"></mat-checkbox>
                                                                        SubTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('TAXType')">
                                                                        <mat-checkbox class="me-2" name="TAXType"
                                                                            [(ngModel)]="columnVisibility2.TAXType"></mat-checkbox>
                                                                        TAXType
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility2('TAX')">
                                                                        <mat-checkbox class="me-2" name="TAX"
                                                                            [(ngModel)]="columnVisibility2.TAX"></mat-checkbox>
                                                                        TAX
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('TAXAmount')">
                                                                        <mat-checkbox class="me-2" name="TAXAmount"
                                                                            [(ngModel)]="columnVisibility2.TAXAmount"></mat-checkbox>
                                                                        TAXAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility2('GrandTotal')">
                                                                        <mat-checkbox class="me-2" name="GrandTotal"
                                                                            [(ngModel)]="columnVisibility2.GrandTotal"></mat-checkbox>
                                                                        GrandTotal
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td *ngIf="columnVisibility2.ShopName"></td>
                                                        <td *ngIf="columnVisibility2.CustomerName"></td>
                                                        <td *ngIf="columnVisibility2.MobileNo"></td>
                                                        <td *ngIf="columnVisibility2.BillDate"></td>
                                                        <td *ngIf="columnVisibility2.InvoiceNo"></td>
                                                        <td *ngIf="columnVisibility2.Description"></td>
                                                        <td *ngIf="columnVisibility2.SubTotal">
                                                            {{this.ServicetotalSUBTOTAL}}</td>
                                                        <td *ngIf="columnVisibility2.TAXType"></td>
                                                        <td *ngIf="columnVisibility2.TAX"></td>
                                                        <td style="display:none"></td>
                                                        <td style="display:none"></td>
                                                        <td style="display:none"></td>
                                                        <td style="display:none"></td>
                                                        <td style="display:none"></td>
                                                        <td style="display:none"></td>
                                                        <td *ngIf="columnVisibility2.TAXAmount"
                                                            (click)="openModalService(content1)">
                                                            {{this.ServicetotalGstAmount}}</td>
                                                        <td *ngIf="columnVisibility2.GrandTotal">{{this.ServiceAmount}}
                                                        </td>

                                                    </tr>
                                                </thead>
                                                <tbody class="text-center">
                                                    <tr *ngFor="let c of BillServiceList; let i = index" text="left">
                                                        <td> {{i+1 }} </td>
                                                        <td *ngIf="columnVisibility2.ShopName">{{c.ShopName}}<span
                                                                [style.color]="'blue'"
                                                                *ngIf="c.AreaName !== 'null'">({{c.AreaName}})</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility2.CustomerName">{{c.CustomerName}}
                                                        </td>
                                                        <td *ngIf="columnVisibility2.MobileNo">{{c.MobileNo1}}</td>
                                                        <td *ngIf="columnVisibility2.BillDate">
                                                            {{dateFormat(c.BillDate)}}</td>
                                                        <td *ngIf="columnVisibility2.InvoiceNo">{{c.InvoiceNo}}</td>
                                                        <td *ngIf="columnVisibility2.Description">{{c.Description}}</td>
                                                        <td *ngIf="columnVisibility2.SubTotal">{{c.SubTotal }}</td>
                                                        <td *ngIf="columnVisibility2.TAXType">{{c.GSTType}}</td>
                                                        <td *ngIf="columnVisibility2.TAX">{{c.GSTPercentage}}</td>
                                                        <td style="display:none"> <span
                                                                *ngIf="c.gst_detail[0]?.GSTType === 'IGST'">
                                                                {{c.GSTPercentage}}</span> </td>
                                                        <td style="display:none"> <span
                                                                *ngIf="c.gst_detail[0]?.GSTType === 'IGST'">
                                                                {{c.gst_detail[0]?.Amount | number:'1.2-2'}}</span>
                                                        </td>
                                                        <td style="display:none"> <span
                                                                *ngIf="c.gst_detail[0]?.GSTType === 'CGST'">
                                                                {{c.GSTPercentage/2}}</span> </td>
                                                        <td style="display:none"> <span
                                                                *ngIf="c.gst_detail[0]?.GSTType === 'CGST'">
                                                                {{c.gst_detail[0]?.Amount | number:'1.2-2'}}</span>
                                                        </td>
                                                        <td style="display:none"> <span
                                                                *ngIf="c.gst_detail[1]?.GSTType === 'SGST'">
                                                                {{c.GSTPercentage/2}}</span> </td>
                                                        <td style="display:none"> <span
                                                                *ngIf="c.gst_detail[1]?.GSTType === 'SGST'">
                                                                {{c.gst_detail[0]?.Amount | number:'1.2-2'}}</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility2.TAXAmount">{{c.GSTAmount }}</td>
                                                        <td *ngIf="columnVisibility2.GrandTotal">{{c.Price }}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- get Product Cancel -->
                            <mat-tab *ngIf="viewProductCancelReport" label="Product Cancel">
                                <div class="body">
                                    <form class="p-3 pb-0" #f1="ngForm" (ngSubmit)="getProductCancel()">
                                        <div class="row">
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Filter Types</mat-label>
                                                    <mat-select name="FilterTypes" [(ngModel)]="cancel.FilterTypes">
                                                        <mat-option value="BillDate">BillDate</mat-option>
                                                        <mat-option value="DeliveryDate">DeliveryDate</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>From</mat-label>
                                                    <input matInput name="FromDate" type="date"
                                                        [(ngModel)]="cancel.FromDate" #DOBcontrol
                                                        [disabled]="!editProductCancelReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>To</mat-label>
                                                    <input matInput type="date" name="ToDate"
                                                        [(ngModel)]="cancel.ToDate"
                                                        [disabled]="!editProductCancelReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup === 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="cancel.ShopID" multiple>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup !== 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="cancel.ShopID">
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Customer TAXNo</mat-label>
                                                    <mat-select name="CustomerGSTNo" [(ngModel)]="cancel.CustomerGSTNo">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="c.GSTNumber"
                                                            *ngFor="let c of customerListGST let i = index;">
                                                            {{c.GSTNumber}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>


                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Select Product</mat-label>
                                                    <mat-select name="FieldType" [(ngModel)]="cancel.ProductCategory"
                                                        (selectionChange)="getFieldList1()" required #Typecontrol>
                                                        <mat-option>
                                                            <ngx-mat-select-search matInput [(ngModel)]="searchValue"
                                                                (ngModelChange)="searchValue = onChange($event)"
                                                                [ngModelOptions]="{standalone: true}">
                                                            </ngx-mat-select-search>
                                                        </mat-option>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option
                                                            *ngFor="let prod of prodList1 | prodtypename: searchValue  let i = index;"
                                                            [value]="prod.ID">
                                                            {{prod.Name | uppercase}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <mat-error>
                                                        Select Product Type
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <!-- spec start -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0"
                                                *ngFor="let spec of specList1 ; let i = index;">
                                                <div *ngIf="spec.FieldType === 'DropDown'" class="d-flex">
                                                    <mat-form-field class=" me-2 mb-0" *ngIf="spec.DisplayAdd === 0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <mat-select name="{{spec.FieldName+'0'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            (selectionChange)="getFieldSupportData1(i)" editable="true"
                                                            [required]="spec.Required === 1" #singleSelect>
                                                            <mat-option>
                                                                <ngx-mat-select-search matInput
                                                                    [(ngModel)]="spec.EnteredValue"
                                                                    (ngModelChange)="spec.EnteredValue = onChange($event)"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                </ngx-mat-select-search>
                                                            </mat-option>
                                                            <mat-option>
                                                            </mat-option>
                                                            <mat-option
                                                                *ngFor="let val of spec.SptFilterData | productitemfilter: spec.EnteredValue"
                                                                [value]="val.TableValue">
                                                                {{val.TableValue}}
                                                            </mat-option>
                                                        </mat-select>
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Text'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input matInput name="{{spec.FieldName+'2'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            [required]="spec.Required === 1"
                                                            (blur)="getFieldSupportData1(i)">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Date'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input type="date" matInput name="{{spec.FieldName+'3'}}"
                                                            [(ngModel)]="spec.SelectedValue" editable="true"
                                                            [required]="spec.Required === 1">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'boolean'" class="d-flex">
                                                    <mat-slide-toggle name="{{spec.FieldName+'3'}}" color="primary"
                                                        class="example-margin" #Multiplecontrolx
                                                        [(ngModel)]="spec.SelectedValue">
                                                        {{spec.FieldName}}</mat-slide-toggle>
                                                </div>
                                            </div>
                                            <div *ngIf="this.cancel.ProductCategory === 'LENS'"
                                                class="col-xl-2 col-lg-2 col-md-2 col-sm-12 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Option</mat-label>
                                                    <mat-select name="Option" [(ngModel)]="cancel.Option">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="Full Glass">Full Lens</mat-option>
                                                        <mat-option value="Half Glass Left">Half Lens Left</mat-option>
                                                        <mat-option value="Half Glass Right">Half Lens
                                                            Right</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <!--  spec end -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Type</mat-label>
                                                    <mat-select name="GSTType" [(ngModel)]="cancel.GSTType"
                                                        #singleSelect>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="g.Name"
                                                            *ngFor="let g of gstList">{{g.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Percentage</mat-label>
                                                    <mat-select name="GSTPercentage" [(ngModel)]="cancel.GSTPercentage">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="12">12%</mat-option>
                                                        <mat-option value="18">18%</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Status</mat-label>
                                                    <mat-select name="Status" [(ngModel)]="cancel.Status">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="PreOrder">PreOrder</mat-option>
                                                        <mat-option value="Manual">Manual</mat-option>
                                                        <mat-option value="Barcode">Barcode</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Cancel/Delete Status</mat-label>
                                                    <mat-select name="Status" [(ngModel)]="cancel.CancelStatus">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="Cancel">Cancel</mat-option>
                                                        <mat-option value="Delete">Delete</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-4 col-lg-4 col-md-6 col-12 mb-0 ">
                                                <button class="me-3" type="submit" mat-raised-button color="primary">
                                                    Search
                                                </button>
                                                <button type="button" mat-raised-button color="warn"
                                                    (click)="BillCancelFromReset()">
                                                    Reset
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                    <!--  ProductCancel list -->
                                    <div class="body p-2">
                                        <div id="ProductCancel-content" class="col-sm-12"
                                            style="overflow: auto; height: 450px;">
                                            <table class="table table-striped table-hover table-sm table-bordered"
                                                style="border: 2px solid #fff !important;" id="saleCancelExcel">
                                                <thead>
                                                    <tr class="text-center" style="white-space: normal;">
                                                        <th>S.No</th>
                                                        <th *ngIf="columnVisibility3.InvoiceDate">InvoiceDate</th>
                                                        <th *ngIf="columnVisibility3.DeliveryDate">DeliveryDate</th>
                                                        <th *ngIf="columnVisibility3.InvoiceNo">InvoiceNo</th>
                                                        <th *ngIf="columnVisibility3.CustomerName">Customer Name</th>
                                                        <th *ngIf="columnVisibility3.MobileNo">MobileNo</th>
                                                        <th *ngIf="columnVisibility3.ProductTypeName">ProductType Name
                                                        </th>
                                                        <th *ngIf="columnVisibility3.Option">Option</th>
                                                        <th *ngIf="columnVisibility3.HSNCode">HSNCode</th>
                                                        <th *ngIf="columnVisibility3.ProductName">Product Name</th>
                                                        <th *ngIf="columnVisibility3.UnitPrice">Unit Price</th>
                                                        <th *ngIf="columnVisibility3.Quantity">Quantity</th>
                                                        <th *ngIf="columnVisibility3.DiscountAmount">Discount Amount
                                                        </th>
                                                        <th *ngIf="columnVisibility3.SubTotal">Sub Total</th>
                                                        <th *ngIf="columnVisibility3.TAXType">TAX Type</th>
                                                        <th *ngIf="columnVisibility3.TAX">TAX%</th>
                                                        <th *ngIf="columnVisibility3.TAXAmount">TAX Amount</th>
                                                        <th style="display: none;"> CGST%</th>
                                                        <th style="display: none;"> CGSTAmt</th>
                                                        <th style="display: none;"> SGST%</th>
                                                        <th style="display: none;"> SGSTAmt</th>
                                                        <th style="display: none;"> IGST%</th>
                                                        <th style="display: none;"> IGSTAmt</th>
                                                        <th *ngIf="columnVisibility3.GrandTotal">Grand Total</th>
                                                        <th *ngIf="columnVisibility3.Barcode">Barcode</th>
                                                        <th *ngIf="columnVisibility3.PaymentStatus">Payment Status</th>
                                                        <th *ngIf="columnVisibility3.ProductStatus">Product Status</th>
                                                        <th *ngIf="columnVisibility3.ProductDeliveryDate">Product
                                                            DeliveryDate</th>
                                                        <th *ngIf="columnVisibility3.Cust_TAXNo">Cust_TAX No</th>
                                                        <th *ngIf="columnVisibility3.Status">Status</th>
                                                        <th *ngIf="columnVisibility3.CancelStatus">Cancel Status</th>
                                                    </tr>
                                                    <tr class="totolRow">
                                                        <td style="white-space: nowrap;">
                                                            <i class="fa fa-file-excel-o excel" title="ExportAsXLSX"
                                                                aria-hidden="true" type="button"
                                                                (click)="exportAsXLSXCancel()">
                                                            </i>
                                                            <button class="bg_none ms-4 me-2"
                                                                (click)="print('ProductCancel-content')">
                                                                <i class="far fa-file-pdf "
                                                                    style="color: #1a1e90;font-size: 22px;cursor: pointer;">
                                                                </i>
                                                            </button>

                                                            <div class="button-container">
                                                                <button class="bg_none">
                                                                    <i class="fa-solid fa-filter"
                                                                        style="font-size: 20px; color: #f44336;"></i>
                                                                </button>
                                                                <div class="hover-box">
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('InvoiceDate')">
                                                                        <mat-checkbox class="me-2" name="InvoiceDate"
                                                                            [(ngModel)]="columnVisibility3.InvoiceDate"></mat-checkbox>
                                                                        InvoiceDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('DeliveryDate')">
                                                                        <mat-checkbox class="me-2" name="DeliveryDate"
                                                                            [(ngModel)]="columnVisibility3.DeliveryDate"></mat-checkbox>
                                                                        DeliveryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('InvoiceNo')">
                                                                        <mat-checkbox class="me-2" name="InvoiceNo"
                                                                            [(ngModel)]="columnVisibility3.InvoiceNo"></mat-checkbox>
                                                                        InvoiceNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('CustomerName')">
                                                                        <mat-checkbox class="me-2" name="CustomerName"
                                                                            [(ngModel)]="columnVisibility3.CustomerName"></mat-checkbox>
                                                                        CustomerName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('MobileNo')">
                                                                        <mat-checkbox class="me-2" name="MobileNo"
                                                                            [(ngModel)]="columnVisibility3.MobileNo"></mat-checkbox>
                                                                        MobileNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('ProductTypeName')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductTypeName"
                                                                            [(ngModel)]="columnVisibility3.ProductTypeName"></mat-checkbox>
                                                                        ProductTypeName
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility3('Option')">
                                                                        <mat-checkbox class="me-2" name="Option"
                                                                            [(ngModel)]="columnVisibility3.Option"></mat-checkbox>
                                                                        Option
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('HSNCode')">
                                                                        <mat-checkbox class="me-2" name="HSNCode"
                                                                            [(ngModel)]="columnVisibility3.HSNCode"></mat-checkbox>
                                                                        HSNCode
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('ProductName')">
                                                                        <mat-checkbox class="me-2" name="ProductName"
                                                                            [(ngModel)]="columnVisibility3.ProductName"></mat-checkbox>
                                                                        ProductName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('UnitPrice')">
                                                                        <mat-checkbox class="me-2" name="UnitPrice"
                                                                            [(ngModel)]="columnVisibility3.UnitPrice"></mat-checkbox>
                                                                        UnitPrice
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('Quantity')">
                                                                        <mat-checkbox class="me-2" name="Quantity"
                                                                            [(ngModel)]="columnVisibility3.Quantity"></mat-checkbox>
                                                                        Quantity
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('DiscountAmount')">
                                                                        <mat-checkbox class="me-2" name="DiscountAmount"
                                                                            [(ngModel)]="columnVisibility3.DiscountAmount"></mat-checkbox>
                                                                        DiscountAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('SubTotal')">
                                                                        <mat-checkbox class="me-2" name="SubTotal"
                                                                            [(ngModel)]="columnVisibility3.SubTotal"></mat-checkbox>
                                                                        SubTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('TAXType')">
                                                                        <mat-checkbox class="me-2" name="TAXType"
                                                                            [(ngModel)]="columnVisibility3.TAXType"></mat-checkbox>
                                                                        TAXType
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility3('TAX')">
                                                                        <mat-checkbox class="me-2" name="TAX"
                                                                            [(ngModel)]="columnVisibility3.TAX"></mat-checkbox>
                                                                        TAX
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('TAXAmount')">
                                                                        <mat-checkbox class="me-2" name="TAXAmount"
                                                                            [(ngModel)]="columnVisibility3.TAXAmount"></mat-checkbox>
                                                                        TAXAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('GrandTotal')">
                                                                        <mat-checkbox class="me-2" name="GrandTotal"
                                                                            [(ngModel)]="columnVisibility3.GrandTotal"></mat-checkbox>
                                                                        GrandTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('Barcode')">
                                                                        <mat-checkbox class="me-2" name="Barcode"
                                                                            [(ngModel)]="columnVisibility3.Barcode"></mat-checkbox>
                                                                        Barcode
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('PaymentStatus')">
                                                                        <mat-checkbox class="me-2" name="PaymentStatus"
                                                                            [(ngModel)]="columnVisibility3.PaymentStatus"></mat-checkbox>
                                                                        PaymentStatus
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('ProductStatus')">
                                                                        <mat-checkbox class="me-2" name="ProductStatus"
                                                                            [(ngModel)]="columnVisibility3.ProductStatus"></mat-checkbox>
                                                                        ProductStatus
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('ProductDeliveryDate')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductDeliveryDate"
                                                                            [(ngModel)]="columnVisibility3.ProductDeliveryDate"></mat-checkbox>
                                                                        ProductDeliveryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('Cust_TAXNo')">
                                                                        <mat-checkbox class="me-2" name="Cust_TAXNo"
                                                                            [(ngModel)]="columnVisibility3.Cust_TAXNo"></mat-checkbox>
                                                                        Cust_TAXNo
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility3('Status')">
                                                                        <mat-checkbox class="me-2" name="Status"
                                                                            [(ngModel)]="columnVisibility3.Status"></mat-checkbox>
                                                                        Status
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility3('CancelStatus')">
                                                                        <mat-checkbox class="me-2" name="CancelStatus"
                                                                            [(ngModel)]="columnVisibility3.CancelStatus"></mat-checkbox>
                                                                        CancelStatus
                                                                    </button>

                                                                </div>
                                                            </div>

                                                        </td>
                                                        <td *ngIf="columnVisibility3.InvoiceDate"></td>
                                                        <td *ngIf="columnVisibility3.DeliveryDate"></td>
                                                        <td *ngIf="columnVisibility3.InvoiceNo"></td>
                                                        <td *ngIf="columnVisibility3.CustomerName"></td>
                                                        <td *ngIf="columnVisibility3.MobileNo"></td>
                                                        <td *ngIf="columnVisibility3.ProductTypeName"></td>
                                                        <td *ngIf="columnVisibility3.Option"></td>
                                                        <td *ngIf="columnVisibility3.HSNCode"></td>
                                                        <td *ngIf="columnVisibility3.ProductName"></td>
                                                        <td *ngIf="columnVisibility3.UnitPrice"></td>
                                                        <td *ngIf="columnVisibility3.Quantity">{{this.canceltotalQty}}
                                                        </td>
                                                        <td *ngIf="columnVisibility3.DiscountAmount">
                                                            {{this.canceltotalDiscount}}</td>
                                                        <td *ngIf="columnVisibility3.SubTotal">
                                                            {{this.canceltotalUnitPrice}}</td>
                                                        <td *ngIf="columnVisibility3.TAXType"></td>
                                                        <td *ngIf="columnVisibility3.TAX"></td>
                                                        <td *ngIf="columnVisibility3.TAXAmount"
                                                            (click)="openModalCancel(content4)">
                                                            {{this.canceltotalGstAmount}}</td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td *ngIf="columnVisibility3.GrandTotal">
                                                            {{this.canceltotalAmount}}</td>
                                                        <td *ngIf="columnVisibility3.Barcode"></td>
                                                        <td *ngIf="columnVisibility3.PaymentStatus"></td>
                                                        <td *ngIf="columnVisibility3.ProductStatus"></td>
                                                        <td *ngIf="columnVisibility3.ProductDeliveryDate"></td>
                                                        <td *ngIf="columnVisibility3.Cust_TAXNo"></td>
                                                        <td *ngIf="columnVisibility3.Status"></td>
                                                        <td *ngIf="columnVisibility3.CancelStatus"></td>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-center">
                                                    <tr *ngFor=" let t of cancelList; let i = index ">
                                                        <td [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{cancelList.length-i }} </td>
                                                        <td *ngIf="columnVisibility3.InvoiceDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.BillDate)}}</td>
                                                        <td *ngIf="columnVisibility3.DeliveryDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.DeliveryDate)}}</td>
                                                        <td *ngIf="columnVisibility3.InvoiceNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.BillInvoiceNo}}</td>
                                                        <td *ngIf="columnVisibility3.CustomerName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.CustomerName}}</td>
                                                        <td *ngIf="columnVisibility3.MobileNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.CustomerMoblieNo1}}</td>
                                                        <td *ngIf="columnVisibility3.ProductTypeName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.ProductTypeName}}</td>
                                                        <td *ngIf="columnVisibility3.Option"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">{{
                                                            (t.Optionsss !== 'null')? t.Optionsss: '-'}}</td>
                                                        <td *ngIf="columnVisibility3.HSNCode"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.HSNCode}}</td>
                                                        <td *ngIf="columnVisibility3.ProductName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.ProductName}}</td>
                                                        <td *ngIf="columnVisibility3.UnitPrice"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.UnitPrice }}</td>
                                                        <td *ngIf="columnVisibility3.Quantity"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.Quantity }}</td>
                                                        <td *ngIf="columnVisibility3.DiscountAmount"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.DiscountAmount }}</td>
                                                        <td *ngIf="columnVisibility3.SubTotal"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.SubTotal }}</td>
                                                        <td *ngIf="columnVisibility3.TAXType"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTType}}</td>
                                                        <td *ngIf="columnVisibility3.TAX"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTPercentage}}</td>
                                                        <td *ngIf="columnVisibility3.TAXAmount"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTAmount }}</td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST'"> {{t.GSTPercentage/2}}
                                                            </span></td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST'"> {{t.GSTAmount/2}}
                                                            </span></td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.GSTType === 'CGST-SGST'">
                                                                {{t.GSTPercentage/2}} </span>
                                                        </td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST'"> {{t.GSTAmount/2}}
                                                            </span></td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span
                                                                *ngIf="t.GSTType === 'IGST'">{{t.GSTPercentage}}</span>
                                                        </td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.GSTType === 'IGST'">{{t.GSTAmount }}</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility3.GrandTotal"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.TotalAmount }}</td>
                                                        <td *ngIf="columnVisibility3.Barcode"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.Barcode}}</td>
                                                        <td *ngIf="columnVisibility3.PaymentStatus"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">{{
                                                            t.PaymentStatus }}</td>
                                                        <td *ngIf="columnVisibility3.ProductStatus && t.ProductStatus === 1"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            Deliverd </td>
                                                        <td *ngIf="columnVisibility3.ProductStatus && t.ProductStatus === 0"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            pending </td>
                                                        <td *ngIf="columnVisibility3.ProductDeliveryDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.ProductDeliveryDate) !== '0000-00-00' ?
                                                            t.ProductDeliveryDate: '-'}}</td>
                                                        <td *ngIf="columnVisibility3.Cust_TAXNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTNo}}</td>
                                                        <td *ngIf="columnVisibility3.Status"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.Manual === 1">Manual</span>
                                                            <span *ngIf="t.PreOrder === 1">PreOrder</span>
                                                            <span
                                                                *ngIf="t.PreOrder === 0 && t.Manual === 0">Stock</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility3.CancelStatus"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.Status === 1 && t.CancelStatus === 1">No
                                                                Status</span>
                                                            <span
                                                                *ngIf="t.Status === 0 && t.CancelStatus === 1">Delete</span>
                                                            <span
                                                                *ngIf="t.Status === 0 && t.CancelStatus === 0">CancelStatus</span>

                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- pending product  -->
                            <mat-tab *ngIf="viewSaleProductPendingReport" label="Product Pending">
                                <div class="body">
                                    <form class="p-3 pb-0" #f1="ngForm" (ngSubmit)="getProductPending()">
                                        <div class="row">
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Filter Types</mat-label>
                                                    <mat-select name="FilterTypes" [(ngModel)]="pending.FilterTypes">
                                                        <mat-option value="BillDate">BillDate</mat-option>
                                                        <mat-option value="DeliveryDate">DeliveryDate</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>From</mat-label>
                                                    <input matInput name="FromDate" type="date"
                                                        [(ngModel)]="pending.FromDate" #DOBcontrol
                                                        [disabled]="!editSaleProductPendingReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>To</mat-label>
                                                    <input matInput type="date" name="ToDate"
                                                        [(ngModel)]="pending.ToDate"
                                                        [disabled]="!editSaleProductPendingReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup === 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="pending.ShopID" multiple>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup !== 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="pending.ShopID">
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Customer TAXNo</mat-label>
                                                    <mat-select name="CustomerGSTNo"
                                                        [(ngModel)]="pending.CustomerGSTNo">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="c.GSTNumber"
                                                            *ngFor="let c of customerListGST let i = index;">
                                                            {{c.GSTNumber}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>


                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Select Product</mat-label>
                                                    <mat-select name="FieldType" [(ngModel)]="pending.ProductCategory"
                                                        (selectionChange)="getFieldList2()" required #Typecontrol>
                                                        <mat-option>
                                                            <ngx-mat-select-search matInput [(ngModel)]="searchValue"
                                                                (ngModelChange)="searchValue = onChange($event)"
                                                                [ngModelOptions]="{standalone: true}">
                                                            </ngx-mat-select-search>
                                                        </mat-option>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option
                                                            *ngFor="let prod of prodList2 | prodtypename: searchValue  let i = index;"
                                                            [value]="prod.ID">
                                                            {{prod.Name | uppercase}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <mat-error>
                                                        Select Product Type
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <!-- spec start -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0"
                                                *ngFor="let spec of specList2 ; let i = index;">
                                                <div *ngIf="spec.FieldType === 'DropDown'" class="d-flex">
                                                    <mat-form-field class=" me-2 mb-0" *ngIf="spec.DisplayAdd === 0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <mat-select name="{{spec.FieldName+'0'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            (selectionChange)="getFieldSupportData2(i)" editable="true"
                                                            [required]="spec.Required === 1" #singleSelect>
                                                            <mat-option>
                                                                <ngx-mat-select-search matInput
                                                                    [(ngModel)]="spec.EnteredValue"
                                                                    (ngModelChange)="spec.EnteredValue = onChange($event)"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                </ngx-mat-select-search>
                                                            </mat-option>
                                                            <mat-option>
                                                            </mat-option>
                                                            <mat-option
                                                                *ngFor="let val of spec.SptFilterData | productitemfilter: spec.EnteredValue"
                                                                [value]="val.TableValue">
                                                                {{val.TableValue}}
                                                            </mat-option>
                                                        </mat-select>
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Text'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input matInput name="{{spec.FieldName+'2'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            [required]="spec.Required === 1"
                                                            (blur)="getFieldSupportData2(i)">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Date'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input type="date" matInput name="{{spec.FieldName+'3'}}"
                                                            [(ngModel)]="spec.SelectedValue" editable="true"
                                                            [required]="spec.Required === 1">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'boolean'" class="d-flex">
                                                    <mat-slide-toggle name="{{spec.FieldName+'3'}}" color="primary"
                                                        class="example-margin" #Multiplecontrolx
                                                        [(ngModel)]="spec.SelectedValue">
                                                        {{spec.FieldName}}</mat-slide-toggle>
                                                </div>
                                            </div>
                                            <div *ngIf="this.pending.ProductCategory === 'LENS'"
                                                class="col-xl-2 col-lg-2 col-md-2 col-sm-12 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Option</mat-label>
                                                    <mat-select name="Option" [(ngModel)]="pending.Option">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="Full Glass">Full Lens</mat-option>
                                                        <mat-option value="Half Glass Left">Half Lens Left</mat-option>
                                                        <mat-option value="Half Glass Right">Half Lens
                                                            Right</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <!--  spec end -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Type</mat-label>
                                                    <mat-select name="GSTType" [(ngModel)]="pending.GSTType"
                                                        #singleSelect>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="g.Name"
                                                            *ngFor="let g of gstList">{{g.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Percentage</mat-label>
                                                    <mat-select name="GSTPercentage"
                                                        [(ngModel)]="pending.GSTPercentage">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="12">12%</mat-option>
                                                        <mat-option value="18">18%</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Status</mat-label>
                                                    <mat-select name="Status" [(ngModel)]="pending.Status">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="PreOrder">PreOrder</mat-option>
                                                        <mat-option value="Manual">Manual</mat-option>
                                                        <mat-option value="Barcode">Barcode</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-xl-4 col-lg-4 col-md-6 col-12 mb-0 ">
                                                <button class="me-3" type="submit" mat-raised-button color="primary">
                                                    Search
                                                </button>
                                                <button type="button" mat-raised-button color="warn"
                                                    (click)="BillPendingFromReset()">
                                                    Reset
                                                </button>

                                            </div>
                                        </div>
                                    </form>
                                    <!--ProductPending list -->
                                    <div class="body p-2">
                                        <div id="ProductPending-content" class="col-sm-12"
                                            style="overflow: auto; height: 450px;">
                                            <table class="table table-striped table-hover table-sm table-bordered"
                                                style="border: 2px solid #fff !important;" id="salePendingExcel">
                                                <thead>
                                                    <tr class="text-center" style="white-space: normal;">
                                                        <th>S.No</th>
                                                        <th *ngIf="columnVisibility4.InvoiceDate">InvoiceDate</th>
                                                        <th *ngIf="columnVisibility4.DeliveryDate">DeliveryDate</th>
                                                        <th *ngIf="columnVisibility4.InvoiceNo">InvoiceNo</th>
                                                        <th *ngIf="columnVisibility4.CustomerName">Customer Name</th>
                                                        <th *ngIf="columnVisibility4.MobileNo">MobileNo</th>
                                                        <th *ngIf="columnVisibility4.ProductTypeName">ProductType Name
                                                        </th>
                                                        <th *ngIf="columnVisibility4.Option">Option</th>
                                                        <th *ngIf="columnVisibility4.HSNCode">HSNCode</th>
                                                        <th *ngIf="columnVisibility4.ProductName">Product Name</th>
                                                        <th *ngIf="columnVisibility4.UnitPrice">Unit Price</th>
                                                        <th *ngIf="columnVisibility4.Quantity">Quantity</th>
                                                        <th *ngIf="columnVisibility4.DiscountAmount">Discount Amount
                                                        </th>
                                                        <th *ngIf="columnVisibility4.SubTotal">Sub Total</th>
                                                        <th *ngIf="columnVisibility4.TAXType">TAX Type</th>
                                                        <th *ngIf="columnVisibility4.TAX">TAX%</th>
                                                        <th *ngIf="columnVisibility4.TAXAmount">TAX Amount</th>
                                                        <th style="display: none;"> CGST%</th>
                                                        <th style="display: none;"> CGSTAmt</th>
                                                        <th style="display: none;"> SGST%</th>
                                                        <th style="display: none;"> SGSTAmt</th>
                                                        <th style="display: none;"> IGST%</th>
                                                        <th style="display: none;"> IGSTAmt</th>
                                                        <th *ngIf="columnVisibility4.GrandTotal">Grand Total</th>
                                                        <th *ngIf="columnVisibility4.Barcode">Barcode</th>
                                                        <th *ngIf="columnVisibility4.ProductStatus">Product Status</th>
                                                        <th *ngIf="columnVisibility4.Cust_TAXNo">Cust_GSTNo</th>
                                                        <th *ngIf="columnVisibility4.Status">Status</th>
                                                    </tr>
                                                    <tr class="totolRow">
                                                        <td style="white-space: nowrap;">
                                                            <i class="fa fa-file-excel-o excel" title="ExportAsXLSX"
                                                                aria-hidden="true" type="button"
                                                                (click)="exportAsXLSXPending()">
                                                            </i>
                                                            <button class="bg_none ms-4 me-2"
                                                                (click)="print('ProductPending-content')">
                                                                <i class="far fa-file-pdf "
                                                                    style="color: #1a1e90;font-size: 22px;cursor: pointer;">
                                                                </i>
                                                            </button>
                                                            <div class="button-container">
                                                                <button class="bg_none">
                                                                    <i class="fa-solid fa-filter"
                                                                        style="font-size: 20px; color: #f44336;"></i>
                                                                </button>
                                                                <div class="hover-box">
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('InvoiceDate')">
                                                                        <mat-checkbox class="me-2" name="InvoiceDate"
                                                                            [(ngModel)]="columnVisibility4.InvoiceDate"></mat-checkbox>
                                                                        InvoiceDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('DeliveryDate')">
                                                                        <mat-checkbox class="me-2" name="DeliveryDate"
                                                                            [(ngModel)]="columnVisibility4.DeliveryDate"></mat-checkbox>
                                                                        DeliveryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('InvoiceNo')">
                                                                        <mat-checkbox class="me-2" name="InvoiceNo"
                                                                            [(ngModel)]="columnVisibility4.InvoiceNo"></mat-checkbox>
                                                                        InvoiceNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('CustomerName')">
                                                                        <mat-checkbox class="me-2" name="CustomerName"
                                                                            [(ngModel)]="columnVisibility4.CustomerName"></mat-checkbox>
                                                                        CustomerName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('MobileNo')">
                                                                        <mat-checkbox class="me-2" name="MobileNo"
                                                                            [(ngModel)]="columnVisibility4.MobileNo"></mat-checkbox>
                                                                        MobileNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('ProductTypeName')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductTypeName"
                                                                            [(ngModel)]="columnVisibility4.ProductTypeName"></mat-checkbox>
                                                                        ProductTypeName
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility4('Option')">
                                                                        <mat-checkbox class="me-2" name="Option"
                                                                            [(ngModel)]="columnVisibility4.Option"></mat-checkbox>
                                                                        Option
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('HSNCode')">
                                                                        <mat-checkbox class="me-2" name="HSNCode"
                                                                            [(ngModel)]="columnVisibility4.HSNCode"></mat-checkbox>
                                                                        HSNCode
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('ProductName')">
                                                                        <mat-checkbox class="me-2" name="ProductName"
                                                                            [(ngModel)]="columnVisibility4.ProductName"></mat-checkbox>
                                                                        ProductName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('UnitPrice')">
                                                                        <mat-checkbox class="me-2" name="UnitPrice"
                                                                            [(ngModel)]="columnVisibility4.UnitPrice"></mat-checkbox>
                                                                        UnitPrice
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('Quantity')">
                                                                        <mat-checkbox class="me-2" name="Quantity"
                                                                            [(ngModel)]="columnVisibility4.Quantity"></mat-checkbox>
                                                                        Quantity
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('DiscountAmount')">
                                                                        <mat-checkbox class="me-2" name="DiscountAmount"
                                                                            [(ngModel)]="columnVisibility4.DiscountAmount"></mat-checkbox>
                                                                        DiscountAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('SubTotal')">
                                                                        <mat-checkbox class="me-2" name="SubTotal"
                                                                            [(ngModel)]="columnVisibility4.SubTotal"></mat-checkbox>
                                                                        SubTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('TAXType')">
                                                                        <mat-checkbox class="me-2" name="TAXType"
                                                                            [(ngModel)]="columnVisibility4.TAXType"></mat-checkbox>
                                                                        TAXType
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility4('TAX')">
                                                                        <mat-checkbox class="me-2" name="TAX"
                                                                            [(ngModel)]="columnVisibility4.TAX"></mat-checkbox>
                                                                        TAX
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('TAXAmount')">
                                                                        <mat-checkbox class="me-2" name="TAXAmount"
                                                                            [(ngModel)]="columnVisibility4.TAXAmount"></mat-checkbox>
                                                                        TAXAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('GrandTotal')">
                                                                        <mat-checkbox class="me-2" name="GrandTotal"
                                                                            [(ngModel)]="columnVisibility4.GrandTotal"></mat-checkbox>
                                                                        GrandTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility4('Barcode')">
                                                                        <mat-checkbox class="me-2" name="Barcode"
                                                                            [(ngModel)]="columnVisibility4.Barcode"></mat-checkbox>
                                                                        Barcode
                                                                    </button>

                                                                    <button
                                                                        (click)="toggleColumnVisibility4('ProductStatus')">
                                                                        <mat-checkbox class="me-2" name="ProductStatus"
                                                                            [(ngModel)]="columnVisibility4.ProductStatus"></mat-checkbox>
                                                                        ProductStatus
                                                                    </button>

                                                                    <button
                                                                        (click)="toggleColumnVisibility4('Cust_TAXNo')">
                                                                        <mat-checkbox class="me-2" name="Cust_TAXNo"
                                                                            [(ngModel)]="columnVisibility4.Cust_TAXNo"></mat-checkbox>
                                                                        Cust_TAXNo
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility4('Status')">
                                                                        <mat-checkbox class="me-2" name="Status"
                                                                            [(ngModel)]="columnVisibility4.Status"></mat-checkbox>
                                                                        Status
                                                                    </button>


                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td *ngIf="columnVisibility4.InvoiceDate"></td>
                                                        <td *ngIf="columnVisibility4.DeliveryDate"></td>
                                                        <td *ngIf="columnVisibility4.InvoiceNo"></td>
                                                        <td *ngIf="columnVisibility4.CustomerName"></td>
                                                        <td *ngIf="columnVisibility4.MobileNo"></td>
                                                        <td *ngIf="columnVisibility4.ProductTypeName"></td>
                                                        <td *ngIf="columnVisibility4.Option"></td>
                                                        <td *ngIf="columnVisibility4.HSNCode"></td>
                                                        <td *ngIf="columnVisibility4.ProductName"></td>
                                                        <td *ngIf="columnVisibility4.UnitPrice"></td>
                                                        <td *ngIf="columnVisibility4.Quantity">{{this.pendingtotalQty}}
                                                        </td>
                                                        <td *ngIf="columnVisibility4.DiscountAmount">
                                                            {{this.pendingtotalDiscount}}</td>
                                                        <td *ngIf="columnVisibility4.SubTotal">
                                                            {{this.pendingtotalUnitPrice}}</td>
                                                        <td *ngIf="columnVisibility4.TAXType"></td>
                                                        <td *ngIf="columnVisibility4.TAX"></td>
                                                        <td *ngIf="columnVisibility4.TAXAmount"
                                                            (click)="openModalPending(content5)">
                                                            {{this.pendingtotalGstAmount}}</td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td style="display: none;"></td>
                                                        <td *ngIf="columnVisibility4.GrandTotal">
                                                            {{this.pendingtotalAmount}}</td>
                                                        <td *ngIf="columnVisibility4.Barcode"></td>
                                                        <td *ngIf="columnVisibility4.ProductStatus"></td>
                                                        <td *ngIf="columnVisibility4.Cust_TAXNo"></td>
                                                        <td *ngIf="columnVisibility4.Status"></td>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-center">
                                                    <tr *ngFor=" let t of pendingList; let i = index ">
                                                        <td [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{pendingList.length-i }} <button *ngIf="t.CustomerMoblieNo1 !== '' && this.company.WhatsappMsg == 'true'" (click)="sendWhatsapp(t,'Fbill')" class="bg_none whatsappfBill ms-lg-2 me-lg-1 ms-3 me-3">
                                                                <i  class="fa-brands fa-whatsapp "></i>
                                                            </button></td>
                                                        <td *ngIf="columnVisibility4.InvoiceDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.BillDate)}}</td>
                                                        <td *ngIf="columnVisibility4.DeliveryDate"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{dateFormat(t.DeliveryDate)}}</td>
                                                        <td *ngIf="columnVisibility4.InvoiceNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.BillInvoiceNo}}</td>
                                                        <td *ngIf="columnVisibility4.CustomerName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.CustomerName}}</td>
                                                        <td *ngIf="columnVisibility4.MobileNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.CustomerMoblieNo1}}</td>
                                                        <td *ngIf="columnVisibility4.ProductTypeName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.ProductTypeName}}</td>
                                                        <td *ngIf="columnVisibility4.Option"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">{{
                                                            (t.Optionsss !== 'null')? t.Optionsss: '-'}}</td>
                                                        <td *ngIf="columnVisibility4.HSNCode"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.HSNCode}}</td>
                                                        <td *ngIf="columnVisibility4.ProductName"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.ProductName}}</td>
                                                        <td *ngIf="columnVisibility4.UnitPrice"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.UnitPrice }}</td>
                                                        <td *ngIf="columnVisibility4.Quantity"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.Quantity }}</td>
                                                        <td *ngIf="columnVisibility4.DiscountAmount"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.DiscountAmount }}</td>
                                                        <td *ngIf="columnVisibility4.SubTotal"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.SubTotal }}</td>
                                                        <td *ngIf="columnVisibility4.TAXType"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTType}}</td>
                                                        <td *ngIf="columnVisibility4.TAX"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTPercentage}}</td>
                                                        <td *ngIf="columnVisibility4.TAXAmount"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTAmount }}</td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST'"> {{t.GSTPercentage/2}}
                                                            </span></td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST'"> {{t.GSTAmount/2}}
                                                            </span></td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.GSTType === 'CGST-SGST'">
                                                                {{t.GSTPercentage/2}} </span>
                                                        </td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}"><span
                                                                *ngIf="t.GSTType === 'CGST-SGST'"> {{t.GSTAmount/2}}
                                                            </span></td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span
                                                                *ngIf="t.GSTType === 'IGST'">{{t.GSTPercentage}}</span>
                                                        </td>
                                                        <td style="display: none;"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.GSTType === 'IGST'">{{t.GSTAmount }}</span>
                                                        </td>
                                                        <td *ngIf="columnVisibility4.GrandTotal"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.TotalAmount }}</td>
                                                        <td *ngIf="columnVisibility4.Barcode"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.Barcode}}</td>
                                                        <td *ngIf="columnVisibility4.ProductStatus && t.ProductStatus === 1"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            Deliverd </td>
                                                        <td *ngIf="columnVisibility4.ProductStatus && t.ProductStatus === 0"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            pending </td>

                                                        <td *ngIf="columnVisibility4.Cust_TAXNo"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            {{t.GSTNo}}</td>
                                                        <td *ngIf="columnVisibility4.Status"
                                                            [ngClass]="{'my_class': t.PaymentStatus === 'Unpaid'}">
                                                            <span *ngIf="t.Manual === 1">Manual</span>
                                                            <span *ngIf="t.PreOrder === 1">PreOrder</span>
                                                            <span
                                                                *ngIf="t.PreOrder === 0 && t.Manual === 0">Stock</span>
                                                        </td>

                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- sale product expiry -->
                            <mat-tab *ngIf="viewSaleProductExpiryReport" label="Sale (Product Expiry)">
                                <div class="body">
                                    <form class="p-3 pb-0" #f1="ngForm" (ngSubmit)="getBillExpiry()">
                                        <div class="row">
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>From</mat-label>
                                                    <input matInput name="FromDate" type="date"
                                                        [(ngModel)]="BillExpiry.FromDate" #DOBcontrol
                                                        [disabled]="!editSaleProductExpiryReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>To</mat-label>
                                                    <input matInput type="date" name="ToDate"
                                                        [(ngModel)]="BillExpiry.ToDate"
                                                        [disabled]="!editSaleProductExpiryReport" />
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup === 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="BillExpiry.ShopID" multiple>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName != 'null' || s.AreaName !== ''">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>

                                                <mat-form-field class="example-full-width mb-0"
                                                    *ngIf="user.UserGroup !== 'CompanyAdmin'">
                                                    <mat-label>Shop Name</mat-label>
                                                    <mat-select name="shopID" [(ngModel)]="BillExpiry.ShopID">
                                                        <mat-option [value]="s.ID" *ngFor="let s of shopList">
                                                            {{s.Name}}
                                                            <span [style.color]="'blue'"
                                                                *ngIf="s.AreaName !== 'null'">({{s.AreaName}})</span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <!-- <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Customer</mat-label>
                                                    <mat-select name="customerID" [(ngModel)]="Billdetail.CustomerID">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="c.ID"
                                                            *ngFor="let c of customerList  let i = index;"> {{c.Name}}
                                                            <span style="float: right;">{{c.MobileNo1}} </span>
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field> -->
                                                <mat-form-field class="example-full-width">
                                                    <mat-label>Customer</mat-label>
                                                    <input type="text" placeholder="serach customer" aria-label="Text"
                                                        matInput name="CustomerID" [formControl]="myControl"
                                                        [matAutocomplete]="auto"
                                                        (input)="customerSearch(myControl.value, 'Name','Customer')">
                                                    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                                        <mat-option (click)="CustomerSelection('All','0')"
                                                            value='All'>All</mat-option>
                                                        <mat-option (click)="CustomerSelection('Billdetail',option.ID)"
                                                            *ngFor="let option of filteredOptions"
                                                            [value]="option.Name">
                                                            {{option.Name}} {{option.MobileNo1}}
                                                        </mat-option>
                                                    </mat-autocomplete>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Customer TAXNo</mat-label>
                                                    <mat-select name="CustomerGSTNo"
                                                        [(ngModel)]="BillExpiry.CustomerGSTNo">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="c.GSTNumber"
                                                            *ngFor="let c of customerListGST let i = index;">
                                                            {{c.GSTNumber}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Payment Status</mat-label>
                                                    <mat-select name="PaymentStatus"
                                                        [(ngModel)]="BillExpiry.PaymentStatus">
                                                        <mat-option [value]="0">All</mat-option>
                                                        <mat-option value="Paid">Paid</mat-option>
                                                        <mat-option value="Unpaid">Unpaid</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0 ">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Product Status</mat-label>
                                                    <mat-select name="ProductStatus"
                                                        [(ngModel)]="BillExpiry.ProductStatus">
                                                        <mat-option value="All">All</mat-option>
                                                        <mat-option value="0">Pending</mat-option>
                                                        <mat-option value="1">Deliverd</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Select Product</mat-label>
                                                    <mat-select name="FieldType"
                                                        [(ngModel)]="BillExpiry.ProductCategory"
                                                        (selectionChange)="getFieldList3()" required #Typecontrol>
                                                        <mat-option>
                                                            <ngx-mat-select-search matInput [(ngModel)]="searchValue"
                                                                (ngModelChange)="searchValue = onChange($event)"
                                                                [ngModelOptions]="{standalone: true}">
                                                            </ngx-mat-select-search>
                                                        </mat-option>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option
                                                            *ngFor="let prod of prodList3 | prodtypename: searchValue let i = index;"
                                                            [value]="prod.ID">
                                                            {{prod.Name | uppercase}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <mat-error>
                                                        Select Product Type
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <!-- spec start -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0"
                                                *ngFor="let spec of specList3 ; let i = index;">
                                                <div *ngIf="spec.FieldType === 'DropDown'" class="d-flex">
                                                    <mat-form-field class=" me-2 mb-0" *ngIf="spec.DisplayAdd === 0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <mat-select name="{{spec.FieldName+'0'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            (selectionChange)="getFieldSupportData3(i)" editable="true"
                                                            [required]="spec.Required === 1" #singleSelect>
                                                            <mat-option>
                                                                <ngx-mat-select-search matInput
                                                                    [(ngModel)]="spec.EnteredValue"
                                                                    (ngModelChange)="spec.EnteredValue = onChange($event)"
                                                                    [ngModelOptions]="{standalone: true}">
                                                                </ngx-mat-select-search>
                                                            </mat-option>
                                                            <mat-option>
                                                            </mat-option>
                                                            <mat-option
                                                                *ngFor="let val of spec.SptFilterData | productitemfilter: spec.EnteredValue"
                                                                [value]="val.TableValue">
                                                                {{val.TableValue}}
                                                            </mat-option>
                                                        </mat-select>
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Text'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input matInput name="{{spec.FieldName+'2'}}"
                                                            [(ngModel)]="spec.SelectedValue"
                                                            [required]="spec.Required === 1"
                                                            (blur)="getFieldSupportData3(i)">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'Date'" class="d-flex">
                                                    <mat-form-field class=" mr-0 mb-0">
                                                        <mat-label>{{spec.FieldName}}</mat-label>
                                                        <input type="date" matInput name="{{spec.FieldName+'3'}}"
                                                            [(ngModel)]="spec.SelectedValue" editable="true"
                                                            [required]="spec.Required === 1">
                                                        <mat-error>
                                                            {{spec.FieldName}} is Required
                                                        </mat-error>
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="spec.FieldType === 'boolean'" class="d-flex">
                                                    <mat-slide-toggle name="{{spec.FieldName+'3'}}" color="primary"
                                                        class="example-margin" #Multiplecontrolx
                                                        [(ngModel)]="spec.SelectedValue">
                                                        {{spec.FieldName}}</mat-slide-toggle>
                                                </div>
                                            </div>
                                            <div *ngIf="this.BillExpiry.ProductCategory === 'LENS'"
                                                class="col-xl-2 col-lg-2 col-md-2 col-sm-12 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>Option</mat-label>
                                                    <mat-select name="Option" [(ngModel)]="BillExpiry.Option">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="Full Glass">Full Lens</mat-option>
                                                        <mat-option value="Half Glass Left">Half Lens Left</mat-option>
                                                        <mat-option value="Half Glass Right">Half Lens
                                                            Right</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <!--  spec end -->
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Type</mat-label>
                                                    <mat-select name="GSTType" [(ngModel)]="BillExpiry.GSTType"
                                                        #singleSelect>
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option [value]="g.Name"
                                                            *ngFor="let g of gstList">{{g.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-xl-2 col-lg-2 col-md-3 col-6 mb-0">
                                                <mat-form-field class="example-full-width mb-0">
                                                    <mat-label>TAX Percentage</mat-label>
                                                    <mat-select name="GSTPercentage"
                                                        [(ngModel)]="BillExpiry.GSTPercentage">
                                                        <mat-option [value]=0>All</mat-option>
                                                        <mat-option value="12">12%</mat-option>
                                                        <mat-option value="18">18%</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>

                                            <div class="col-xl-4 col-lg-4 col-md-6 col-12 mb-0 ">
                                                <button class="me-3" type="submit" mat-raised-button color="primary">
                                                    Search
                                                </button>
                                                <button type="button" mat-raised-button color="warn"
                                                    (click)="BillExpirysFromReset()">
                                                    Reset
                                                </button>

                                            </div>
                                        </div>
                                    </form>
                                    <!-- Purchase Detailed list -->
                                    <div class="body p-2">
                                        <div id="ProductExpiry-content" class="col-sm-12"
                                            style="overflow: auto; height: 450px;">
                                            <table class="table table-striped table-hover table-sm table-bordered"
                                                style="border: 2px solid #fff !important;" id="saleExpiryExcel">
                                                <thead>
                                                    <tr class="text-center" style="white-space: normal;">
                                                        <th>S.No</th>
                                                        <th *ngIf="columnVisibility5.InvoiceNo">InvoiceNo</th>
                                                        <th *ngIf="columnVisibility5.CustomerName">Customer Name</th>
                                                        <th *ngIf="columnVisibility5.MobileNo">MobileNo</th>
                                                        <th *ngIf="columnVisibility5.ProductTypeName">ProductType Name
                                                        </th>
                                                        <th *ngIf="columnVisibility5.ProductName">Product Name</th>
                                                        <th *ngIf="columnVisibility5.UnitPrice">Unit Price</th>
                                                        <th *ngIf="columnVisibility5.Quantity">Quantity</th>
                                                        <th *ngIf="columnVisibility5.DiscountAmount">Discount Amount
                                                        </th>
                                                        <th *ngIf="columnVisibility5.SubTotal">Sub Total</th>
                                                        <th *ngIf="columnVisibility5.TAXType">TAX Type</th>
                                                        <th *ngIf="columnVisibility5.TAX">TAX%</th>
                                                        <th *ngIf="columnVisibility5.TAXAmount">TAX Amount</th>
                                                        <th *ngIf="columnVisibility5.GrandTotal">Grand Total</th>
                                                        <th *ngIf="columnVisibility5.Barcode">Barcode</th>
                                                        <th *ngIf="columnVisibility5.PaymentStatus">Payment Status</th>
                                                        <th *ngIf="columnVisibility5.ProductStatus">Product Status</th>
                                                        <th *ngIf="columnVisibility5.ProductDeliveryDate">Product
                                                            DeliveryDate</th>
                                                        <th *ngIf="columnVisibility5.ProductExpiryDate">Product
                                                            ExpiryDate</th>
                                                        <th *ngIf="columnVisibility5.ShopName">Shop Name</th>

                                                    </tr>
                                                    <tr class="totolRow"
                                                        *ngIf="this.ExpirytotalQty != null && this.ExpirytotalQty != '' ">
                                                        <td style="white-space: nowrap;">
                                                            <i class="fa fa-file-excel-o excel" title="ExportAsXLSX"
                                                                aria-hidden="true" type="button"
                                                                (click)="exportAsXLSXExpiry()">
                                                            </i>
                                                            <button class="bg_none ms-4 me-2"
                                                                (click)="print('ProductExpiry-content')">
                                                                <i class="far fa-file-pdf "
                                                                    style="color: #1a1e90;font-size: 22px;cursor: pointer;">
                                                                </i>
                                                            </button>
                                                            <div class="button-container">
                                                                <button class="bg_none">
                                                                    <i class="fa-solid fa-filter"
                                                                        style="font-size: 20px; color: #f44336;"></i>
                                                                </button>
                                                                <div class="hover-box">
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('InvoiceNo')">
                                                                        <mat-checkbox class="me-2" name="InvoiceNo"
                                                                            [(ngModel)]="columnVisibility5.InvoiceNo"></mat-checkbox>
                                                                        InvoiceNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('CustomerName')">
                                                                        <mat-checkbox class="me-2" name="CustomerName"
                                                                            [(ngModel)]="columnVisibility5.CustomerName"></mat-checkbox>
                                                                        CustomerName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('MobileNo')">
                                                                        <mat-checkbox class="me-2" name="MobileNo"
                                                                            [(ngModel)]="columnVisibility5.MobileNo"></mat-checkbox>
                                                                        MobileNo
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('ProductTypeName')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductTypeName"
                                                                            [(ngModel)]="columnVisibility5.ProductTypeName"></mat-checkbox>
                                                                        ProductTypeName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('ProductName')">
                                                                        <mat-checkbox class="me-2" name="ProductName"
                                                                            [(ngModel)]="columnVisibility5.ProductName"></mat-checkbox>
                                                                        ProductName
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('UnitPrice')">
                                                                        <mat-checkbox class="me-2" name="UnitPrice"
                                                                            [(ngModel)]="columnVisibility5.UnitPrice"></mat-checkbox>
                                                                        UnitPrice
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('Quantity')">
                                                                        <mat-checkbox class="me-2" name="Quantity"
                                                                            [(ngModel)]="columnVisibility5.Quantity"></mat-checkbox>
                                                                        Quantity
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('DiscountAmount')">
                                                                        <mat-checkbox class="me-2" name="DiscountAmount"
                                                                            [(ngModel)]="columnVisibility5.DiscountAmount"></mat-checkbox>
                                                                        DiscountAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('SubTotal')">
                                                                        <mat-checkbox class="me-2" name="SubTotal"
                                                                            [(ngModel)]="columnVisibility5.SubTotal"></mat-checkbox>
                                                                        SubTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('TAXType')">
                                                                        <mat-checkbox class="me-2" name="TAXType"
                                                                            [(ngModel)]="columnVisibility5.TAXType"></mat-checkbox>
                                                                        TAXType
                                                                    </button>
                                                                    <button (click)="toggleColumnVisibility5('TAX')">
                                                                        <mat-checkbox class="me-2" name="TAX"
                                                                            [(ngModel)]="columnVisibility5.TAX"></mat-checkbox>
                                                                        TAX
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('TAXAmount')">
                                                                        <mat-checkbox class="me-2" name="TAXAmount"
                                                                            [(ngModel)]="columnVisibility5.TAXAmount"></mat-checkbox>
                                                                        TAXAmount
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('GrandTotal')">
                                                                        <mat-checkbox class="me-2" name="GrandTotal"
                                                                            [(ngModel)]="columnVisibility5.GrandTotal"></mat-checkbox>
                                                                        GrandTotal
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('Barcode')">
                                                                        <mat-checkbox class="me-2" name="Barcode"
                                                                            [(ngModel)]="columnVisibility5.Barcode"></mat-checkbox>
                                                                        Barcode
                                                                    </button>

                                                                    <button
                                                                        (click)="toggleColumnVisibility5('PaymentStatus')">
                                                                        <mat-checkbox class="me-2" name="PaymentStatus"
                                                                            [(ngModel)]="columnVisibility5.PaymentStatus"></mat-checkbox>
                                                                        PaymentStatus
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('ProductStatus')">
                                                                        <mat-checkbox class="me-2" name="ProductStatus"
                                                                            [(ngModel)]="columnVisibility5.ProductStatus"></mat-checkbox>
                                                                        ProductStatus
                                                                    </button>

                                                                    <button
                                                                        (click)="toggleColumnVisibility5('ProductDeliveryDate')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductDeliveryDate"
                                                                            [(ngModel)]="columnVisibility5.ProductDeliveryDate"></mat-checkbox>
                                                                        ProductDeliveryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('ProductExpiryDate')">
                                                                        <mat-checkbox class="me-2"
                                                                            name="ProductExpiryDate"
                                                                            [(ngModel)]="columnVisibility5.ProductExpiryDate"></mat-checkbox>
                                                                        ProductExpiryDate
                                                                    </button>
                                                                    <button
                                                                        (click)="toggleColumnVisibility5('ShopName')">
                                                                        <mat-checkbox class="me-2" name="ShopName"
                                                                            [(ngModel)]="columnVisibility5.ShopName"></mat-checkbox>
                                                                        ShopName
                                                                    </button>


                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td *ngIf="columnVisibility5.InvoiceNo"></td>
                                                        <td *ngIf="columnVisibility5.CustomerName"></td>
                                                        <td *ngIf="columnVisibility5.MobileNo"></td>
                                                        <td *ngIf="columnVisibility5.ProductTypeName"></td>
                                                        <td *ngIf="columnVisibility5.ProductName"></td>
                                                        <td *ngIf="columnVisibility5.UnitPrice"></td>
                                                        <td *ngIf="columnVisibility5.Quantity">{{this.ExpirytotalQty}}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.DiscountAmount">
                                                            {{this.ExpirytotalDiscount}}</td>
                                                        <td *ngIf="columnVisibility5.SubTotal">
                                                            {{this.ExpirytotalUnitPrice}}</td>
                                                        <td *ngIf="columnVisibility5.TAXType"></td>
                                                        <td *ngIf="columnVisibility5.TAX"></td>
                                                        <td *ngIf="columnVisibility5.TAXAmount"
                                                            (click)="openModalExpiry(content6)">
                                                            {{this.ExpirytotalGstAmount}}</td>
                                                        <td *ngIf="columnVisibility5.GrandTotal">
                                                            {{this.ExpirytotalAmount}}</td>
                                                        <td *ngIf="columnVisibility5.Barcode"></td>
                                                        <td *ngIf="columnVisibility5.PaymentStatus"></td>
                                                        <td *ngIf="columnVisibility5.ProductStatus"></td>
                                                        <td *ngIf="columnVisibility5.ProductDeliveryDate"></td>
                                                        <td *ngIf="columnVisibility5.ProductExpiryDate"></td>
                                                        <td *ngIf="columnVisibility5.ShopName"></td>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-center">
                                                    <tr *ngFor=" let t of ExpiryList; let i = index ">
                                                        <td [ngClass]="{'ex_class': t.Color === true}">
                                                            {{ExpiryList.length-i }} </td>
                                                        <td *ngIf="columnVisibility5.InvoiceNo"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{t.BillInvoiceNo}}</td>
                                                        <td *ngIf="columnVisibility5.CustomerName"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{t.CustomerName}}</td>
                                                        <td *ngIf="columnVisibility5.MobileNo"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{t.CustomerMoblieNo1}}</td>
                                                        <td *ngIf="columnVisibility5.ProductTypeName"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{t.ProductTypeName}}</td>
                                                        <td *ngIf="columnVisibility5.ProductName"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.ProductName}}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.UnitPrice"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.UnitPrice }}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.Quantity"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.Quantity }}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.DiscountAmount"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{t.DiscountAmount }}</td>
                                                        <td *ngIf="columnVisibility5.SubTotal"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.SubTotal }}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.TAXType"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.GSTType}}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.TAX"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{t.GSTPercentage}}</td>
                                                        <td *ngIf="columnVisibility5.TAXAmount"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.GSTAmount }}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.GrandTotal"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.TotalAmount
                                                            }}</td>
                                                        <td *ngIf="columnVisibility5.Barcode"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.Barcode}}
                                                        </td>
                                                        <td *ngIf="columnVisibility5.PaymentStatus"
                                                            [ngClass]="{'ex_class': t.Color === true}">{{t.PaymentStatus
                                                            }}</td>
                                                        <td *ngIf="t.ProductStatus === 1 && columnVisibility5.ProductStatus"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            Deliverd </td>
                                                        <td *ngIf="t.ProductStatus === 0 && columnVisibility5.ProductStatus"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            pending </td>
                                                        <td *ngIf="columnVisibility5.ProductDeliveryDate"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{dateFormat(t.ProductDeliveryDate !== '0000-00-00' &&
                                                            t.ProductDeliveryDate != 'null' ? t.ProductDeliveryDate:
                                                            '-')}}</td>
                                                        <td *ngIf="columnVisibility5.ProductExpiryDate"
                                                            [ngClass]="{'ex_class': t.Color === true}">
                                                            {{dateFormat(t.ProductExpDate !== '0000-00-00' ?
                                                            t.ProductExpDate: '-')}}</td>

                                                        <td *ngIf="columnVisibility5.ShopName"
                                                            [ngClass]="{'ex_class': t.Color === true}"> {{
                                                            t.ShopName }} <span [style.color]="'blue'"
                                                                *ngIf="t.AreaName !== 'null'">({{t.AreaName}})</span>
                                                        </td>

                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </mat-tab>
                        </mat-tab-group>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- model Master-->
<ng-template #content3 role="document" let-modal>
    <div class="modal-header" style="height: 50px;">
        <h3 class="modal-title header pt-2" id="exampleModalLabel">TAX Amount List</h3>
        <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <div class="row">
            <table class="table table-striped table-hover table-sm table-bordered"
                style="border: 2px solid #fff !important;">
                <thead>
                    <tr>
                        <th>TAXType</th>
                        <th>TAXAmount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center" *ngFor="let gst of gstMaster let i = index;">
                        <td>{{gst.GSTType}}</td>
                        <td>{{gst.Amount.toFixed(2) }}</td>
                    </tr>
                </tbody>
                <tfoot class="text-center">
                    <tr>
                        <th style="color: red; font-weight: 600;">Total Amt</th>
                        <th style="color: red; font-weight: 600;">{{this.totalGstAmount }}</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</ng-template>

<!-- model detail-->
<ng-template #content role="document" let-modal>
    <div class="modal-header" style="height: 50px;">
        <h3 class="modal-title header pt-2" id="exampleModalLabel">TAX Amount List</h3>
        <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <div class="row">
            <table class="table table-striped table-hover table-sm table-bordered"
                style="border: 2px solid #fff !important;">
                <thead>
                    <tr>
                        <th>TAXType</th>
                        <th>TAXAmount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center" *ngFor="let gst of gstdetails let i = index;">
                        <td>{{gst.GSTType}}</td>
                        <td>{{gst.Amount.toFixed(2) }}</td>
                    </tr>
                </tbody>
                <tfoot class="text-center">
                    <tr>
                        <th style="color: red; font-weight: 600;">Total Amt</th>
                        <th style="color: red; font-weight: 600;">{{this.DetailtotalGstAmount }}</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</ng-template>

<!--Service model -->
<ng-template #content1 role="document" let-modal>
    <div class="modal-header" style="height: 50px;">
        <h3 class="modal-title header pt-2" id="exampleModalLabel">TAX Amount List</h3>
        <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <div class="row">
            <table class="table table-striped table-hover table-sm table-bordered"
                style="border: 2px solid #fff !important;">
                <thead>
                    <tr>
                        <th>TAXType</th>
                        <th>TAXAmount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center" *ngFor="let gst of gstService let i = index;">
                        <td>{{gst.GSTType}}</td>
                        <td>{{gst.Amount.toFixed(2) }}</td>
                    </tr>
                </tbody>
                <tfoot class="text-center">
                    <tr>
                        <th style="color: red; font-weight: 600;">Total Amt</th>
                        <th style="color: red; font-weight: 600;">{{this.ServicetotalGstAmount }}</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</ng-template>

<!--cancel model -->
<ng-template #content4 role="document" let-modal>
    <div class="modal-header" style="height: 50px;">
        <h3 class="modal-title header pt-2" id="exampleModalLabel">TAX Amount List</h3>
        <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <div class="row">
            <table class="table table-striped table-hover table-sm table-bordered"
                style="border: 2px solid #fff !important;">
                <thead>
                    <tr>
                        <th>TAXType</th>
                        <th>TAXAmount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center" *ngFor="let gst of gstcancels let i = index;">
                        <td>{{gst.GSTType}}</td>
                        <td>{{gst.Amount.toFixed(2) }}</td>
                    </tr>
                </tbody>
                <tfoot class="text-center">
                    <tr>
                        <th style="color: red; font-weight: 600;">Total Amt</th>
                        <th style="color: red; font-weight: 600;">{{this.totalGstAmount }}</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</ng-template>

<!--pending model -->
<ng-template #content5 role="document" let-modal>
    <div class="modal-header" style="height: 50px;">
        <h3 class="modal-title header pt-2" id="exampleModalLabel">TAX Amount List</h3>
        <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <div class="row">
            <table class="table table-striped table-hover table-sm table-bordered"
                style="border: 2px solid #fff !important;">
                <thead>
                    <tr>
                        <th>TAXType</th>
                        <th>TAXAmount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center" *ngFor="let gst of gstpending let i = index;">
                        <td>{{gst.GSTType}}</td>
                        <td>{{gst.Amount.toFixed(2) }}</td>
                    </tr>
                </tbody>
                <tfoot class="text-center">
                    <tr>
                        <th style="color: red; font-weight: 600;">Total Amt</th>
                        <th style="color: red; font-weight: 600;">{{this.totalGstAmount }}</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</ng-template>

<!-- model expiry-->
<ng-template #content6 role="document" let-modal>
    <div class="modal-header" style="height: 50px;">
        <h3 class="modal-title header pt-2" id="exampleModalLabel">TAX Amount List</h3>
        <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <div class="row">
            <table class="table table-striped table-hover table-sm table-bordered"
                style="border: 2px solid #fff !important;">
                <thead>
                    <tr>
                        <th>TAXType</th>
                        <th>TAXAmount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center" *ngFor="let gst of gstExpiry let i = index;">
                        <td>{{gst.GSTType}}</td>
                        <td>{{gst.Amount.toFixed(2) }}</td>
                    </tr>
                </tbody>
                <tfoot class="text-center">
                    <tr>
                        <th style="color: red; font-weight: 600;">Total Amt</th>
                        <th style="color: red; font-weight: 600;">{{this.DetailtotalGstAmount }}</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</ng-template>